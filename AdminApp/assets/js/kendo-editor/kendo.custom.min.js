!function(define){define("kendo.core.min",["jquery"],function(){var F={id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."},I={name:"@progress/kendo-ui",productName:"Kendo UI",productCodes:["KENDOUICOMPLETE","KENDOUI","KENDOUI","KENDOUICOMPLETE"],publishDate:0,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-ui/my-license/"},g=jQuery,v=window,M=void 0,P=v.kendo=v.kendo||{cultures:{}},u=g.extend,r=g.each,d=Array.isArray,E=g.noop,l=Math,e,z=v.JSON||{},f={},A=/%/,R=/\{(\d+)(:[^\}]+)?\}/g,N=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,W=/^(\+|-?)\d+(\.?)\d*$/,c="function",b="string",p="number",h="object",j="null",q="boolean",G="undefined",$="prefix",Y="aria-labelledby",K="aria-label",Q="_label",X={},J={},Z=[].slice,ee=["themeColor","fillMode","shape","size","rounded","positionMode"],te=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,d=false;if(typeof o==="boolean"){d=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&typeof o!=="function")o={};if(s===l){o=this;s--}for(;s<l;s++)if((r=arguments[s])!=null)for(n in r){if(n=="filters"||n=="concat"||n==":")continue;e=o[n];i=r[n];if(o===i)continue;if(d&&i&&(jQuery.isPlainObject(i)||(t=Array.isArray(i)))){if(t){t=false;a=e&&Array.isArray(e)?e:[]}else a=e&&jQuery.isPlainObject(e)?e:{};o[n]=te(d,a,i)}else if(i!==M)o[n]=i}return o};function ie(){}P.version="2022.2.621".replace(/^\s+|\s+$/g,""),ie.extend=function(e){var t=function(){},i,n=this,r=e&&e.init?e.init:function(){n.apply(this,arguments)},a;t.prototype=n.prototype;a=r.fn=r.prototype=new t;for(i in e)if(e[i]!=null&&e[i].constructor===Object)a[i]=u(true,{},t.prototype[i],e[i]);else a[i]=e[i];a.constructor=r;r.extend=n.extend;return r},ie.prototype._initOptions=function(e){this.options=rt({},this.options,e)};var ne=P.isFunction=function(e){return typeof e==="function"},re=function(){this._defaultPrevented=true},ae=function(){return this._defaultPrevented===true},oe=ie.extend({init:function(){this._events={}},bind:function(e,t,i){var n=this,r,a=typeof e===b?[e]:e,o,s,l,d=typeof t===c,u;if(t===M){for(r in e)n.bind(r,e[r]);return n}for(r=0,o=a.length;r<o;r++){e=a[r];l=d?t:t[e];if(l){if(i){s=l;l=function(){n.unbind(e,l);s.apply(n,arguments)};l.original=s}u=n._events[e]=n._events[e]||[];u.push(l)}}return n},one:function(e,t){return this.bind(e,t,true)},first:function(e,t){var i=this,n,r=typeof e===b?[e]:e,a,o,s=typeof t===c,l;for(n=0,a=r.length;n<a;n++){e=r[n];o=s?t:t[e];if(o){l=i._events[e]=i._events[e]||[];l.unshift(o)}}return i},trigger:function(e,t){var i=this,n=i._events[e],r,a;if(n){t=t||{};t.sender=i;t._defaultPrevented=false;t.preventDefault=re;t.isDefaultPrevented=ae;n=n.slice();for(r=0,a=n.length;r<a;r++)n[r].call(i,t);return t._defaultPrevented===true}return false},unbind:function(e,t){var i=this,n=i._events[e],r;if(e===M)i._events={};else if(n)if(t){for(r=n.length-1;r>=0;r--)if(n[r]===t||n[r].original===t)n.splice(r,1)}else i._events[e]=[];return i}});function se(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";else{var i=e.charAt(0),n=e.substring(1);if(i==="=")return"+("+n+")+";else if(i===":")return"+$kendoHtmlEncode("+n+")+";else return";"+e+";$kendoOutput+="}}var le=/^\w+/,de=/\$\{([^}]*)\}/g,ue=/\\\}/g,fe=/__CURLY__/g,ce=/\\#/g,pe=/__SHARP__/g,he=["","0","00","000","0000"];function m(e,t,i){e=e+"";t=t||2;i=t-e.length;if(i)return he[t].substring(0,i)+e;return e}e={paramName:"data",useWithBlock:true,render:function(e,t){var i,n,r="";for(i=0,n=t.length;i<n;i++)r+=e(t[i]);return r},compile:function(t,e){var i=u({},this,e),n=i.paramName,r=n.match(le)[0],a=i.useWithBlock,o="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",s,l,d;if(ne(t))return t;o+=a?"with("+n+"){":"";o+="$kendoOutput=";l=t.replace(ue,"__CURLY__").replace(de,"#=$kendoHtmlEncode($1)#").replace(fe,"}").replace(ce,"__SHARP__").split("#");for(d=0;d<l.length;d++)o+=se(l[d],d%2===0);o+=a?";}":";";o+="return $kendoOutput;";o=o.replace(pe,"#");try{s=new Function(r,o);s._slotCount=Math.floor(l.length/2);return s}catch(e){throw new Error(P.format("Invalid template:'{0}' Generated code:'{1}'",t,o))}}};var me=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_,ge,ve={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k,be={}.toString;if(typeof Date.prototype.toJSON!==c){Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?m(e.getUTCFullYear(),4)+"-"+m(e.getUTCMonth()+1)+"-"+m(e.getUTCDate())+"T"+m(e.getUTCHours())+":"+m(e.getUTCMinutes())+":"+m(e.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function _e(e){me.lastIndex=0;return me.test(e)?'"'+e.replace(me,function(e){var t=ve[e];return typeof t===b?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function ke(e,t){var i,n,r,a,o=_,s,l=t[e],d;if(l&&typeof l===h&&typeof l.toJSON===c)l=l.toJSON(e);if(typeof k===c)l=k.call(t,e,l);d=typeof l;if(d===b)return _e(l);else if(d===p)return isFinite(l)?String(l):j;else if(d===q||d===j)return String(l);else if(d===h){if(!l)return j;_+=ge;s=[];if(be.apply(l)==="[object Array]"){a=l.length;for(i=0;i<a;i++)s[i]=ke(i,l)||j;r=s.length===0?"[]":_?"[\n"+_+s.join(",\n"+_)+"\n"+o+"]":"["+s.join(",")+"]";_=o;return r}if(k&&typeof k===h){a=k.length;for(i=0;i<a;i++)if(typeof k[i]===b){n=k[i];r=ke(n,l);if(r)s.push(_e(n)+(_?": ":":")+r)}}else for(n in l)if(Object.hasOwnProperty.call(l,n)){r=ke(n,l);if(r)s.push(_e(n)+(_?": ":":")+r)}r=s.length===0?"{}":_?"{\n"+_+s.join(",\n"+_)+"\n"+o+"}":"{"+s.join(",")+"}";_=o;return r}}if(typeof z.stringify!==c)z.stringify=function(e,t,i){var n;_="";ge="";if(typeof i===p)for(n=0;n<i;n+=1)ge+=" ";else if(typeof i===b)ge=i;k=t;if(t&&typeof t!==c&&(typeof t!==h||typeof t.length!==p))throw new Error("JSON.stringify");return ke("",{"":e})};var we=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,ye=/^(n|c|p|e)(\d*)$/i,xe=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,Ce=/\,/g,O="",L=".",Te=",",B="#",V="0",Se="??",De="en-US",Fe={}.toString;function Ie(e){if(e){if(e.numberFormat)return e;if(typeof e===b){var t=P.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function Ee(e){if(e)e=Ie(e);return e||P.cultures.current}function ze(r,e,t){t=Ee(t);var a=t.calendars.standard,o=a.days,s=a.months;e=a.patterns[e]||e;return e.replace(we,function(e){var t;var i;var n;if(e==="d")i=r.getDate();else if(e==="dd")i=m(r.getDate());else if(e==="ddd")i=o.namesAbbr[r.getDay()];else if(e==="dddd")i=o.names[r.getDay()];else if(e==="M")i=r.getMonth()+1;else if(e==="MM")i=m(r.getMonth()+1);else if(e==="MMM")i=s.namesAbbr[r.getMonth()];else if(e==="MMMM")i=s.names[r.getMonth()];else if(e==="yy")i=m(r.getFullYear()%100);else if(e==="yyyy")i=m(r.getFullYear(),4);else if(e==="h")i=r.getHours()%12||12;else if(e==="hh")i=m(r.getHours()%12||12);else if(e==="H")i=r.getHours();else if(e==="HH")i=m(r.getHours());else if(e==="m")i=r.getMinutes();else if(e==="mm")i=m(r.getMinutes());else if(e==="s")i=r.getSeconds();else if(e==="ss")i=m(r.getSeconds());else if(e==="f")i=l.floor(r.getMilliseconds()/100);else if(e==="ff"){i=r.getMilliseconds();if(i>99)i=l.floor(i/10);i=m(i)}else if(e==="fff")i=m(r.getMilliseconds(),3);else if(e==="tt")i=r.getHours()<12?a.AM[0]:a.PM[0];else if(e==="zzz"){t=r.getTimezoneOffset();n=t<0;i=l.abs(t/60).toString().split(".")[0];t=l.abs(t)-i*60;i=(n?"+":"-")+m(i);i+=":"+m(t)}else if(e==="zz"||e==="z"){i=r.getTimezoneOffset()/60;n=i<0;i=l.abs(i).toString().split(".")[0];i=(n?"+":"-")+(e==="zz"?m(i):i)}return i!==M?i:e.slice(1,e.length-1)})}function Ae(e,t,i){i=Ee(i);var n=i.numberFormat,r=n[L],a=n.decimals,o=n.pattern[0],s=[],l,d,u,f,c,p=e<0,h,m,g,v,b=O,_=O,k,w,y,x,C,T,S,D,F,I,E,z,A,R=-1,N;if(e===M)return O;if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():e.toString();c=ye.exec(t);if(c){t=c[1].toLowerCase();d=t==="c";u=t==="p";if(d||u){n=d?n.currency:n.percent;r=n[L];a=n.decimals;l=n.symbol;o=n.pattern[p?0:1]}f=c[2];if(f)a=+f;if(t==="e"){var H=f?e.toExponential(a):e.toExponential();return H.replace(L,n[L])}if(u)e*=100;e=U(e,a);p=e<0;e=e.split(L);h=e[0];m=e[1];if(p)h=h.substring(1);_=Re(h,0,h.length,n);if(m)_+=r+m;if(t==="n"&&!p)return _;e=O;for(k=0,w=o.length;k<w;k++){y=o.charAt(k);if(y==="n")e+=_;else if(y==="$"||y==="%")e+=l;else e+=y}return e}if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)t=t.replace(xe,function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");s.push(i);return Se});t=t.split(";");if(p&&t[1]){t=t[1];C=true}else if(e===0&&t[2]){t=t[2];if(t.indexOf(B)==-1&&t.indexOf(V)==-1)return t}else t=t[0];E=t.indexOf("%");z=t.indexOf("$");u=E!=-1;d=z!=-1;if(u)e*=100;if(d&&t[z-1]==="\\"){t=t.split("\\").join("");d=false}if(d||u){n=d?n.currency:n.percent;r=n[L];a=n.decimals;l=n.symbol}x=t.indexOf(Te)>-1;if(x)t=t.replace(Ce,O);T=t.indexOf(L);w=t.length;if(T!=-1){m=e.toString().split("e");if(m[1])m=U(e,Math.abs(m[1]));else m=m[0];m=m.split(L)[1]||O;D=t.lastIndexOf(V)-T;S=t.lastIndexOf(B)-T;F=D>-1;I=S>-1;k=m.length;if(!F&&!I){t=t.substring(0,T)+t.substring(T+1);w=t.length;T=-1;k=0}if(F&&D>S)k=D;else if(S>D)if(I&&k>S){var P=U(e,S,p);while(P.charAt(P.length-1)===V&&S>0&&S>D){S--;P=U(e,S,p)}k=S}else if(F&&k<D)k=D}e=U(e,k,p);S=t.indexOf(B);A=D=t.indexOf(V);if(S==-1&&D!=-1)R=D;else if(S!=-1&&D==-1)R=S;else R=S>D?D:S;S=t.lastIndexOf(B);D=t.lastIndexOf(V);if(S==-1&&D!=-1)N=D;else if(S!=-1&&D==-1)N=S;else N=S>D?S:D;if(R==w)N=R;if(R!=-1){_=e.toString().split(L);h=_[0];m=_[1]||O;g=h.length;v=m.length;if(p&&e*-1>=0)p=false;e=t.substring(0,R);if(p&&!C)e+="-";for(k=R;k<w;k++){y=t.charAt(k);if(T==-1){if(N-k<g){e+=h;break}}else{if(D!=-1&&D<k)b=O;if(T-k<=g&&T-k>-1){e+=h;k=T}if(T===k){e+=(m?r:O)+m;k+=N-T+1;continue}}if(y===V){e+=y;b=y}else if(y===B)e+=b}if(x)e=Re(e,R+(p&&!C?1:0),Math.max(N,g+R),n);if(N>=R)e+=t.substring(N+1);if(d||u){_=O;for(k=0,w=e.length;k<w;k++){y=e.charAt(k);_+=y==="$"||y==="%"?l:y}e=_}w=s.length;if(w)for(k=0;k<w;k++)e=e.replace(Se,s[k])}return e}P.cultures["en-US"]={name:De,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},P.culture=function(e){var t=P.cultures,i;if(e!==M){i=Ie(e)||t[De];i.calendar=i.calendars.standard;t.current=i}else return t.current},P.findCulture=Ie,P.getCulture=Ee,P.culture(De);var Re=function(e,t,i,n){var r=e.indexOf(n[L]);var a=n.groupSize.slice();var o=a.shift();var s,l;var d,u,f;var c;i=r!==-1?r:i+1;s=e.substring(t,i);l=s.length;if(l>=o){d=l;u=[];while(d>-1){f=s.substring(d-o,d);if(f)u.push(f);d-=o;c=a.shift();o=c!==M?c:o;if(o===0){if(d>0)u.push(s.substring(0,d));break}}s=u.reverse().join(n[Te]);e=e.substring(0,t)+s+e.substring(i)}return e},U=function(e,t,i){t=t||0;e=e.toString().split("e");e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)));if(i)e=-e;e=e.toString().split("e");e=+(e[0]+"e"+(e[1]?+e[1]-t:-t));return e.toFixed(Math.min(t,20))},Ne=function(e,t,i){if(t)if(Fe.call(e)==="[object Date]")return ze(e,t,i);else if(typeof e===p)return Ae(e,t,i);return e!==M?e:""},Pe=(P.format=function(e){var r=arguments;return e.replace(R,function(e,t,i){var n=r[parseInt(t,10)+1];return Ne(n,i?i.substring(1):"")})},P._extractFormat=function(e){if(e.slice(0,3)==="{0:")e=e.slice(3,e.length-1);return e},P._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},P._round=U,P._outerWidth=function(e,t){return g(e).outerWidth(t||false)||0},P._outerHeight=function(e,t){return g(e).outerHeight(t||false)||0},P.toString=Ne,/\u00A0/g),He=/\s/g,Me=/[eE][\-+]?[0-9]+/,Oe=/[+|\-]\d{1,2}/,Le=/[+|\-]\d{1,2}:?\d{2}/,Be=/^\/Date\((.*?)\)\/$/,Ve=/[+-]\d*/,Ue=[[],["G","g","F"],["D","d","y","m","T","t"]],We=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],je={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},qe={}.toString;function H(e,t,i){return!(e>=t&&e<=i)}function Ge(e){return e.charAt(0)}function $e(e){return g.map(e,Ge)}function Ye(e,t){if(!t&&e.getHours()===23)e.setHours(e.getHours()+2)}function Ke(e){var t=0,i=e.length,n=[];for(;t<i;t++)n[t]=(e[t]+"").toLowerCase();return n}function Qe(e){var t={},i;for(i in e)t[i]=Ke(e[i]);return t}function Xe(d,i,e,t){if(!d)return null;var n=function(e){var t=0;while(i[g]===e){t++;g++}if(t>0)g-=1;return t},r=function(e){var t=je[e]||new RegExp("^\\d{1,"+e+"}"),i=d.substr(v,e).match(t);if(i){i=i[0];v+=i.length;return parseInt(i,10)}return null},a=function(e,t){var i=0,n=e.length,r,a,o=0,s=0,l;for(;i<n;i++){r=e[i];a=r.length;l=d.substr(v,a);if(t)l=l.toLowerCase();if(l==r&&a>o){o=a;s=i}}if(o){v+=o;return s+1}return null},o=function(){var e=false;if(d.charAt(v)===i[g]){v++;e=true}return e},s=e.calendars.standard,l=null,u=null,f=null,c=null,p=null,h=null,m=null,g=0,v=0,b=false,_=new Date,k=s.twoDigitYearMax||2029,w=_.getFullYear(),y,x,C,T,S,D,F,I,E,z,A,R,N;if(!i)i="d";T=s.patterns[i];if(T)i=T;i=i.split("");C=i.length;for(;g<C;g++){y=i[g];if(b)if(y==="'")b=false;else o();else if(y==="d"){x=n("d");if(!s._lowerDays)s._lowerDays=Qe(s.days);if(f!==null&&x>2)continue;f=x<3?r(2):a(s._lowerDays[x==3?"namesAbbr":"names"],true);if(f===null||H(f,1,31))return null}else if(y==="M"){x=n("M");if(!s._lowerMonths)s._lowerMonths=Qe(s.months);u=x<3?r(2):a(s._lowerMonths[x==3?"namesAbbr":"names"],true);if(u===null||H(u,1,12))return null;u-=1}else if(y==="y"){x=n("y");l=r(x);if(l===null)return null;if(x==2){if(typeof k==="string")k=w+parseInt(k,10);l=w-w%100+l;if(l>k)l-=100}}else if(y==="h"){n("h");c=r(2);if(c==12)c=0;if(c===null||H(c,0,11))return null}else if(y==="H"){n("H");c=r(2);if(c===null||H(c,0,23))return null}else if(y==="m"){n("m");p=r(2);if(p===null||H(p,0,59))return null}else if(y==="s"){n("s");h=r(2);if(h===null||H(h,0,59))return null}else if(y==="f"){x=n("f");N=d.substr(v,x).match(je[3]);m=r(x);if(m!==null){m=parseFloat("0."+N[0],10);m=P._round(m,3);m*=1e3}if(m===null||H(m,0,999))return null}else if(y==="t"){x=n("t");I=s.AM;E=s.PM;if(x===1){I=$e(I);E=$e(E)}S=a(E);if(!S&&!a(I))return null}else if(y==="z"){D=true;x=n("z");if(d.substr(v,1)==="Z"){o();continue}F=d.substr(v,6).match(x>2?Le:Oe);if(!F)return null;F=F[0].split(":");z=F[0];A=F[1];if(!A&&z.length>3){v=z.length-2;A=z.substring(v);z=z.substring(0,v)}z=parseInt(z,10);if(H(z,-12,13))return null;if(x>2){A=F[0][0]+A;A=parseInt(A,10);if(isNaN(A)||H(A,-59,59))return null}}else if(y==="'"){b=true;o()}else if(!o())return null}if(t&&!/^\s*$/.test(d.substr(v)))return null;R=c!==null||p!==null||h||null;if(l===null&&u===null&&f===null&&R){l=w;u=_.getMonth();f=_.getDate()}else{if(l===null)l=w;if(f===null)f=1}if(S&&c<12)c+=12;if(D){if(z)c+=-z;if(A)p+=-A;d=new Date(Date.UTC(l,u,f,c,p,h,m))}else{d=new Date(l,u,f,c,p,h,m);Ye(d,c)}if(l<100)d.setFullYear(l);if(d.getDate()!==f&&D===M)return null;return d}function Je(e){var t=e.substr(0,1)==="-"?-1:1;e=e.substring(1);e=parseInt(e.substr(0,2),10)*60+parseInt(e.substring(2),10);return t*e}function Ze(e){var t=l.max(Ue.length,We.length);var i=e.calendar||e.calendars.standard;var n=i.patterns;var r,a,o;var s=[];for(o=0;o<t;o++){r=Ue[o];for(a=0;a<r.length;a++)s.push(n[r[a]]);s=s.concat(We[o])}return s}function et(e,t,i,n){if(qe.call(e)==="[object Date]")return e;var r=0;var a=null;var o;var s;if(e&&e.indexOf("/D")===0){a=Be.exec(e);if(a){a=a[1];s=Ve.exec(a.substring(1));a=new Date(parseInt(a,10));if(s){s=Je(s[0]);a=P.timezone.apply(a,0);a=P.timezone.convert(a,0,-1*s)}return a}}i=P.getCulture(i);if(!t)t=Ze(i);t=d(t)?t:[t];o=t.length;for(;r<o;r++){a=Xe(e,t[r],i,n);if(a)return a}return a}function tt(e){var t=e.css(P.support.transitions.css+"box-shadow")||e.css("box-shadow"),i=t?t.match(N)||[0,0,0,0,0]:[0,0,0,0,0],n=l.max(+i[3],+(i[4]||0));return{left:-i[1]+n,right:+i[1]+n,bottom:+i[2]+n}}function it(e,t){var i,n=P._outerWidth,r=P._outerHeight,a=e.parent(),o=n(v);a.removeClass("k-animation-container-sm");if(!a.hasClass("k-animation-container")){var s=e[0].style.width,l=e[0].style.height,d=A.test(s),u=A.test(l),f=e.hasClass("k-tooltip")||e.is(".k-menu-horizontal.k-context-menu");i=d||u;if(!d&&(!t||t&&s||f))s=t?n(e)+1:n(e);if(!u&&(!t||t&&l)||e.is(".k-menu-horizontal.k-context-menu"))l=r(e);e.wrap(g("<div/>").addClass("k-animation-container").attr("role","region").css({width:s,height:l}));a=e.parent();if(i)e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}else nt(e,t);if(o<n(a)){a.addClass("k-animation-container-sm");nt(e,t)}return a}function nt(e,t){var i,n=P._outerWidth,r=P._outerHeight,a=e.parent(".k-animation-container"),o=a[0].style;if(a.is(":hidden"))a.css({display:"",position:""});i=A.test(o.width)||A.test(o.height);if(!i)a.css({width:t?n(e)+1:n(e),height:r(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function rt(e){var t=1,i=arguments.length;for(t=1;t<i;t++)at(e,arguments[t]);return e}function at(e,t){var i=P.data.ObservableArray,n=P.data.LazyObservableArray,r=P.data.DataSource,a=P.data.HierarchicalDataSource,o,s,l,d,u;for(o in t){s=t[o];l=typeof s;if(l===h&&s!==null)d=s.constructor;else d=null;if(d&&d!==Array&&d!==i&&d!==n&&d!==r&&d!==a&&d!==RegExp&&(!P.isFunction(v.ArrayBuffer)||d!==ArrayBuffer)&&!(s instanceof HTMLElement))if(s instanceof Date)e[o]=new Date(s.getTime());else if(ne(s.clone))e[o]=s.clone();else{u=e[o];if(typeof u===h)e[o]=u||{};else e[o]={};at(e[o],s)}else if(l!==G)e[o]=s}return e}function ot(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return i!==M?i:e}function st(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function lt(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function dt(e,t){var i={},n;if(document.defaultView&&document.defaultView.getComputedStyle){n=document.defaultView.getComputedStyle(e,"");if(t)g.each(t,function(e,t){i[t]=n.getPropertyValue(t)})}else{n=e.currentStyle;if(t)g.each(t,function(e,t){i[t]=n[lt(t)]})}if(!P.size(i))i=n;return i}function ut(e){if(e&&e.className&&typeof e.className==="string"&&e.className.indexOf("k-auto-scrollable")>-1)return true;var t=dt(e,["overflow"]).overflow;return t.indexOf("auto")>-1||t.indexOf("scroll")>-1}function ft(e,i){var t=f.browser.webkit;var n=f.browser.mozilla;var r=f.browser.version;var a,o;if(e instanceof g&&i!==M){e.each(function(e,t){ft(t,i)});return}else a=e instanceof g?e[0]:e;if(!a)return;o=f.isRtl(e);if(i!==M)if(o&&t&&(r<85||f.browser.safari))a.scrollLeft=a.scrollWidth-a.clientWidth-i;else if(o&&(n||t)&&i>0)a.scrollLeft=-i;else a.scrollLeft=i;else if(o&&t&&(r<85||f.browser.safari))return a.scrollWidth-a.clientWidth-a.scrollLeft;else return Math.abs(a.scrollLeft)}P.parseDate=function(e,t,i){return et(e,t,i,false)},P.parseExactDate=function(e,t,i){return et(e,t,i,true)},P.parseInt=function(e,t){var i=P.parseFloat(e,t);if(i)i=i|0;return i},P.parseFloat=function(e,t,i){if(!e&&e!==0)return null;if(typeof e===p)return e;e=e.toString();t=P.getCulture(t);var n=t.numberFormat,r=n.percent,a=n.currency,o=a.symbol,s=r.symbol,l=e.indexOf("-"),d,u;if(Me.test(e)){e=parseFloat(e.replace(n["."],"."));if(isNaN(e))e=null;return e}if(l>0)return null;else l=l>-1;if(e.indexOf(o)>-1||i&&i.toLowerCase().indexOf("c")>-1){n=a;d=n.pattern[0].replace("$",o).split("n");if(e.indexOf(d[0])>-1&&e.indexOf(d[1])>-1){e=e.replace(d[0],"").replace(d[1],"");l=true}}else if(e.indexOf(s)>-1){u=true;n=r;o=s}e=e.replace("-","").replace(o,"").replace(Pe," ").split(n[","].replace(Pe," ")).join("").replace(He,"").replace(n["."],".");e=parseFloat(e);if(isNaN(e))e=null;else if(l)e*=-1;if(e&&u)e/=100;return e},f._scrollbar=M,f.scrollbar=function(e){if(!isNaN(f._scrollbar)&&!e)return f._scrollbar;else{var t=document.createElement("div"),i;t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";t.innerHTML="&nbsp;";document.body.appendChild(t);f._scrollbar=i=t.offsetWidth-t.scrollWidth;document.body.removeChild(t);return i}},f.isRtl=function(e){return g(e).closest(".k-rtl").length>0};var ct=document.createElement("table");try{ct.innerHTML="<tr><td></td></tr>";f.tbodyInnerHtml=true}catch(e){f.tbodyInnerHtml=false}f.touch="ontouchstart"in v;var t=document.documentElement.style,n=f.transitions=false,pt=f.transforms=false,i="HTMLElement"in v?HTMLElement.prototype:[];f.hasHW3D="WebKitCSSMatrix"in v&&"m11"in new v.WebKitCSSMatrix||"MozPerspective"in t||"msPerspective"in t,f.cssFlexbox="flexWrap"in t||"WebkitFlexWrap"in t||"msFlexWrap"in t,r(["Moz","webkit","O","ms"],function(){var e=this.toString(),t=typeof ct.style[e+"Transition"]===b;if(t||typeof ct.style[e+"Transform"]===b){var i=e.toLowerCase();pt={css:i!="ms"?"-"+i+"-":"",prefix:e,event:i==="o"||i==="webkit"?i:""};if(t){n=pt;n.event=n.event?n.event+"TransitionEnd":"transitionend"}return false}}),ct=null,f.transforms=pt,f.transitions=n,f.devicePixelRatio=v.devicePixelRatio===M?1:v.devicePixelRatio;try{f.screenWidth=v.outerWidth||v.screen?v.screen.availWidth:v.innerWidth;f.screenHeight=v.outerHeight||v.screen?v.screen.availHeight:v.innerHeight}catch(e){f.screenWidth=v.screen.availWidth;f.screenHeight=v.screen.availHeight}f.detectOS=function(e){var t=false,i,n=[],r=!/mobile safari/i.test(e),a={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},s={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var d in a)if(a.hasOwnProperty(d)){n=e.match(a[d]);if(n){if(d=="windows"&&"plugins"in navigator)return false;t={};t.device=d;t.tablet=ot(d,s,false);t.browser=ot(e,l,"default");t.name=ot(d,o);t[t.name]=true;t.majorVersion=n[2];t.minorVersion=(n[3]||"0").replace("_",".");i=t.minorVersion.replace(".","").substr(0,2);t.flatVersion=t.majorVersion+i+new Array(3-(i.length<3?i.length:2)).join("0");t.cordova=typeof v.PhoneGap!==G||typeof v.cordova!==G;t.appMode=v.navigator.standalone||/file|local|wmapp/.test(v.location.protocol)||t.cordova;if(t.android&&(f.devicePixelRatio<1.5&&t.flatVersion<400||r)&&(f.screenWidth>800||f.screenHeight>800))t.tablet=d;break}}return t};var a=f.mobileOS=f.detectOS(navigator.userAgent);if(f.wpDevicePixelRatio=a.wp?screen.width/320:0,f.hasNativeScrolling=false,a.ios||a.android&&a.majorVersion>2||a.wp)f.hasNativeScrolling=a;if(f.delayedClick=function(){if(f.touch){if(a.ios)return true;if(a.android){if(!f.browser.chrome)return true;if(f.browser.version<32)return false;return!(g("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}}return false},f.mouseAndTouchPresent=f.touch&&!(f.mobileOS.ios||f.mobileOS.android),f.detectBrowser=function(e){var t=false,i=[],n=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var a in r)if(r.hasOwnProperty(a)){i=e.match(r[a]);if(i){t={};t[a]=true;t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=true;t.version=parseInt(document.documentMode||i[2],10);if(t.chrome){n=e.match(/(edg)[ \/]([\w.]+)/i);if(n)t.chromiumEdge=true}break}}return t},f.browser=f.detectBrowser(navigator.userAgent),!a&&f.touch&&f.browser.safari)a=f.mobileOS={ios:true,tablet:"tablet",device:"ipad"};f.detectClipboardAccess=function(){var e={copy:document.queryCommandSupported?document.queryCommandSupported("copy"):false,cut:document.queryCommandSupported?document.queryCommandSupported("cut"):false,paste:document.queryCommandSupported?document.queryCommandSupported("paste"):false};if(f.browser.chrome){e.paste=false;if(f.browser.version>=43){e.copy=true;e.cut=true}}return e},f.clipboard=f.detectClipboardAccess(),f.zoomLevel=function(){try{var e=f.browser;var t=0;var i=document.documentElement;if(e.msie&&e.version==11&&i.scrollHeight>i.clientHeight&&!f.touch)t=f.scrollbar();return f.touch?i.clientWidth/v.innerWidth:e.msie&&e.version>=10?((top||v).document.documentElement.offsetWidth+t)/(top||v).innerWidth:1}catch(e){return 1}};var o=f.browser,s="",ht=g(document.documentElement),mt=parseInt(o.version,10);if(o.msie)s="ie";else if(o.mozilla)s="ff";else if(o.safari)s="safari";else if(o.webkit)s="webkit";else if(o.opera)s="opera";else if(o.edge)s="edge";if(s)s="k-"+s+" k-"+s+mt;if(f.mobileOS)s+=" k-mobile";if(!f.cssFlexbox)s+=" k-no-flexbox";ht.addClass(s),f.eventCapture=document.documentElement.addEventListener;var w=document.createElement("input"),gt=(f.placeholder="placeholder"in w,f.propertyChangeEvent="onpropertychange"in w,f.input=function(){var e=["number","date","time","month","week","datetime","datetime-local"];var t=e.length;var i="test";var n={};var r=0;var a;for(;r<t;r++){a=e[r];w.setAttribute("type",a);w.value=i;n[a.replace("-","")]=w.type!=="text"&&w.value!==i}return n}(),w.style.cssText="float:left;",f.cssFloat=!!w.style.cssFloat,w=null,f.stableSort=function(){var e=513;var t=[{index:0,field:"b"}];for(var i=1;i<e;i++)t.push({index:i,field:"a"});t.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0});return t[0].index===1}(),f.matchesSelector=i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.matchesSelector||i.matches||function(e){var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:g(e),i=t.length;while(i--)if(t[i]==this)return true;return false},f.matchMedia="matchMedia"in v,f.pushState=v.history&&v.history.pushState,f.hashChange="onhashchange"in v,f.customElements="registerElement"in v.document,f.browser.chrome),vt=f.browser.crios,bt=f.browser.mozilla,_t=f.browser.safari;function kt(e){var t=0,i;for(i in e)if(e.hasOwnProperty(i)&&i!="toJSON")t++;return t}function wt(e,t,i){if(!t)t="offset";var n=e[t]();var r={top:n.top,right:n.right,bottom:n.bottom,left:n.left};if(f.browser.msie&&(f.pointers||f.msPointers)&&!i){var a=f.isRtl(e)?1:-1;r.top-=v.pageYOffset-document.documentElement.scrollTop;r.left-=v.pageXOffset+a*document.documentElement.scrollLeft}return r}f.msPointers=!gt&&v.MSPointerEvent,f.pointers=!gt&&!vt&&!bt&&!_t&&v.PointerEvent,f.kineticScrollNeeded=a&&(f.touch||f.msPointers||f.pointers);var yt={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}};function xt(e){var t={};r(typeof e==="string"?e.split(" "):e,function(e){t[e]=this});return t}function Ct(e){return new P.effects.Element(e)}var y={};function Tt(e,t,i,n){if(typeof e===b){if(ne(t)){n=t;t=400;i=false}if(ne(i)){n=i;i=false}if(typeof t===q){i=t;t=400}e={effects:e,duration:t,reverse:i,complete:n}}return u({effects:{},duration:400,reverse:false,init:E,teardown:E,hide:false},e,{completeCallback:e.complete,complete:E})}function St(e,t,i,n,r){var a=0,o=e.length,s;for(;a<o;a++){s=g(e[a]);s.queue(function(){y.promise(s,Tt(t,i,n,r))})}return e}function Dt(i,e,t,n){if(e){e=e.split(" ");r(e,function(e,t){i.toggleClass(t,n)})}return i}if(g.extend(y,{enabled:true,Element:function(e){this.element=g(e)},promise:function(e,t){if(!e.is(":visible"))e.css({display:e.data("olddisplay")||"block"}).css("display");if(t.hide)e.data("olddisplay",e.css("display")).hide();if(t.init)t.init();if(t.completeCallback)t.completeCallback(e);e.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}}),y.promiseShim=y.promise,!("kendoAnimate"in g.fn))u(g.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,i,n){return St(this,e,t,i,n)},kendoAddClass:function(e,t){return P.toggleClass(this,e,t,true)},kendoRemoveClass:function(e,t){return P.toggleClass(this,e,t,false)},kendoToggleClass:function(e,t,i){return P.toggleClass(this,e,t,i)}});var Ft=/&/g,It=/</g,Et=/"/g,zt=/'/g,At=/>/g;function Rt(e){return(""+e).replace(Ft,"&amp;").replace(It,"&lt;").replace(At,"&gt;").replace(Et,"&quot;").replace(zt,"&#39;")}function Nt(t){var i;try{i=v.decodeURIComponent(t)}catch(e){i=t.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(e,t,i){return String.fromCharCode(parseInt("0x"+(t||i),16))})}return i}var Pt=function(e){return e.target};if(f.touch){Pt=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target};r(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}})}if(f.touch)if(!f.mobileOS){f.mousedown="mousedown touchstart";f.mouseup="mouseup touchend";f.mousemove="mousemove touchmove";f.mousecancel="mouseleave touchcancel";f.click="click";f.resize="resize"}else{f.mousedown="touchstart";f.mouseup="touchend";f.mousemove="touchmove";f.mousecancel="touchcancel";f.click="touchend";f.resize="orientationchange"}else if(f.pointers){f.mousemove="pointermove";f.mousedown="pointerdown";f.mouseup="pointerup";f.mousecancel="pointercancel";f.click="pointerup";f.resize="orientationchange resize"}else if(f.msPointers){f.mousemove="MSPointerMove";f.mousedown="MSPointerDown";f.mouseup="MSPointerUp";f.mousecancel="MSPointerCancel";f.click="MSPointerUp";f.resize="orientationchange resize"}else{f.mousemove="mousemove";f.mousedown="mousedown";f.mouseup="mouseup";f.mousecancel="mouseleave";f.click="click";f.resize="resize"}var Ht=function(e,t){var i=t||"d",n,r,a,o,s=1;for(r=0,a=e.length;r<a;r++){o=e[r];if(o!==""){n=o.indexOf("[");if(n!==0)if(n==-1)o="."+o;else{s++;o="."+o.substring(0,n)+" || {})"+o.substring(n)}s++;i+=o+(r<a-1?" || {})":")")}}return new Array(s).join("(")+i},Mt=/^([a-z]+:)?\/\//i,x=(u(P,{widgets:[],_widgetRegisteredCallbacks:[],ui:P.ui||{},fx:P.fx||Ct,effects:P.effects||y,mobile:P.mobile||{},data:P.data||{},dataviz:P.dataviz||{},drawing:P.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:P.support||f,animate:P.animate||St,ns:"",attr:function(e){return"data-"+P.ns+e},getShadows:tt,wrap:it,deepExtend:rt,getComputedStyles:dt,isScrollable:ut,scrollLeft:ft,size:kt,toCamelCase:lt,toHyphens:st,getOffset:P.getOffset||wt,parseEffects:P.parseEffects||xt,toggleClass:P.toggleClass||Dt,directions:P.directions||yt,Observable:oe,Class:ie,Template:e,template:e.compile.bind(e),render:e.render.bind(e),stringify:z.stringify.bind(z),eventTarget:Pt,htmlEncode:Rt,unescape:Nt,isLocalUrl:function(e){return e&&!Mt.test(e)},expr:function(e,t,i){e=e||"";if(typeof t==b){i=t;t=false}i=i||"d";if(e&&e.charAt(0)!=="[")e="."+e;if(t){e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");e=Ht(e.split("."),i);e=e.replace(/_\$DOT\$_/g,".")}else e=i+e;return e},getter:function(e,t){var i=e+t;return X[i]=X[i]||new Function("d","return "+P.expr(e,t))},setter:function(e){return J[e]=J[e]||new Function("d,value",P.expr(e)+"=value")},accessor:function(e){return{get:P.getter(e),set:P.setter(e)}},guid:function(){var e="",t,i,n="abcdef";e+=n[Math.floor(Math.random()*Math.floor(n.length))];for(t=1;t<32;t++){i=l.random()*16|0;if(t==8||t==12||t==16||t==20)e+="-";e+=(t==12?4:t==16?i&3|8:i).toString(16)}return e},roleSelector:function(e){return e.replace(/(\S+)/g,"["+P.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t=e.split(" ");if(t)for(var i=0;i<t.length;i++)if(t[i]!="view")t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2");return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,i=P.widgets.length;t<i;t++)e(P.widgets[t]);P._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,t){var i=v.console;if(!P.suppressLog&&typeof i!="undefined"&&i.log)i[t||"log"](e)}}),oe.extend({init:function(e,t){var i=this;bi();i.element=P.jQuery(e).handler(i);i.angular("init",t);oe.fn.init.call(i);var n=t?t.dataSource:null;var r;if(t)r=(i.componentTypes||{})[(t||{}).componentType];if(n)t=u({},t,{dataSource:{}});t=i.options=u(true,{},i.options,i.defaults,r||{},t);if(n)t.dataSource=n;if(!i.element.attr(P.attr("role")))i.element.attr(P.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,i="tabindex",n=e.attr(i)||t.attr(i);t.removeAttr(i);e.attr(i,!isNaN(n)?n:0)},setOptions:function(e){this._clearCssClasses(e);this._setEvents(e);g.extend(this.options,e);this._applyCssClasses()},_setEvents:function(e){var t=this,i=0,n=t.events.length,r;for(;i<n;i++){r=t.events[i];if(t.options[r]&&e[r]){t.unbind(r,t.options[r]);if(t._events&&t._events[r])delete t._events[r]}}t.bind(t.events,e)},resize:function(e){var t=this.getSize(),i=this._size;if(e||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height)){this._size=t;this._resize(t,e);this.trigger("resize",t)}},getSize:function(){return P.dimensions(this.element)},size:function(e){if(!e)return this.getSize();else this.setSize(e)},setSize:g.noop,_resize:g.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name);e.element.removeData("handler");e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=true;e.call(this);this._muteRebind=false},_applyCssClasses:function(e){var t=this.__proto__.options,i=this.options,n=e||this.wrapper||this.element,r=[],a,o,s,l;if(!P.cssProperties.propertyDictionary[t.name])return;for(a=0;a<ee.length;a++){o=ee[a];l=this.options._altname||t.name;if(t.hasOwnProperty(o))if(o==="themeColor"){s=P.cssProperties.getValidClass({widget:l,propName:"fillMode",value:i.fillMode});if(s&&s.length)r.push(P.cssProperties.getValidClass({widget:l,propName:o,value:i[o],fill:i.fillMode}))}else r.push(P.cssProperties.getValidClass({widget:l,propName:o,value:i[o]}))}n.addClass(r.join(" "))},_ariaLabel:function(e){var t=this,i=t.element,n=i.attr("id"),r=g('label[for="'+n+'"]'),a=i.attr(K),o=i.attr(Y),s;if(e[0]===i[0])return;if(a)e.attr(K,a);else if(o)e.attr(Y,o);else if(r.length){s=r.attr("id")||t._generateLabelId(r,n||P.guid());e.attr(Y,s)}},_clearCssClasses:function(e,t){var i=this.__proto__.options,n=this.options,r=t||this.wrapper||this.element,a,o,s;if(!P.cssProperties.propertyDictionary[i.name])return;for(a=0;a<ee.length;a++){o=ee[a];s=this.options._altname||i.name;if(i.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o==="themeColor")r.removeClass(P.cssProperties.getValidClass({widget:s,propName:o,value:n[o],fill:n.fillMode}));else{if(o==="fillMode")r.removeClass(P.cssProperties.getValidClass({widget:s,propName:"themeColor",value:n.themeColor,fill:n.fillMode}));r.removeClass(P.cssProperties.getValidClass({widget:s,propName:o,value:n[o]}))}}},_generateLabelId:function(e,t){var i=t+Q;e.attr("id",i);return i}})),Ot=x.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var t=this;t.angular(e,function(){return{elements:t.items(),data:g.map(t.dataItems(),function(e){return{dataItem:e}})}})}}),Lt=(P.dimensions=function(e,t){var i=e[0];if(t)e.css(t);return{width:i.offsetWidth,height:i.offsetHeight}},P.notify=E,/template$/i),Bt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Vt=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,Ut=/([A-Z])/g;function Wt(e,t){var i;if(t.indexOf("data")===0){t=t.substring(4);t=t.charAt(0).toLowerCase()+t.substring(1)}t=t.replace(Ut,"-$1");i=e.getAttribute("data-"+P.ns+t);if(i===null)i=M;else if(i==="null")i=null;else if(i==="true")i=true;else if(i==="false")i=false;else if(W.test(i)&&t!="mask"&&t!="format")i=parseFloat(i);else if(Bt.test(i)&&!Vt.test(i))i=new Function("return ("+i+")")();return i}function jt(e,t,i){var n={},r,a,o=e.getAttribute("data-"+P.ns+"role");for(r in t){a=Wt(e,r);if(a!==M){if(Lt.test(r)&&o!="drawer")if(typeof a==="string"){if(g("#"+a).length)a=P.template(g("#"+a).html());else if(i)a=P.template(i[a])}else a=e.getAttribute(r);n[r]=a}}return n}function qt(e,t){return g.contains(e,t)?-1:1}function Gt(){var e=g(this);return g.inArray(e.attr("data-"+P.ns+"role"),["slider","rangeslider","breadcrumb"])>-1||e.is(":visible")}P.initWidget=function(e,t,i){var n,r,a,o,s,l,d,u,f,c;if(!i)i=P.ui.roles;else if(i.roles)i=i.roles;e=e.nodeType?e:e[0];l=e.getAttribute("data-"+P.ns+"role");if(!l)return;f=l.indexOf(".")===-1;if(f)a=i[l];else a=P.getter(l)(v);var p=g(e).data(),h=a?"kendo"+a.fn.options.prefix+a.fn.options.name:"";if(f)c=new RegExp("^kendo.*"+l+"$","i");else c=new RegExp("^"+h+"$","i");for(var m in p)if(m.match(c))if(m===h)n=p[m];else return p[m];if(!a)return;u=Wt(e,"dataSource");t=g.extend({},jt(e,g.extend({},a.fn.options,a.fn.defaults)),t);if(u)if(typeof u===b)t.dataSource=P.getter(u)(v);else t.dataSource=u;for(o=0,s=a.fn.events.length;o<s;o++){r=a.fn.events[o];d=Wt(e,r);if(d!==M)t[r]=P.getter(d)(v)}if(!n)n=new a(e,t);else if(!g.isEmptyObject(t))n.setOptions(t);return n},P.rolesFromNamespaces=function(e){var t=[],i,n;if(!e[0])e=[P.ui,P.dataviz.ui];for(i=0,n=e.length;i<n;i++)t[i]=e[i].roles;return u.apply(null,[{}].concat(t.reverse()))},P.init=function(e){var t=P.rolesFromNamespaces(Z.call(arguments,1));g(e).find("[data-"+P.ns+"role]").addBack().each(function(){P.initWidget(this,{},t)})},P.destroy=function(e){g(e).find("[data-"+P.ns+"role]").addBack().each(function(){var e=g(this).data();for(var t in e)if(t.indexOf("kendo")===0&&typeof e[t].destroy===c)e[t].destroy()})},P.resize=function(e,t){var i=g(e).find("[data-"+P.ns+"role]").addBack().filter(Gt);if(!i.length)return;var n=g.makeArray(i);n.sort(qt);g.each(n,function(){var e=P.widgetInstance(g(this));if(e)e.resize(t)})},P.parseOptions=jt,u(P.ui,{Widget:x,DataBoundWidget:Ot,roles:{},progress:function(e,t,i){var n=e.find(".k-loading-mask"),r=P.support,a=r.browser,o,s,l,d,u;i=g.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:false},i);u=i.opacity?"k-loading-mask k-opaque":"k-loading-mask";if(t){if(!n.length){o=r.isRtl(e);s=o?"right":"left";d=P.scrollLeft(e);l=a.webkit?!o?0:e[0].scrollWidth-e.width()-2*d:0;n=g(P.format("<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>",u,P.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(s,Math.abs(d)+l).prependTo(e)}}else if(n)n.remove()},plugin:function(e,t,i){var o=e.fn.options.name,n;t=t||P.ui;i=i||"";t[o]=e;t.roles[o.toLowerCase()]=e;n="getKendo"+i+o;o="kendo"+i+o;var r={name:o,widget:e,prefix:i||""};P.widgets.push(r);for(var a=0,s=P._widgetRegisteredCallbacks.length;a<s;a++)P._widgetRegisteredCallbacks[a](r);g.fn[o]=function(n){var r=this,a;if(typeof n===b){a=Z.call(arguments,1);this.each(function(){var e=g.data(this,o),t,i;if(!e)throw new Error(P.format("Cannot call method '{0}' of {1} before it is initialized",n,o));t=e[n];if(typeof t!==c)throw new Error(P.format("Cannot find method '{0}' of {1}",n,o));i=t.apply(e,a);if(i!==M){r=i;return false}})}else this.each(function(){return new e(this,n)});return r};g.fn[o].widget=e;g.fn[n]=function(){return this.data(o)}}}),P.ui.progress.messages={loading:"Loading..."};var $t={bind:function(){return this},nullObject:true,options:{}},Yt=x.extend({init:function(e,t){x.fn.init.call(this,e,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){x.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(P.roleSelector("view splitview modalview drawer"));return P.widgetInstance(e,P.mobile.ui)||$t},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(P.roleSelector("view layout modalview drawer splitview"));return P.widgetInstance(e.eq(0),P.mobile.ui)||$t}});function Kt(e,t){var i=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!e.disabled:i==="a"?e.href||t:t)&&Qt(e)}function Qt(e){return g.expr.pseudos.visible(e)&&!g(e).parents().addBack().filter(function(){return g.css(this,"visibility")==="hidden"}).length}u(P.mobile,{init:function(e){P.init(e,P.mobile.ui,P.ui,P.dataviz.ui)},appLevelNativeScrolling:function(){return P.mobile.application&&P.mobile.application.options&&P.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:Yt,DataBoundWidget:Ot.extend(Yt.prototype),roles:{},plugin:function(e){P.ui.plugin(e,P.mobile.ui,"Mobile")}}}),rt(P.dataviz,{init:function(e){P.init(e,P.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){P.ui.plugin(e,P.dataviz.ui)}},roles:{}}),P.touchScroller=function(e,i){if(!i)i={};i.useNative=true;return g(e).map(function(e,t){t=g(t);if(f.kineticScrollNeeded&&P.mobile.ui.Scroller&&!t.data("kendoMobileScroller")){t.kendoMobileScroller(i);return t.data("kendoMobileScroller")}else return false})[0]},P.preventDefault=function(e){e.preventDefault()},P.widgetInstance=function(e,t){var i=e.data(P.ns+"role"),n=[],r,a,o=e.data("kendoView");if(i){if(i==="content")i="scroller";if(i==="editortoolbar"){var s=e.data("kendoEditorToolbar");if(s)return s}if(i==="view"&&o)return o;if(t)if(t[0])for(r=0,a=t.length;r<a;r++)n.push(t[r].roles[i]);else n.push(t.roles[i]);else n=[P.ui.roles[i],P.dataviz.ui.roles[i],P.mobile.ui.roles[i]];if(i.indexOf(".")>=0)n=[P.getter(i)(v)];for(r=0,a=n.length;r<a;r++){var l=n[r];if(l){var d=e.data("kendo"+l.fn.options.prefix+l.fn.options.name);if(d)return d}}}},P.onResize=function(e){var t=e;if(f.mobileOS.android)t=function(){setTimeout(e,600)};g(v).on(f.resize,t);return t},P.unbindResize=function(e){g(v).off(f.resize,e)},P.attrValue=function(e,t){return e.data(P.ns+t)},P.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g.extend(g.expr.pseudos,{kendoFocusable:function(e){var t=g.attr(e,"tabindex");return Kt(e,!isNaN(t)&&t>-1)}});var Xt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Jt="label, input, [data-rel=external]",C={setupMouseMute:function(){var e=0,t=Xt.length,i=document.documentElement;if(C.mouseTrap||!f.eventCapture)return;C.mouseTrap=true;C.bustClick=false;C.captureMouse=false;var n=function(e){if(C.captureMouse)if(e.type==="click"){if(C.bustClick&&!g(e.target).is(Jt)){e.preventDefault();e.stopPropagation()}}else e.stopPropagation()};for(;e<t;e++)i.addEventListener(Xt[e],n,true)},muteMouse:function(e){C.captureMouse=true;if(e.data.bustClick)C.bustClick=true;clearTimeout(C.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(C.mouseTrapTimeoutID);C.mouseTrapTimeoutID=setTimeout(function(){C.captureMouse=false;C.bustClick=false},400)}},T={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(f.touch&&(f.mobileOS.ios||f.mobileOS.android))T={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"};else if(f.pointers)T={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};else if(f.msPointers)T={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"};if(f.msPointers&&!("onmspointerenter"in v))g.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,a){g.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,i=this,n=e.relatedTarget,r=e.handleObj;if(!n||n!==i&&!g.contains(i,n)){e.type=r.origType;t=r.handler.apply(this,arguments);e.type=a}return t}}});var Zt=function(e){return T[e]||e},ei=/([^ ]+)/g,ti=(P.applyEventMap=function(e,t){e=e.replace(ei,Zt);if(t)e=e.replace(ei,"$1."+t);return e},P.keyDownHandler=function(e,t){var i=t._events.kendoKeydown;if(!i)return true;i=i.slice();e.sender=t;e.preventKendoKeydown=false;for(var n=0,r=i.length;n<r;n++)i[n].call(t,e);return!e.preventKendoKeydown},g.fn.on);function S(e,t){return new S.fn.init(e,t)}te(true,S,g),(((S.fn=S.prototype=new g).constructor=S).fn.init=function(e,t){if(t&&t instanceof g&&!(t instanceof S))t=S(t);return g.fn.init.call(this,e,t,ii)}).prototype=S.fn;var ii=S(document),ni=(u(S.fn,{handler:function(e){this.data("handler",e);return this},autoApplyNS:function(e){this.data("kendoNS",e||P.guid());return this},on:function(){var e=this,t=e.data("kendoNS");if(arguments.length===1)return ti.call(e,arguments[0]);var i=e,n=Z.call(arguments);if(typeof n[n.length-1]===G)n.pop();var r=n[n.length-1],a=P.applyEventMap(n[0],t);if(f.mouseAndTouchPresent&&a.search(/mouse|click/)>-1&&this[0]!==document.documentElement){C.setupMouseMute();var o=n.length===2?null:n[1],s=a.indexOf("click")>-1&&a.indexOf("touchend")>-1;ti.call(this,{touchstart:C.muteMouse,touchend:C.unMuteMouse},o,{bustClick:s})}if(arguments[0].indexOf("keydown")!==-1&&n[1]&&n[1].options){n[0]=a;var l=n[1];var d=n[n.length-1];n[n.length-1]=function(e){if(P.keyDownHandler(e,l))return d.apply(this,[e])};ti.apply(e,n);return e}if(typeof r===b){i=e.data("handler");r=i[r];n[n.length-1]=function(e){r.call(i,e)}}n[0]=a;ti.apply(e,n);return e},kendoDestroy:function(e){e=e||this.data("kendoNS");if(e)this.off("."+e);return this}}),P.jQuery=S,P.eventMap=T,P.timezone=function(){var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function s(e,t){var i;var n;var r;var a=t[3];var o=t[4];var s=t[5];var l=t[8];if(!l)t[8]=l={};if(l[e])return l[e];if(!isNaN(o))i=new Date(Date.UTC(e,d[a],o,s[0],s[1],s[2],0));else if(o.indexOf("last")===0){i=new Date(Date.UTC(e,d[a]+1,1,s[0]-24,s[1],s[2],0));n=u[o.substr(4,3)];r=i.getUTCDay();i.setUTCDate(i.getUTCDate()+n-r-(n>r?7:0))}else if(o.indexOf(">=")>=0){i=new Date(Date.UTC(e,d[a],o.substr(5),s[0],s[1],s[2],0));n=u[o.substr(0,3)];r=i.getUTCDay();i.setUTCDate(i.getUTCDate()+n-r+(n<r?7:0))}else if(o.indexOf("<=")>=0){i=new Date(Date.UTC(e,d[a],o.substr(5),s[0],s[1],s[2],0));n=u[o.substr(0,3)];r=i.getUTCDay();i.setUTCDate(i.getUTCDate()+n-r-(n>r?7:0))}return l[e]=i}function a(e,t,i){t=t[i];if(!t){var n=i.split(":");var r=0;if(n.length>1)r=n[0]*60+Number(n[1]);return[-1e6,"max","-","Jan",1,[0,0,0],r,"-"]}var a=new Date(e).getUTCFullYear();t=jQuery.grep(t,function(e){var t=e[0];var i=e[1];return t<=a&&(i>=a||t==a&&i=="only"||i=="max")});t.push(e);t.sort(function(e,t){if(typeof e!="number")e=Number(s(a,e));if(typeof t!="number")t=Number(s(a,t));return e-t});var o=t[jQuery.inArray(e,t)-1]||t[t.length-1];return isNaN(o)?o:null}function o(e,t,i){var n=t[i];if(typeof n==="string")n=t[n];if(!n)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var r=n.length-1;r>=0;r--){var a=n[r][3];if(a&&e>a)break}var o=n[r+1];if(!o)throw new Error('Timezone "'+i+'" not found on '+e+".");return o}function l(e,t,i,n){if(typeof e!=p)e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var r=o(e,t,n);return{zone:r,rule:a(e,i,r[1])}}function e(e,t){if(t=="Etc/UTC"||t=="Etc/GMT")return 0;var i=l(e,this.zones,this.rules,t);var n=i.zone;var r=i.rule;return P.parseFloat(r?n[0]-r[6]:n[0])}function t(e,t){var i=l(e,this.zones,this.rules,t);var n=i.zone;var r=i.rule;var a=n[2];if(a.indexOf("/")>=0)return a.split("/")[r&&+r[6]?1:0];else if(a.indexOf("%s")>=0)return a.replace("%s",!r||r[7]=="-"?"":r[7]);return a}function i(e,t,i){var n=i;var r;if(typeof t==b)t=this.offset(e,t);if(typeof i==b)i=this.offset(e,i);var a=e.getTimezoneOffset();e=new Date(e.getTime()+(t-i)*6e4);var o=e.getTimezoneOffset();if(typeof n==b)n=this.offset(e,n);r=o-a+(i-n);return new Date(e.getTime()+r*6e4)}function n(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function r(e,t){return this.convert(e,t,e.getTimezoneOffset())}function f(e){return this.apply(new Date(e),"Etc/UTC")}return{zones:{},rules:{},offset:e,convert:i,apply:n,remove:r,abbr:t,toLocalDate:f}}(),P.date=function(){var a=6e4,o=864e5;function r(e,t){if(t===0&&e.getHours()===23){e.setHours(e.getHours()+2);return true}return false}function n(e,t,i){var n=e.getHours();i=i||1;t=(t-e.getDay()+7*i)%7;e.setDate(e.getDate()+t);r(e,n)}function i(e,t,i){e=new Date(e);n(e,t,i);return e}function s(e){return new Date(e.getFullYear(),e.getMonth(),1)}function e(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=s(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());if(n)t.setHours(i.getHours()+n/60);return t}function t(e){return new Date(e.getFullYear(),0,1)}function l(e){return new Date(e.getFullYear(),11,31)}function d(e,t){if(t!==1)return v(i(e,t,-1),4);return v(e,4-(e.getDay()||7))}function u(e,t){var i=new Date(e.getFullYear(),0,1,-6);var n=d(e,t);var r=n.getTime()-i.getTime();var a=Math.floor(r/o);return 1+Math.floor(a/7)}function f(e,t){if(t===M)t=P.culture().calendar.firstDay;var i=v(e,-7);var n=v(e,7);var r=u(e,t);if(r===0)return u(i,t)+1;if(r===53&&u(n,t)>1)return 1;return r}function c(e){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);r(e,0);return e}function p(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function h(e){return y(e).getTime()-c(y(e))}function m(e,t,i){var n=h(t),r=h(i),a;if(!e||n==r)return true;if(t>=i)i+=o;a=h(e);if(n>a)a+=o;if(r<n)r+=o;return a>=n&&a<=r}function g(e,t,i){var n=t.getTime(),r=i.getTime(),a;if(n>=r)r+=o;a=e.getTime();return a>=n&&a<=r}function v(e,t){var i=e.getHours();e=new Date(e);b(e,t*o);r(e,i);return e}function b(e,t,i){var n=e.getTimezoneOffset();var r;e.setTime(e.getTime()+t);if(!i){r=e.getTimezoneOffset()-n;e.setTime(e.getTime()+r*a)}}function _(e,t){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());r(e,t.getHours());return e}function k(){return c(new Date)}function w(e){return c(e).getTime()==k().getTime()}function y(e){var t=new Date(1980,1,1,0,0,0);if(e)t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return t}function x(e,t){var i=new Date(e);return new Date(i.setFullYear(i.getFullYear()+t))}return{adjustDST:r,dayOfWeek:i,setDayOfWeek:n,getDate:c,isInDateRange:g,isInTimeRange:m,isToday:w,nextDay:function(e){return v(e,1)},previousDay:function(e){return v(e,-1)},toUtcTime:p,MS_PER_DAY:o,MS_PER_HOUR:60*a,MS_PER_MINUTE:a,setTime:b,setHours:_,addDays:v,today:k,toInvariantTime:y,firstDayOfMonth:s,lastDayOfMonth:e,weekInYear:f,getMilliseconds:h,firstDayOfYear:t,lastDayOfYear:l,nextYear:function(e){return x(e,1)},previousYear:function(e){return x(e,-1)}}}(),P.stripWhitespace=function(t){if(document.createNodeIterator){var e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(e.nextNode())if(e.referenceNode&&!e.referenceNode.textContent.trim())e.referenceNode.parentNode.removeChild(e.referenceNode)}else for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];if(n.nodeType==3&&!/\S/.test(n.nodeValue)){t.removeChild(n);i--}if(n.nodeType==1)P.stripWhitespace(n)}},v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame||v.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}),D=(P.animationFrame=function(e){ni.call(v,e)},[]),ri=(P.queueAnimation=function(e){D[D.length]=e;if(D.length===1)P.runNextAnimation()},P.runNextAnimation=function(){P.animationFrame(function(){if(D[0]){D.shift()();if(D[0])P.runNextAnimation()}})},P.parseQueryStringParams=function(e){var t=e.split("?")[1]||"",i={},n=t.split(/&|=/),r=n.length,a=0;for(;a<r;a+=2)if(n[a]!=="")i[decodeURIComponent(n[a])]=decodeURIComponent(n[a+1]);return i},P.elementUnderCursor=function(e){if(typeof e.x.client!="undefined")return document.elementFromPoint(e.x.client,e.y.client)},P.wheelDeltaY=function(e){var t=e.originalEvent,i=t.wheelDeltaY,n;if(t.wheelDelta){if(i===M||i)n=t.wheelDelta}else if(t.detail&&t.axis===t.VERTICAL_AXIS)n=-t.detail*10;return n},P.throttle=function(r,a){var o;var s=0;if(!a||a<=0)return r;var e=function(){var e=this;var t=+new Date-s;var i=arguments;function n(){r.apply(e,i);s=+new Date}if(!s)return n();if(o)clearTimeout(o);if(t>a)n();else o=setTimeout(n,a-t)};e.cancel=function(){clearTimeout(o)};return e},P.caret=function(e,t,i){var n;var r=t!==M;if(i===M)i=t;if(e[0])e=e[0];if(r&&e.disabled)return;try{if(e.selectionStart!==M)if(r){e.focus();var a=f.mobileOS;if(a.wp||a.android)setTimeout(function(){e.setSelectionRange(t,i)},0);else e.setSelectionRange(t,i)}else t=[e.selectionStart,e.selectionEnd];else if(document.selection){if(g(e).is(":visible"))e.focus();n=e.createTextRange();if(r){n.collapse(true);n.moveStart("character",t);n.moveEnd("character",i-t);n.select()}else{var o=n.duplicate(),s,l;n.moveToBookmark(document.selection.createRange().getBookmark());o.setEndPoint("EndToStart",n);s=o.text.length;l=s+n.text.length;t=[s,l]}}}catch(e){t=[]}return t},P.compileMobileDirective=function(t,i){var e=v.angular;t.attr("data-"+P.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));e.element(t).injector().invoke(["$compile",function(e){e(t)(i);if(!/^\$(digest|apply)$/.test(i.$$phase))i.$digest()}]);return P.widgetInstance(t,P.mobile.ui)},P.antiForgeryTokens=function(){var e={},t=g("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=g("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");g("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value});if(i!==M&&t!==M)e[i]=t;return e},P.cycleForm=function(e){var t=e.find("input, .k-widget, .k-dropdownlist, .k-combobox").first();var i=e.find("button, .k-button").last();function n(e){var t=P.widgetInstance(e);if(t&&t.focus)t.focus();else e.trigger("focus")}i.on("keydown",function(e){if(e.keyCode==P.keys.TAB&&!e.shiftKey){e.preventDefault();n(t)}});t.on("keydown",function(e){if(e.keyCode==P.keys.TAB&&e.shiftKey){e.preventDefault();n(i)}})},P.focusElement=function(t){var i=[];var e=t.parentsUntil("body").filter(function(e,t){var i=P.getComputedStyles(t,["overflow"]);return i.overflow!=="visible"}).add(v);e.each(function(e,t){i[e]=g(t).scrollTop()});try{t[0].setActive()}catch(e){t[0].focus()}e.each(function(e,t){g(t).scrollTop(i[e])})},P.focusNextElement=function(){if(document.activeElement){var e=g(":kendoFocusable");var t=e.index(document.activeElement);if(t>-1){var i=e[t+1]||e[0];i.focus()}}},P.trim=function(e){if(!!e)return e.toString().trim();else return""},P.getWidgetFocusableElement=function(e){var t=e.closest(":kendoFocusable"),i=P.widgetInstance(e),n;if(t.length)n=t;else if(i)n=i.options.name==="Editor"?g(i.body):i.wrapper.find(":kendoFocusable").first();else n=e;return n},P.addAttribute=function(e,t,i){var n=e.attr(t)||"";if(n.indexOf(i)<0)e.attr(t,(n+" "+i).trim())},P.removeAttribute=function(e,t,i){var n=e.attr(t)||"";e.attr(t,n.replace(i,"").trim())},P.toggleAttribute=function(e,t,i){var n=e.attr(t)||"";if(n.indexOf(i)<0)P.addAttribute(e,t,i);else P.removeAttribute(e,t,i)},P.matchesMedia=function(e){var t=P._bootstrapToMedia(e)||e;return f.matchMedia&&v.matchMedia(t).matches},P._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},P.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},P.getFileGroup=function(e,t){var i=P.fileGroupMap;var n=Object.keys(i);var r="file";if(e===M||!e.length)return r;for(var a=0;a<n.length;a+=1){var o=i[n[a]];if(o.indexOf(e.toLowerCase())>-1)return t?"file-"+n[a]:n[a]}return r},P.getFileSizeMessage=function(e){var t=["Bytes","KB","MB","GB","TB"];if(e===0)return"0 Byte";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return Math.round(e/Math.pow(1024,i),2)+" "+t[i]},P.selectorFromClasses=function(e){return"."+e.split(" ").join(".")},["base","primary","secondary","tertiary","inherit","info","success","warning","error","dark","light","inverse"]),ai=["solid","outline","flat"],oi=["rectangle","square"],si=[["small","sm"],["medium","md"],["large","lg"]],li=[["small","sm"],["medium","md"],["large","lg"]],di=["fixed","static","sticky","absolute"],ui=["both","horizontal","vertical"],fi=["auto","hidden","visible","scroll","clip"];function ci(e,t,i,n){var r=g("<form>").attr({action:i,method:"POST",target:n});var a=P.antiForgeryTokens();a.fileName=t;var o=e.split(";base64,");a.contentType=o[0].replace("data:","");a.base64=o[1];for(var s in a)if(a.hasOwnProperty(s))g("<input>").attr({value:a[s],name:s,type:"hidden"}).appendTo(r);r.appendTo("body").submit().remove()}P.cssProperties=function(){var n={},e={};function t(e,t){var i=P.cssProperties.propertyDictionary;if(!i[e])i[e]={};i[e][$]=t}function i(e,t){var i=P.cssProperties.propertyDictionary,n,r,a,o,s,l;for(n=0;n<t.length;n++){a=t[n].prop;s=t[n].values;if(!i[e][a])i[e][a]={};o=i[e][a];for(r=0;r<s.length;r++){l=s[r];if(d(s[r]))o[l[0]]=l[1];else o[l]=l}}}function r(e,t,i){if(!n[e])n[e]={};n[e][t]=i||t}function a(e,t){for(var i=0;i<t.length;i++)if(d(t[i]))r(e,t[i][0],t[i][1]);else r(e,t[i])}function o(e){var t=e.widget,i=e.propName,n=e.value,r=e.fill,a=P.cssProperties,o=a.defaultValues[i],s=a.propertyDictionary[t],l,d,u;if(!s)return"";l=s[i];d=l?l[n]||o[n]:o[n];if(d){if(i==="themeColor")u=s[$]+r+"-";else if(i==="positionMode")u="k-pos-";else if(i==="rounded")u="k-rounded-";else if(i==="resize")u="k-resize-";else if(i==="overflow")u="k-overflow-";else u=s[$];return u+d}else return""}a("themeColor",ri);a("fillMode",ai);a("shape",oi);a("size",si);a("positionMode",di);a("rounded",li);a("resize",ui);a("overflow",fi);return{positionModeValues:di,roundedValues:li,sizeValues:si,shapeValues:oi,fillModeValues:ai,themeColorValues:ri,defaultValues:n,propertyDictionary:e,registerValues:i,getValidClass:o,registerPrefix:t}}(),P.registerCssClass=function(e,t,i){if(!P.propertyToCssClassMap[e])P.propertyToCssClassMap[e]={};P.propertyToCssClassMap[e][t]=i||t},P.registerCssClasses=function(e,t){for(var i=0;i<t.length;i++)if(d(t[i]))P.registerCssClass(e,t[i][0],t[i][1]);else P.registerCssClass(e,t[i])},P.getValidCssClass=function(e,t,i){var n=P.propertyToCssClassMap[t][i];if(n)return e+n},P.propertyToCssClassMap={},P.registerCssClasses("themeColor",ri),P.registerCssClasses("fill",ai),P.registerCssClasses("shape",oi),P.registerCssClasses("size",si),P.registerCssClasses("positionMode",di),P.whenAll=function(e){var n=arguments.length==1&&Array.isArray(e)?e:Array.prototype.slice.call(arguments),t=n.length,r=t,a=g.Deferred(),i=0,o=0,s=Array(t),l=Array(t),d=Array(t),u;function f(e,t,i){return function(){if(i!=n)o++;a.notifyWith(t[e]=this,i[e]=Array.prototype.slice.call(arguments));if(!--r)a[(!o?"resolve":"reject")+"With"](t,i)}}for(;i<t;i++)if((u=n[i])&&P.isFunction(u.promise))u.promise().done(f(i,d,n)).fail(f(i,s,l));else{a.notifyWith(this,u);--r}if(!r)a.resolveWith(d,n);return a.promise()};var pi=document.createElement("a"),hi="download"in pi&&!P.support.browser.edge;function mi(e,t){var i=e;if(typeof e=="string"){var n=e.split(";base64,");var r=n[0];var a=atob(n[1]);var o=new Uint8Array(a.length);for(var s=0;s<a.length;s++)o[s]=a.charCodeAt(s);i=new Blob([o.buffer],{type:r})}navigator.msSaveBlob(i,t)}function gi(e,t){if(v.Blob&&e instanceof Blob)e=URL.createObjectURL(e);pi.download=t;pi.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",true,false,v,0,0,0,0,0,false,false,false,false,0,null);pi.dispatchEvent(i);setTimeout(function(){URL.revokeObjectURL(e)})}P.saveAs=function(e){var t=ci;if(!e.forceProxy)if(hi)t=gi;else if(navigator.msSaveBlob)t=mi;t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)},P.proxyModelSetters=function e(i){var n={};Object.keys(i||{}).forEach(function(t){Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){i[t]=e;i.dirty=true}})});return n},P.getSeriesColors=function(){var e='<div class="k-var--series-a"></div>'+'<div class="k-var--series-b"></div>'+'<div class="k-var--series-c"></div>'+'<div class="k-var--series-d"></div>'+'<div class="k-var--series-e"></div>'+'<div class="k-var--series-f"></div>',t=g(e),i=[];t.appendTo(g("body"));t.each(function(e,t){i.push(g(t).css("background-color"))});t.remove();return i},P.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},P.defaults=P.defaults||{},P.setDefaults=function(e,t){var i=e.split(".");var n=P.defaults;e=i.pop();i.forEach(function(e){if(n[e]===M)n[e]={};n=n[e]});if(t.constructor===Object)n[e]=rt({},n[e],t);else n[e]=t},P.class2type={},jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){P.class2type["[object "+t+"]"]=t.toLowerCase()}),P.type=function(e){if(e==null)return e+"";return typeof e==="object"||typeof e==="function"?P.class2type[Object.prototype.toString.call(e)]||"object":typeof e};var vi={validatePackage:function(){},setScriptKey:function(){}};function bi(){vi.validatePackage(I)}return v.KendoLicensing={setScriptKey:vi.setScriptKey},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.odata.min",["kendo.core.min"],function(){var e={id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:true},n=window.kendo.jQuery,p=void 0,h=window.kendo,l=n.extend,d="\r\n",u="\r\n\r\n",f=h.isFunction,m={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isnullorempty:"eq",isnotnullorempty:"ne",isempty:"eq",isnotempty:"ne"},g=l({},m,{contains:"contains"}),s={pageSize:n.noop,page:n.noop,filter:function(e,t,i){if(t){t=v(t,i);if(t)e.$filter=t}},sort:function(e,t){var i=n.map(t,function(e){var t=e.field.replace(/\./g,"/");if(e.dir==="desc")t+=" desc";return t}).join(",");if(i)e.$orderby=i},skip:function(e,t){if(t)e.$skip=t},take:function(e,t){if(t)e.$top=t}},c={read:{dataType:"jsonp"}};function v(e,t){var i=[],n=e.logic||"and",r,a,o,s,l,d,u,f,c=e.filters;for(r=0,a=c.length;r<a;r++){e=c[r];o=e.field;u=e.value;d=e.operator;if(e.filters)e=v(e,t);else{f=e.ignoreCase;o=o.replace(/\./g,"/");e=m[d];if(t)e=g[d];if(d==="isnullorempty")e=h.format("{0} {1} null or {0} {1} ''",o,e);else if(d==="isnotnullorempty")e=h.format("{0} {1} null and {0} {1} ''",o,e);else if(d==="isnull"||d==="isnotnull")e=h.format("{0} {1} null",o,e);else if(d==="isempty"||d==="isnotempty")e=h.format("{0} {1} ''",o,e);else if(e&&u!==p){s=h.type(u);if(s==="string"){l="'{1}'";u=u.replace(/'/g,"''");if(f===true)o="tolower("+o+")"}else if(s==="date")if(t){l="{1:yyyy-MM-ddTHH:mm:ss+00:00}";u=h.timezone.apply(u,"Etc/UTC")}else l="datetime'{1:yyyy-MM-ddTHH:mm:ss}'";else l="{1}";if(e.length>3)if(e!=="substringof")l="{0}({2},"+l+")";else{l="{0}("+l+",{2})";if(d==="doesnotcontain")if(t){l="{0}({2},'{1}') eq -1";e="indexof"}else l+=" eq false"}else l="{2} {0} "+l;e=h.format(l,e,u,o)}}i.push(e)}e=i.join(" "+n+" ");if(i.length>1)e="("+e+")";return e}function i(e){for(var t in e)if(t.indexOf("@odata")===0)delete e[t]}function t(){return Math.floor((1+Math.random())*65536).toString(16).substr(1)}function b(e){return e+t()+"-"+t()+"-"+t()}function _(e,t){var i=d+"--"+e;if(t)i+="--";return i}function k(e,t,i,n){var r=e.options[n].url;var a=h.format("{0} ",i);if(f(r))return a+r(t);else return a+r}function w(e,t){var i="";i+=_(e,false);i+=d+"Content-Type: application/http";i+=d+"Content-Transfer-Encoding: binary";i+=d+"Content-ID: "+t;return i}function y(e){var t="";t+=d+"Content-Type: application/json;odata=minimalmetadata";t+=d+"Prefer: return=representation";t+=u+h.stringify(e);return t}function x(e,t,i,n,r,a){var o="";for(var s=0;s<e.length;s++){o+=w(t,i);o+=u+k(r,e[s],r.options[n].type,n)+" HTTP/1.1";if(!a)o+=y(e[s]);o+=d;i++}return o}function C(e,t,i,n,r,a,o){var s="";s+=T(t,i);s+=x(e,i,n,a,r,o);s+=_(i,true);s+=d;return s}function T(e,t){var i="";i+="--"+e+d;i+="Content-Type: multipart/mixed; boundary="+t+d;return i}function o(e,t){var i=l({},e.options.batch);var n=b("sf_batch_");var r="";var a=0;var o=e.options.batch.url;var s=b("sf_changeset_");i.type=e.options.batch.type;i.url=f(o)?o():o;i.headers=l(i.headers||{},{"Content-Type":"multipart/mixed; boundary="+n});if(t.updated.length){r+=C(t.updated,n,s,a,e,"update",false);a+=t.updated.length;s=b("sf_changeset_")}if(t.destroyed.length){r+=C(t.destroyed,n,s,a,e,"destroy",true);a+=t.destroyed.length;s=b("sf_changeset_")}if(t.created.length)r+=C(t.created,n,s,a,e,"create",false);r+=_(n,true);i.data=r;return i}function S(e){var t=e.match(/--changesetresponse_[a-z0-9-]+$/gm);var i=0;var n=[];var r;var a;var o;var s;var l;n.push({models:[],passed:true});for(var d=0;d<t.length;d++){s=t[d];if(s.lastIndexOf("--",s.length-1)){if(d<t.length-1)n.push({models:[],passed:true});continue}if(!i)i=e.indexOf(s);else i=e.indexOf(s,i+s.length);r=e.substring(i,e.indexOf("--",i+1));a=r.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop();o=h.parseFloat(a.match(/\d{3}/g).pop());if(o>=200&&o<=299){l=r.match(/\{.*\}/gm);if(l)n[n.length-1].models.push(JSON.parse(l[0]))}else n[n.length-1].passed=false}return n}return l(true,h.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(e,t,i){var n,r,a,o;e=e||{};t=t||"read";o=(this.options||c)[t];o=o?o.dataType:"json";if(t==="read"){n={$inlinecount:"allpages"};if(o!="json")n.$format="json";for(a in e)if(s[a])s[a](n,e[a],i);else n[a]=e[a]}else{if(o!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(a in e){r=e[a];if(typeof r==="number")e[a]=r+""}n=h.stringify(e)}}return n}}}}),l(true,h.data,{schemas:{"odata-v4":{type:"json",data:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)i(e[t]);return e}else{e=n.extend({},e);i(e);if(e.value)return e.value;return[e]}},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var i=h.data.transports.odata.parameterMap(e,t,true);if(t=="read"){i.$count=true;delete i.$inlinecount}if(i&&i.$filter)i.$filter=i.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/gi,function(e){return e.substring(1,e.length-1)});return i},submit:function(r){var e=this;var t=o(e,r.data);var a=r.data;if(!a.updated.length&&!a.destroyed.length&&!a.created.length)return;n.ajax(l(true,{},{success:function(e){var t=S(e);var i=0;var n;if(a.updated.length){n=t[i];if(n.passed)r.success(n.models.length?n.models:[],"update");i++}if(a.destroyed.length){n=t[i];if(n.passed)r.success([],"destroy");i++}if(a.created.length){n=t[i];if(n.passed)r.success(n.models,"create")}},error:function(e,t,i){r.error(e,t,i)}},t))}}}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.xml.min",["kendo.core.min"],function(){var e={id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:true},r=window.kendo.jQuery,f=void 0,c=window.kendo,p=Array.isArray,h=r.isPlainObject,m=r.map,g=r.each,v=r.extend,t=c.getter,i,n=c.Class.extend({init:function(e){var i=this,t=e.total,r=e.model,n=e.parse,a=e.errors,o=e.serialize,s=e.data;if(r){if(h(r)){var l=e.modelBase||c.data.Model;if(r.fields)g(r.fields,function(e,t){if(h(t)&&t.field){if(!c.isFunction(t.field))t=v(t,{field:i.getter(t.field)})}else t={field:i.getter(t)};r.fields[e]=t});var d=r.id;if(d){var u={};u[i.xpathToMember(d,true)]={field:i.getter(d)};r.fields=v(u,r.fields);r.id=i.xpathToMember(d)}r=l.define(r)}i.model=r}if(t)if(typeof t=="string"){t=i.getter(t);i.total=function(e){return parseInt(t(e),10)}}else if(typeof t=="function")i.total=t;if(a)if(typeof a=="string"){a=i.getter(a);i.errors=function(e){return a(e)||null}}else if(typeof a=="function")i.errors=a;if(s)if(typeof s=="string"){s=i.xpathToMember(s);i.data=function(e){var t=i.evaluate(e,s),n;t=p(t)?t:[t];if(i.model&&r.fields){n=new i.model;return m(t,function(e){if(e){var t={},i;for(i in r.fields)t[i]=n._parse(i,r.fields[i].field(e));return t}})}return t}}else if(typeof s=="function")i.data=s;if(typeof n=="function"){var f=i.parse;i.parse=function(e){var t=n.call(i,e);return f.call(i,t)}}if(typeof o=="function")i.serialize=o},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var t={},i,n,r,a,o,s,l=e.attributes,d=l.length,u;for(u=0;u<d;u++){s=l[u];t["@"+s.nodeName]=s.nodeValue}for(n=e.firstChild;n;n=n.nextSibling){r=n.nodeType;if(r===3||r===4)t["#text"]=n.nodeValue;else if(r===1){i=this.parseDOM(n);a=n.nodeName;o=t[a];if(p(o))o.push(i);else if(o!==f)o=[o,i];else o=i;t[a]=o}}return t},evaluate:function(e,t){var i=t.split("."),n,r,a,o,s;while(n=i.shift()){e=e[n];if(p(e)){r=[];t=i.join(".");for(s=0,a=e.length;s<a;s++){o=this.evaluate(e[s],t);o=p(o)?o:[o];r.push.apply(r,o)}return r}}return e},parse:function(e){var t,i,n={};t=e.documentElement||r.parseXML(e).documentElement;i=this.parseDOM(t);n[t.nodeName]=i;return n},xpathToMember:function(e,t){if(!e)return"";e=e.replace(/^\//,"").replace(/\//g,".");if(e.indexOf("@")>=0)return e.replace(/\.?(@.*)/,t?"$1":'["$1"]');if(e.indexOf("text()")>=0)return e.replace(/(\.?text\(\))/,t?"#text":'["#text"]');return e},getter:function(e){return t(this.xpathToMember(e),true)}});return r.extend(true,c.data,{XmlDataReader:n,readers:{xml:n}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],function(){var i={id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-signalr",name:"SignalR",description:"Support for binding to SignalR hubs.",depends:["data.signalr"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]},v=window.kendo.jQuery,S=void 0,m=v.extend,g=v.isPlainObject,b=v.isEmptyObject,u=Array.isArray,O=v.grep,n=v.ajax,_,k=v.each,p=v.noop,w=window.kendo,h=w.isFunction,o=w.Observable,e=w.Class,y="string",L="function",B="asc",V="create",U="read",W="update",j="destroy",x="change",q="sync",G="get",a="error",f="requestStart",s="progress",C="requestEnd",r="itemsLoaded",$="itemLoad",Y=[V,U,W,j],t=function(e){return e},T=w.getter,K=w.stringify,D=Math,Q=[].push,X,J=[].pop,Z=[].splice,ee=[].shift,c=[].slice,te=[].unshift,ie={}.toString,ne=w.support.stableSort,re=/^\/Date\((.*?)\)\/$/,ae=[],F=o.extend({init:function(e,t){var i=this;i.type=t||d;o.fn.init.call(i);i.length=e.length;i.wrapAll(e,i);i._loadPromises=[];i._loadedNodes=[]},at:function(e){return this[e]},toJSON:function(e){var t,i=this.length,n,r=new Array(i);for(t=0;t<i;t++){n=this[t];if(n instanceof d)n=n.toJSON(e);r[t]=n}return r},parent:p,wrapAll:function(e,t){var i=this,n,r,a=function(){return i};t=t||[];for(n=0,r=e.length;n<r;n++)t[n]=i.wrap(e[n],a);return t},wrap:function(i,e){var n=this,t;if(i!==null&&ie.call(i)==="[object Object]"){t=i instanceof n.type||i instanceof I;if(!t){i=i instanceof d?i.toJSON():i;i=new n.type(i)}i.parent=e;i.bind(x,function(e){var t=i.hasOwnProperty("hasSubgroups");n.trigger(x,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node||t?e.action||"itemloaded":"itemchange"})});i.bind($,function(t){n._loadPromises.push(t.promise);n._loading=true;t.promise.done(function(){n._loadedNodes.push(t.node);var e=n._loadPromises.indexOf(t.promise);n._loadPromises.splice(e,1);if(!n._loadPromises.length){n._loading=false;n.trigger(r,{collection:n,nodes:n._loadedNodes});n._loadedNodes=[]}})})}return i},loading:function(){return this._loading},push:function(){var e=this.length,t=this.wrapAll(arguments),i;i=Q.apply(this,t);if(!this.omitChangeEvent)this.trigger(x,{action:"add",index:e,items:t});return i},slice:c,sort:[].sort,join:[].join,pop:function(){var e=this.length,t=J.apply(this);if(e)this.trigger(x,{action:"remove",index:e-1,items:[t]});return t},splice:function(e,t,i){var n=this.wrapAll(c.call(arguments,2)),r,a,o;r=Z.apply(this,[e,t].concat(n));if(r.length){if(!this.omitChangeEvent)this.trigger(x,{action:"remove",index:e,items:r});for(a=0,o=r.length;a<o;a++)if(r[a]&&r[a].children)r[a].unbind(x)}if(i)if(!this.omitChangeEvent)this.trigger(x,{action:"add",index:e,items:n});return r},shift:function(){var e=this.length,t=ee.apply(this);if(e)this.trigger(x,{action:"remove",index:0,items:[t]});return t},unshift:function(){var e=this.wrapAll(arguments),t;t=te.apply(this,e);this.trigger(x,{action:"add",index:0,items:e});return t},indexOf:function(e){var t=this,i,n;for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(e,t){var i=0;var n=this.length;var r=t||window;for(;i<n;i++)e.call(r,this[i],i,this)},map:function(e,t){var i=0;var n=[];var r=this.length;var a=t||window;for(;i<r;i++)n[i]=e.call(a,this[i],i,this);return n},reduce:function(e){var t=0,i,n=this.length;if(arguments.length==2)i=arguments[1];else if(t<n)i=this[t++];for(;t<n;t++)i=e(i,this[t],t,this);return i},reduceRight:function(e){var t=this.length-1,i;if(arguments.length==2)i=arguments[1];else if(t>0)i=this[t--];for(;t>=0;t--)i=e(i,this[t],t,this);return i},filter:function(e,t){var i=0;var n=[];var r;var a=this.length;var o=t||window;for(;i<a;i++){r=this[i];if(e.call(o,r,i,this))n[n.length]=r}return n},find:function(e,t){var i=0;var n;var r=this.length;var a=t||window;for(;i<r;i++){n=this[i];if(e.call(a,n,i,this))return n}},every:function(e,t){var i=0;var n;var r=this.length;var a=t||window;for(;i<r;i++){n=this[i];if(!e.call(a,n,i,this))return false}return true},some:function(e,t){var i=0;var n;var r=this.length;var a=t||window;for(;i<r;i++){n=this[i];if(e.call(a,n,i,this))return true}return false},remove:function(e){var t=this.indexOf(e);if(t!==-1)this.splice(t,1)},empty:function(){this.splice(0,this.length)}});if(typeof Symbol!=="undefined"&&Symbol.iterator&&!F.prototype[Symbol.iterator])F.prototype[Symbol.iterator]=[][Symbol.iterator];var oe=F.extend({init:function(e,t,i){var n=function(){return this};o.fn.init.call(this);this.type=t||d;if(i)this._events=i;for(var r=0;r<e.length;r++)this[r]=e[r];this.length=r;this._parent=n.bind(this)},at:function(e){var t=this[e];if(!(t instanceof this.type))t=this[e]=this.wrap(t,this._parent);else t.parent=this._parent;return t}});function se(n,r,a,o){return function(e){var t={},i;for(i in e)t[i]=e[i];if(o)t.field=a+"."+e.field;else t.field=a;if(r==x&&n._notifyChange)n._notifyChange(t);n.trigger(r,t)}}function le(e,t){var i=[];var n,r;e=e||{};n=Object.getOwnPropertyNames(e);r=ae.filter(function(e){return n.indexOf(e)<0});while(e){Object.getOwnPropertyNames(e).forEach(function(e){if(i.indexOf(e)===-1&&(!t||r.indexOf(e)<0))i.push(e)});e=Object.getPrototypeOf(e)}return i}ae=le({},false);var d=o.extend({init:function(t){var i=this,n,e=le(t,true),r=function(){return i};o.fn.init.call(this);this._handlers={};e.forEach(function(e){n=t[e];if(typeof n==="object"&&n&&!n.getTime&&e.charAt(0)!="_")n=i.wrap(n,e,r);i[e]=n});i.uid=w.guid()},shouldSerialize:function(e,t){return this.hasOwnProperty(e)&&e!=="_handlers"&&e!=="_events"&&(t&&t[e]||typeof this[e]!==L)&&e!=="uid"},forEach:function(e){for(var t in this)if(this.shouldSerialize(t))e(this[t],t)},toJSON:function(e){var t={},i,n;for(n in this)if(this.shouldSerialize(n,e)){i=this[n];if(i instanceof d||i instanceof F)i=i.toJSON(e);t[n]=i}return t},get:function(e){var t=this,i;t.trigger(G,{field:e});if(e==="this")i=t;else i=w.getter(e,true)(t);return i},_set:function(e,t){var i=this;var n=e.indexOf(".")>=0;if(n){var r=e.split("."),a="";while(r.length>1){a+=r.shift();var o=w.getter(a,true)(i);if(o instanceof d){o.set(r.join("."),t);return n}a+="."}}w.setter(e)(i,t);return n},set:function(e,t){var i=this,n=false,r=e.indexOf(".")>=0,a=w.getter(e,true)(i);if(a!==t){if(a instanceof o&&this._handlers[e]){if(this._handlers[e].get)a.unbind(G,this._handlers[e].get);a.unbind(x,this._handlers[e].change)}n=i.trigger("set",{field:e,value:t});if(!n){if(!r)t=i.wrap(t,e,function(){return i});if(!i._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)i.trigger(x,{field:e})}}return n},parent:p,wrap:function(e,t,i){var n=this;var r;var a;var o=ie.call(e);if(e!=null&&(o==="[object Object]"||o==="[object Array]")){var s=e instanceof F;var l=e instanceof H;if(o==="[object Object]"&&!l&&!s){if(!(e instanceof d))e=new d(e);r=se(n,G,t,true);e.bind(G,r);a=se(n,x,t,true);e.bind(x,a);n._handlers[t]={get:r,change:a}}else if(o==="[object Array]"||s||l){if(!s&&!l)e=new F(e);a=se(n,x,t,false);e.bind(x,a);n._handlers[t]={change:a}}e.parent=i}return e}});function de(e,t){if(e===t)return true;var i=w.type(e),n=w.type(t),r;if(i!==n)return false;if(i==="date")return e.getTime()===t.getTime();if(i!=="object"&&i!=="array")return false;for(r in e)if(!de(e[r],t[r]))return false;return true}var ue={number:function(e){if(typeof e===y&&e.toLowerCase()==="null")return null;return w.parseFloat(e)},date:function(e){if(typeof e===y&&e.toLowerCase()==="null")return null;return w.parseDate(e)},boolean:function(e){if(typeof e===y)if(e.toLowerCase()==="null")return null;else return e.toLowerCase()==="true";return e!=null?!!e:e},string:function(e){if(typeof e===y&&e.toLowerCase()==="null")return null;return e!=null?e+"":e},default:function(e){return e}},fe={string:"",number:0,date:new Date,boolean:false,default:""};function ce(e,t){var i,n;for(n in e){i=e[n];if(g(i)&&i.field&&i.field===t)return i;else if(i===t)return i}return null}var I=d.extend({init:function(e){var t=this;if(!e||v.isEmptyObject(e)){e=v.extend({},t.defaults,e);if(t._initializers)for(var i=0;i<t._initializers.length;i++){var n=t._initializers[i];e[n]=t.defaults[n]()}}d.fn.init.call(t,e);t.dirty=false;t.dirtyFields={};if(t.idField){t.id=t.get(t.idField);if(t.id===S)t.id=t._defaultId}},shouldSerialize:function(e){return d.fn.shouldSerialize.call(this,e)&&e!=="uid"&&!(this.idField!=="id"&&e==="id")&&e!=="dirty"&&e!=="dirtyFields"&&e!=="_accessors"},_parse:function(e,t){var i=this,n=e,r=i.fields||{},a;e=r[e];if(!e)e=ce(r,n);if(e){a=e.parse;if(!a&&e.type)a=ue[e.type.toLowerCase()]}return a?a(t):t},_notifyChange:function(e){var t=e.action;if(t=="add"||t=="remove"){this.dirty=true;this.dirtyFields[e.field]=true}},editable:function(e){e=(this.fields||{})[e];return e?e.editable!==false:true},set:function(e,t){var i=this;var n=i.dirty;if(i.editable(e)){t=i._parse(e,t);if(!de(t,i.get(e))){i.dirty=true;i.dirtyFields[e]=true;if(d.fn.set.call(i,e,t)&&!n){i.dirty=n;if(!i.dirty)i.dirtyFields[e]=false}}else i.trigger("equalSet",{field:e,value:t})}},accept:function(e){var t=this,i=function(){return t},n;for(n in e){var r=e[n];if(n.charAt(0)!="_")r=t.wrap(e[n],n,i);t._set(n,r)}if(t.idField)t.id=t.get(t.idField);t.dirty=false;t.dirtyFields={}},isNew:function(){return this.id===this._defaultId}}),l=(I.define=function(e,t){if(t===S){t=e;e=I}var i,n=m({defaults:{}},t),r,a,o,s,l,d,u={},f,c=n.id,p=[];if(c)n.idField=c;if(n.id)delete n.id;if(c)n.defaults[c]=n._defaultId="";if(ie.call(n.fields)==="[object Array]"){for(l=0,d=n.fields.length;l<d;l++){a=n.fields[l];if(typeof a===y)u[a]={};else if(a.field)u[a.field]=a}n.fields=u}for(r in n.fields){a=n.fields[r];o=a.type||"default";s=null;f=r;r=typeof a.field===y?a.field:r;if(!a.nullable){s=n.defaults[f!==r?f:r]=a.defaultValue!==S?a.defaultValue:fe[o.toLowerCase()];if(typeof s==="function")p.push(r)}if(t.id===r)n._defaultId=s;n.defaults[f!==r?f:r]=s;a.parse=a.parse||ue[o]}if(p.length>0)n._initializers=p;i=e.extend(n);i.define=function(e){return I.define(i,e)};if(n.fields){i.fields=n.fields;i.idField=n.idField}return i},{selector:function(e){return h(e)?e:T(e)},compare:function(e){var i=this.selector(e);return function(e,t){e=i(e);t=i(t);if(e==null&&t==null)return 0;if(e==null)return-1;if(t==null)return 1;if(e.localeCompare)return e.localeCompare(t);return e>t?1:e<t?-1:0}},create:function(e){var i=e.compare||this.compare(e.field);if(e.dir=="desc")return function(e,t){return i(t,e,true)};return i},combine:function(a){return function(e,t){var i=a[0](e,t),n,r;for(n=1,r=a.length;n<r;n++)i=i||a[n](e,t);return i}}}),pe=m({},l,{asc:function(e){var r=this.selector(e);return function(e,t){var i=r(e);var n=r(t);if(i&&i.getTime&&n&&n.getTime){i=i.getTime();n=n.getTime()}if(i===n)return e.__position-t.__position;if(i==null)return-1;if(n==null)return 1;if(i.localeCompare)return i.localeCompare(n);return i>n?1:-1}},desc:function(e){var r=this.selector(e);return function(e,t){var i=r(e);var n=r(t);if(i&&i.getTime&&n&&n.getTime){i=i.getTime();n=n.getTime()}if(i===n)return e.__position-t.__position;if(i==null)return 1;if(n==null)return-1;if(n.localeCompare)return n.localeCompare(i);return i<n?1:-1}},create:function(e){return this[e.dir](e.field)}}),he=(_=function(e,t){var i,n=e.length,r=new Array(n);for(i=0;i<n;i++)r[i]=t(e[i],i,e);return r},function(){function o(e){if(typeof e=="string")e=e.replace(/[\r\n]+/g,"");return JSON.stringify(e)}function e(r){return function(e,t,i,n){t+="";if(i){e="("+e+" + '').toString()"+(n?".toLocaleLowerCase('"+n+"')":".toLowerCase()");t=n?t.toLocaleLowerCase(n):t.toLowerCase()}return r(e,o(t),i)}}function r(e,t,i,n,r){if(i!=null){if(typeof i===y){var a=re.exec(i);if(a)i=new Date(+a[1]);else if(n){i=o(r?i.toLocaleLowerCase(r):i.toLowerCase());t="(("+t+" || '')+'')"+(r?".toLocaleLowerCase('"+r+"')":".toLowerCase()")}else i=o(i)}if(i.getTime){t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")";i=i.getTime()}}return t+" "+e+" "+i}function i(e){for(var t="/^",i=false,n=0;n<e.length;++n){var r=e.charAt(n);if(i)t+="\\"+r;else if(r=="~"){i=true;continue}else if(r=="*")t+=".*";else if(r=="?")t+=".";else if(".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(r)>=0)t+="\\"+r;else t+=r;i=false}return t+"$/"}return{quote:function(e){if(e&&e.getTime)return"new Date("+e.getTime()+")";return o(e)},eq:function(e,t,i,n){return r("==",e,t,i,n)},neq:function(e,t,i,n){return r("!=",e,t,i,n)},gt:function(e,t,i){return r(">",e,t,i)},gte:function(e,t,i){return r(">=",e,t,i)},lt:function(e,t,i){return r("<",e,t,i)},lte:function(e,t,i){return r("<=",e,t,i)},startswith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") >= 0"}),doesnotendwith:e(function(e,t){var i=t?t.length-2:0;return e+".indexOf("+t+", "+e+".length - "+i+") < 0"}),contains:e(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:e(function(e,t){return e+".indexOf("+t+") == -1"}),matches:e(function(e,t){t=t.substring(1,t.length-1);return i(t)+".test("+e+")"}),doesnotmatch:e(function(e,t){t=t.substring(1,t.length-1);return"!"+i(t)+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}());function E(e){this.data=e||[]}function z(e,t){if(e){var i=typeof e===y?{field:e,dir:t}:e,n=u(i)?i:i!==S?[i]:[];return O(n,function(e){return!!e.dir})}}function me(e,t){var i={};if(e){var n=typeof e===y?{field:e,dir:t}:e,r=u(n)?n:n!==S?[n]:[];for(var a=0;a<r.length;a++)i[r[a].field]={dir:r[a].dir,index:a+1}}return i}E.filterExpr=function(e){var t=[],i={and:" && ",or:" || "},n,r,a,o,s=[],l=[],d,u,f=e.filters;for(n=0,r=f.length;n<r;n++){a=f[n];d=a.field;u=a.operator;if(a.filters){o=E.filterExpr(a);a=o.expression.replace(/__o\[(\d+)\]/g,function(e,t){t=+t;return"__o["+(l.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){t=+t;return"__f["+(s.length+t)+"]"});l.push.apply(l,o.operators);s.push.apply(s,o.fields)}else{if(typeof d===L){o="__f["+s.length+"](d)";s.push(d)}else o=w.expr(d);if(typeof u===L){a="__o["+l.length+"]("+o+", "+he.quote(a.value)+")";l.push(u)}else a=he[(u||"eq").toLowerCase()](o,a.value,a.ignoreCase!==S?a.ignoreCase:true,e.accentFoldingFiltering)}t.push(a)}return{expression:"("+t.join(i[e.logic])+")",fields:s,operators:l}};var ge={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function ve(e){var t,i,n,r,a=e.filters;if(a)for(t=0,i=a.length;t<i;t++){n=a[t];r=n.operator;if(r&&typeof r===y)n.operator=ge[r.toLowerCase()]||r;ve(n)}}function A(e){if(e&&!b(e)){if(u(e)||!e.filters)e={logic:"and",filters:u(e)?e:[e]};ve(e);return e}}function be(e,t){if(e.logic||t.logic)return false;return e.field===t.field&&e.value===t.value&&e.operator===t.operator}function _e(e){e=e||{};if(b(e))return{logic:"and",filters:[]};return A(e)}function ke(e,t){if(t.logic||e.field>t.field)return 1;else if(e.field<t.field)return-1;else return 0}function we(e,t){e=_e(e);t=_e(t);if(e.logic!==t.logic)return false;var i,n;var r=(e.filters||[]).slice();var a=(t.filters||[]).slice();if(r.length!==a.length)return false;r=r.sort(ke);a=a.sort(ke);for(var o=0;o<r.length;o++){i=r[o];n=a[o];if(i.logic&&n.logic){if(!we(i,n))return false}else if(!be(i,n))return false}return true}function ye(e){return u(e)?e:[e]}function R(e,t,i,n){var r=typeof e===y?{field:e,dir:t,compare:i,skipItemSorting:n}:e,a=u(r)?r:r!==S?[r]:[];return _(a,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}})}function xe(e,t,i){var n=R(e,t,i);for(var r=0;r<n.length;r++)delete n[r].compare;return n}function Ce(e){var t=u(e)?e:[e];for(var i=0;i<t.length;i++)if(t[i]&&h(t[i].compare))return true;return false}function Te(e,t){if(e&&e.getTime&&t&&t.getTime)return e.getTime()===t.getTime();return e===t}function Se(e,t,i,n,r,a){t=t||[];var o,s,l,d=t.length;for(o=0;o<d;o++){s=t[o];l=s.aggregate;var u=s.field;e[u]=e[u]||{};a[u]=a[u]||{};a[u][l]=a[u][l]||{};e[u][l]=De[l.toLowerCase()](e[u][l],i,w.accessor(u),n,r,a[u][l])}}E.normalizeFilter=A,E.compareFilters=we,E.prototype={toArray:function(){return this.data},range:function(e,t){return new E(this.data.slice(e,e+t))},skip:function(e){return new E(this.data.slice(e))},take:function(e){return new E(this.data.slice(0,e))},select:function(e){return new E(_(this.data,e))},order:function(e,t,i){var n={dir:t};if(e)if(e.compare)n.compare=e.compare;else n.field=e;if(i)return new E(this.data.sort(l.create(n)));return new E(this.data.slice(0).sort(l.create(n)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,i,n){var r,a,o=z(e,t),s=[];i=i||l;if(o.length){for(r=0,a=o.length;r<a;r++)s.push(i.create(o[r]));return this.orderBy({compare:i.combine(s)},n)}return this},filter:function(e){var t,i,n,r,a,o=this.data,s,l,d=[],u;e=A(e);if(!e||e.filters.length===0)return this;r=E.filterExpr(e);s=r.fields;l=r.operators;a=u=new Function("d, __f, __o","return "+r.expression);if(s.length||l.length)u=function(e){return a(e,s,l)};for(t=0,n=o.length;t<n;t++){i=o[t];if(u(i))d.push(i)}return new E(d)},group:function(n,r,a){n=R(n||[]);r=r||this.data;var e=this,t=new E(e.data),o;if(n.length>0){o=n[0];if(a&&a.groupPaging)t=new E(r).groupAllData(o,r).select(function(e){var t=new E(r).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:false}]);var i=n.length>1?new E(e.items).group(n.slice(1),t.toArray(),a).toArray():e.items;return{field:e.field,value:e.value,hasSubgroups:n.length>1,items:i,aggregates:t.aggregate(o.aggregates),uid:w.guid(),itemCount:i.length,subgroupCount:i.length}});else t=t.groupBy(o).select(function(e){var t=new E(r).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:false}]);return{field:e.field,value:e.value,items:n.length>1?new E(e.items).group(n.slice(1),t.toArray()).toArray():e.items,hasSubgroups:n.length>1,aggregates:t.aggregate(o.aggregates)}})}return t},groupBy:function(e){var t=this;if(b(e)||!this.data.length)return new E([]);var i=e.field,n=e.skipItemSorting?this.data:this._sortForGrouping(i,e.dir||"asc"),r=w.accessor(i),a,o=r.get(n[0],i),s={field:i,value:o,items:[]},l,d,u,f=[s];for(d=0,u=n.length;d<u;d++){a=n[d];l=r.get(a,i);if(!Te(o,l)){o=l;s={field:i,value:o,items:[]};f.push(s)}s.items.push(a)}f=t._sortGroups(f,e);return new E(f)},groupAllData:function(e,t){if(b(e)||this.data&&!this.data.length)return new E([]);var i=e.field,n=e.skipItemSorting?t:new E(t).sort(i,e.dir||"asc",pe).toArray(),r=w.accessor(i),a,o=r.get(n[0],i),s={field:i,value:o,items:[]},l,d,u,f=[s];for(d=0,u=n.length;d<u;d++){a=n[d];l=r.get(a,i);if(!Te(o,l)){o=l;s={field:i,value:o,items:[]};f.push(s)}s.items.push(a)}f=this._sortGroups(f,e);return new E(f)},_sortForGrouping:function(e,t){var i,n,r=this.data;if(!ne){for(i=0,n=r.length;i<n;i++)r[i].__position=i;r=new E(r).sort(e,t,pe).toArray();for(i=0,n=r.length;i<n;i++)delete r[i].__position;return r}return this.sort(e,t).toArray()},_sortGroups:function(e,t){var i=e;if(t&&h(t.compare))i=new E(i).order({compare:t.compare},t.dir||B).toArray();return i},aggregate:function(e){var t,i,n={},r={};if(e&&e.length)for(t=0,i=this.data.length;t<i;t++)Se(n,e,this.data[t],t,i,r);return n}};var De={sum:function(e,t,i){var n=i.get(t);if(!N(e))e=n;else if(N(n))e+=n;return e},count:function(e){return(e||0)+1},average:function(e,t,i,n,r,a){var o=i.get(t);if(a.count===S)a.count=0;if(!N(e))e=o;else if(N(o))e+=o;if(N(o))a.count++;if(n==r-1&&N(e))e=e/a.count;return e},max:function(e,t,i){var n=i.get(t);if(!N(e)&&!Fe(e))e=n;if(e<n&&(N(n)||Fe(n)))e=n;return e},min:function(e,t,i){var n=i.get(t);if(!N(e)&&!Fe(e))e=n;if(e>n&&(N(n)||Fe(n)))e=n;return e}};function N(e){return typeof e==="number"&&!isNaN(e)}function Fe(e){return e&&e.getTime}function Ie(e){var t,i=e.length,n=new Array(i);for(t=0;t<i;t++)n[t]=e[t].toJSON();return n}E.normalizeGroup=R,E.normalizeSort=z,E.process=function(e,t,i){t=t||{};var n=t.group;var r=Ce(R(n||[]));var a=new E(e),o=xe(n||[]),s=z(t.sort||[]),l=r?s:o.concat(s),d,u,f=t.filterCallback,c=t.filter,p=t.skip,h=t.take;if(l&&i)a=a.sort(l,S,S,i);if(c){a=a.filter(c);if(f)a=f(a);u=a.toArray().length}if(l){if(!i)a=a.sort(l);if(n)e=a.toArray()}if(r){a=a.group(n,e,t);if(p!==S&&h!==S&&!t.groupPaging){a=new E(Be(a.toArray())).range(p,h);d=_(o,function(e){return m({},e,{skipItemSorting:true})});a=a.group(d,e,t)}}else{if(p!==S&&h!==S){u=a.data.length;if(p+h>u&&t.virtual)p-=p+h-u;a=a.range(p,h)}if(n&&(!b(n)||n.length!==0))a=a.group(n,e,t)}return{total:u,data:a.toArray()}};var Ee=e.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),ze=e.extend({init:function(i){var e=this,n;i=e.options=m({},e.options,i);k(Y,function(e,t){if(typeof i[t]===y)i[t]={url:i[t]}});e.cache=i.cache?P.create(i.cache):{find:p,add:p};n=i.parameterMap;if(i.submit)e.submit=i.submit;if(h(i.push))e.push=i.push;if(!e.push)e.push=t;e.parameterMap=h(n)?n:function(e){var i={};k(e,function(e,t){if(e in n){e=n[e];if(g(e)){t=e.value(t);e=e.key}}i[e]=t});return i}},options:{parameterMap:t},create:function(e){return n(this.setup(e,V))},read:function(t){var e=this,i,n,r,a=e.cache;t=e.setup(t,U);i=t.success||p;n=t.error||p;r=a.find(t.data);if(r!==S)i(r);else{t.success=function(e){a.add(t.data,e);i(e)};v.ajax(t)}},update:function(e){return n(this.setup(e,W))},destroy:function(e){return n(this.setup(e,j))},setup:function(e,t){e=e||{};var i=this,n,r=i.options[t],a=h(r.data)?r.data(e.data):r.data;e=m(true,{},r,e);n=m(true,{},a,e.data);e.data=i.parameterMap(n,t);if(h(e.url))e.url=e.url(n);return e}}),P=e.extend({init:function(){this._store={}},add:function(e,t){if(e!==S)this._store[K(e)]=t},find:function(e){return this._store[K(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[K(e)]}});function Ae(e,t,i,n,r){var a,o,s,l,d={},u;for(l=0,u=e.length;l<u;l++){a=e[l];for(o in t){s=r[o];if(s&&s!==o){if(!d[s])d[s]=w.setter(s);d[s](a,t[o](a));delete a[o]}}}}function Re(e,t,i,n,r){var a,o,s,l,d;for(l=0,d=e.length;l<d;l++){a=e[l];for(o in t){a[o]=i._parse(o,t[o](a));s=r[o];if(s&&s!==o)delete a[s]}}}function Ne(e,t,i,n,r){var a,o,s,l;for(o=0,l=e.length;o<l;o++){a=e[o];s=n[a.field];if(s&&s!=a.field)a.field=s;a.value=i._parse(a.field,a.value);if(a.items)if(a.hasSubgroups)Ne(a.items,t,i,n,r);else Re(a.items,t,i,n,r)}}function Pe(t,i,n,r,a,o){return function(e){e=t(e);return He(i,n,r,a,o)(e)}}function He(t,i,n,r,a){return function(e){if(e&&!b(n)){if(ie.call(e)!=="[object Array]"&&!(e instanceof F))e=[e];i(e,n,new t,r,a)}return e||[]}}P.create=function(e){var t={inmemory:function(){return new P}};if(g(e)&&h(e.find))return e;if(e===true)return new P;return t[e]()};var Me=e.extend({init:function(e){var t=this,i,n,r,a;e=e||{};for(i in e){n=e[i];t[i]=typeof n===y?T(n):n}a=e.modelBase||I;if(g(t.model))t.model=r=a.define(t.model);var o=t.data.bind(t);t._dataAccessFunction=o;if(t.model){var s=t.groups.bind(t),l=t.serialize.bind(t),d={},u={},f={},c={},p=false,h,m;r=t.model;if(r.fields){k(r.fields,function(e,t){var i;h=e;if(g(t)&&t.field)h=t.field;else if(typeof t===y)h=t;if(g(t)&&t.from)i=t.from;p=p||i&&i!==e||h!==e;m=i||h;u[e]=m.indexOf(".")!==-1?T(m,true):T(m);f[e]=T(e);d[i||h]=e;c[e]=i||h});if(!e.serialize&&p)t.serialize=Pe(l,r,Ae,f,d,c)}t._dataAccessFunction=o;t._wrapDataAccessBase=He(r,Re,u,d,c);t.data=Pe(o,r,Re,u,d,c);t.groups=Pe(s,r,Ne,u,d,c)}},errors:function(e){return e?e.errors:null},parse:t,data:t,total:function(e){return e.length},groups:t,aggregates:function(){return{}},serialize:function(e){return e}});function Oe(e,t){var i;var n;if(t.items&&t.items.length)for(var r=0;r<t.items.length;r++){i=e.items[e.items.length-1];n=t.items[r];if(i&&n)if(i.hasSubgroups&&i.value==n.value)Oe(i,n);else if(i.field&&i.value==n.value)i.items.push.apply(i.items,n.items);else e.items.push.apply(e.items,[n]);else if(n)e.items.push.apply(e.items,[n])}}function Le(e,t,i,n){var r,a=0,o;while(t.length&&n){r=t[a];o=r.items;var s=o.length;if(e&&e.field===r.field&&e.value===r.value){if(e.hasSubgroups&&e.items.length)Le(e.items[e.items.length-1],r.items,i,n);else{o=o.slice(i,i+n);e.items=e.items.concat(o)}t.splice(a--,1)}else if(r.hasSubgroups&&o.length){Le(r,o,i,n);if(!r.items.length)t.splice(a--,1)}else{o=o.slice(i,i+n);r.items=o;if(!r.items.length)t.splice(a--,1)}if(o.length===0)i-=s;else{i=0;n-=o.length}if(++a>=t.length)break}if(a<t.length)t.splice(a,t.length-a)}function Be(e,t){var i=[];var n=(e||[]).length;var r;var a;var o=h(t)?t:function(e,t){return e[t]};for(var s=0;s<n;s++){r=o(e,s);if(r.hasSubgroups)i=i.concat(Be(r.items));else{a=r.items;for(var l=0;l<a.length;l++)i.push(o(a,l))}}return i}function Ve(e){var t,i=[],n,r,a;for(t=0,n=e.length;t<n;t++){var o=e.at(t);if(o.items)if(o.hasSubgroups)i=i.concat(Ve(o.items));else{r=o.items;for(a=0;a<r.length;a++)i.push(r.at(a))}}return i}function Ue(e,t){var i,n,r;if(t)for(i=0,n=e.length;i<n;i++){r=e.at(i);if(r.items)if(r.hasSubgroups)Ue(r.items,t);else r.items=new oe(r.items,t,r.items._events)}}function We(e,t){for(var i=0;i<e.length;i++)if(e[i].hasSubgroups){if(We(e[i].items,t))return true}else if(t(e[i].items,e[i]))return true}function je(e,t,i,n){for(var r=0;r<e.length;r++){if(e[r].data===t)break;if(qe(e[r].data,i,n))break}}function qe(e,t,i){for(var n=0,r=e.length;n<r;n++)if(e[n]&&e[n].hasSubgroups)return qe(e[n].items,t,i);else if(e[n]===t||e[n]===i){e[n]=i;return true}}function Ge(e,t,i,n,r){for(var a=0,o=e.length;a<o;a++){var s=e[a];if(!s||s instanceof n)continue;if(s.hasSubgroups!==S&&!r)Ge(s.items,t,i,n,r);else for(var l=0;l<t.length;l++)if(t[l]===s){e[a]=t.at(l);je(i,t,s,e[a]);break}}}function $e(e,t){if(!e)return;var i=e.length;var n;var r;for(r=0;r<i;r++){n=e[r];if(n.uid&&n.uid==t.uid){e.splice(r,1);return n}}}function Ye(e,t){if(t)return Qe(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId});return-1}function Ke(e,t){if(t)return Qe(e,function(e){return e.uid==t.uid});return-1}function Qe(e,t){var i,n;if(!e)return;for(i=0,n=e.length;i<n;i++)if(t(e[i]))return i;return-1}function Xe(e,t){if(e&&!b(e)){var i=e[t];var n;if(g(i))n=i.from||i.field||t;else n=e[t]||t;if(h(n))return t;return n}return t}function Je(e,t){var i,n,r={};for(var a in e)if(a!=="filters")r[a]=e[a];if(e.filters){r.filters=[];for(i=0,n=e.filters.length;i<n;i++)r.filters[i]=Je(e.filters[i],t)}else r.field=Xe(t.fields,r.field);return r}function Ze(e,t){var i,n,r=[],a,o;for(i=0,n=e.length;i<n;i++){a={};o=e[i];for(var s in o)a[s]=o[s];a.field=Xe(t.fields,a.field);if(a.aggregates&&u(a.aggregates))a.aggregates=Ze(a.aggregates,t);r.push(a)}return r}var H=o.extend({init:function(e){var t=this,i,n;if(e)n=e.data;e=t.options=m({},t.options,e);t._map={};t._prefetch={};t._data=[];t._pristineData=[];t._ranges=[];t._view=[];t._pristineTotal=0;t._destroyed=[];t._pageSize=e.pageSize;t._page=e.page||(e.pageSize?1:S);t._sort=z(e.sort);t._sortFields=me(e.sort);t._filter=A(e.filter);t._group=R(e.group);t._aggregate=e.aggregate;t._total=e.total;t._groupPaging=e.groupPaging;if(t._groupPaging)t._groupsState={};t._shouldDetachObservableParents=true;o.fn.init.call(t);t.transport=et.create(e,n,t);if(h(t.transport.push))t.transport.push({pushCreate:t._pushCreate.bind(t),pushUpdate:t._pushUpdate.bind(t),pushDestroy:t._pushDestroy.bind(t)});if(e.offlineStorage!=null)if(typeof e.offlineStorage=="string"){var r=e.offlineStorage;t._storage={getItem:function(){return JSON.parse(localStorage.getItem(r))},setItem:function(e){localStorage.setItem(r,K(t.reader.serialize(e)))}}}else t._storage=e.offlineStorage;t.reader=new w.data.readers[e.schema.type||"json"](e.schema);i=t.reader.model||{};t._detachObservableParents();t._data=t._observe(t._data);t._online=true;t.bind(["push",a,x,f,q,C,s],e)},options:{data:null,schema:{modelBase:I},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false,inPlaceSort:false},clone:function(){return this},online:function(e){if(e!==S){if(this._online!=e){this._online=e;if(e)return this.sync()}return v.Deferred().resolve().promise()}else return this._online},offlineData:function(e){if(this.options.offlineStorage==null)return null;if(e!==S)return this._storage.setItem(e);return this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_isServerGroupPaged:function(){return this._isServerGrouped()&&this._groupPaging},_isGroupPaged:function(){var e=this._group||[];return this._groupPaging&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var i=this._readData(e);if(!i)i=e;this[t](i)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return Ve(e);if(!t)for(var i=0;i<e.length;i++)e.at(i)}return e},parent:p,get:function(e){var t,i,n=this._flatData(this._data,this.options.useRanges);for(t=0,i=n.length;t<i;t++)if(n[t].id==e)return n[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var i,n,r=this._flatData(t,this.options.useRanges);if(!r)return;for(i=0,n=r.length;i<n;i++)if(r[i].uid==e)return r[i]},indexOf:function(e){return Ke(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t=this;if(e!==S){t._detachObservableParents();t._data=this._observe(e);t._pristineData=e.slice(0);t._storeData();t._ranges=[];t.trigger("reset");t._addRange(t._data);t._total=t._data.length;t._pristineTotal=t._total;t._process(t._data)}else{if(t._data)for(var i=0;i<t._data.length;i++)t._data.at(i);return t._data}},view:function(e){if(e===S)return this._view;else this._view=this._observeView(e)},_observeView:function(e){var t=this;Ge(e,t._data,t._ranges,t.reader.model||d,t._isServerGrouped());var i=new oe(e,t.reader.model);i.parent=function(){return t.parent()};return i},flatView:function(){var e=this.group()||[];if(e.length)return Ve(this._view);else return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){if(this.reader.model)return new this.reader.model(e);if(e instanceof d)return e;return new d(e)},insert:function(e,t){if(!t){t=e;e=0}if(!(t instanceof I))t=this._createNewModel(t);if(this._isServerGrouped())this._data.splice(e,0,this._wrapInEmptyGroup(t));else this._data.splice(e,0,t);this._insertModelInRange(e,t);return t},pushInsert:function(e,t){var i=this;var n=i._getCurrentRangeSpan();if(!t){t=e;e=0}if(!u(t))t=[t];var r=[];var a=this.options.autoSync;this.options.autoSync=false;try{for(var o=0;o<t.length;o++){var s=t[o];var l=this.insert(e,s);r.push(l);var d=l.toJSON();if(this._isServerGrouped())d=this._wrapInEmptyGroup(d);this._pristineData.push(d);if(n&&n.length)v(n).last()[0].pristineData.push(d);e++}}finally{this.options.autoSync=a}if(r.length)this.trigger("push",{type:"create",items:r})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){if(!u(e))e=[e];var t=[];for(var i=0;i<e.length;i++){var n=e[i];var r=this._createNewModel(n);var a=this.get(r.id);if(a){t.push(a);a.accept(n);a.trigger(x);this._updatePristineForModel(a,n)}else this.pushCreate(n)}if(t.length)this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);if(t.length)this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,t){if(!u(e))e=[e];var i=typeof t!=="undefined"?t:true;var n=[];var r=this.options.autoSync;this.options.autoSync=false;try{for(var a=0;a<e.length;a++){var o=e[a];var s=this._createNewModel(o);var l=false;this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===s.id){n.push(i);e.splice(t,1);l=true;break}}});if(l&&i){this._removePristineForModel(s);this._destroyed.pop()}}}finally{this.options.autoSync=r}return n},pushMove:function(e,t){var i=this._moveItems(e,t);if(i.length)this.trigger("push",{type:"update",items:i})},_moveItems:function(n,e){if(!u(e))e=[e];var r=[];var t=this.options.autoSync;this.options.autoSync=false;try{for(var i=0;i<e.length;i++){var a=e[i];var o=this._createNewModel(a);this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===o.id){r.push(i);e.splice(n>=t?--n:n,0,e.splice(t,1)[0]);n++;break}}})}}finally{this.options.autoSync=t}return r},remove:function(t){var i,e=this,n=e._isServerGrouped();if(n&&t.uid&&(!t.isNew||!t.isNew()))e._pushInDestroyed(t);this._eachItem(e._data,function(e){i=$e(e,t);if(i&&n)return true});this._removeModelFromRanges(t);return t},destroyed:function(){return this._destroyed},created:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)if(n[e].isNew&&n[e].isNew())i.push(n[e]);return i},updated:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)if(n[e].isNew&&!n[e].isNew()&&n[e].dirty)i.push(n[e]);return i},sync:function(){var i=this,e=[],t=[],n=i._destroyed;var r=v.Deferred().resolve().promise();if(i.online()){if(!i.reader.model)return r;e=i.created();t=i.updated();var a=[];if(i.options.batch&&i.transport.submit)a=i._sendSubmit(e,t,n);else{a.push.apply(a,i._send("create",e));a.push.apply(a,i._send("update",t));a.push.apply(a,i._send("destroy",n))}r=v.when.apply(null,a).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)if(arguments[e])i._accept(arguments[e]);i._storeData(true);i._syncEnd();i._change({action:"sync"});i.trigger(q);if(i._isServerGroupPaged())i.read()})}else{i._storeData(true);i._syncEnd();i._change({action:"sync"})}return r},_syncEnd:p,cancelChanges:function(e){var t=this;if(e instanceof w.data.Model)t._cancelModel(e);else{t._destroyed=[];t._detachObservableParents();t._data=t._observe(t._pristineData);if(t.options.serverPaging)t._total=t._pristineTotal;t._ranges=[];t._addRange(t._data,0);t._changesCanceled();t._change();t._markOfflineUpdatesAsDirty();if(t._isServerGrouped())t.read()}},_changesCanceled:p,_markOfflineUpdatesAsDirty:function(){var e=this;if(e.options.offlineStorage!=null)e._eachItem(e._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.__state__=="update"||i.__state__=="create")i.dirty=true}})},hasChanges:function(){var e,t,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return true;for(e=0,t=i.length;e<t;e++)if(i[e].isNew&&i[e].isNew()||i[e].dirty)return true;return false},_accept:function(e){var t=this,i=e.models,n=e.response,r=0,a=t._isServerGrouped(),o=t._pristineData,s=e.type,l;t.trigger(C,{response:n,type:s});if(n&&!b(n)){n=t.reader.parse(n);if(t._handleCustomErrors(n))return;n=t.reader.data(n);if(!u(n))n=[n]}else n=v.map(i,function(e){return e.toJSON()});if(s==="destroy")t._destroyed=[];for(r=0,l=i.length;r<l;r++)if(s!=="destroy"){i[r].accept(n[r]);if(s==="create")o.push(a?t._wrapInEmptyGroup(i[r].toJSON()):n[r]);else if(s==="update")t._updatePristineForModel(i[r],n[r])}else t._removePristineForModel(i[r])},_updatePristineForModel:function(e,i){this._executeOnPristineForModel(e,function(e,t){w.deepExtend(t[e],i)})},_executeOnPristineForModel:function(i,n){this._eachPristineItem(function(e){var t=Ye(e,i);if(t>-1){n(t,e);return true}})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=!this._isServerGrouped()?this.reader.data:this.reader.groups;return t.call(this.reader,e)},_eachPristineItem:function(i){var n=this;var e=n.options;var t=n._getCurrentRangeSpan();n._eachItem(n._pristineData,i);if(e.serverPaging&&e.useRanges)k(t,function(e,t){n._eachItem(t.pristineData,i)})},_eachItem:function(e,t){if(e&&e.length)if(this._isServerGrouped())We(e,t);else t(e)},_pristineForModel:function(t){var i,n,e=function(e){n=Ye(e,t);if(n>-1){i=e[n];return true}};this._eachPristineItem(e);return i},_cancelModel:function(i){var n=this;var r=this._pristineForModel(i);this._eachItem(this._data,function(e){var t=Ke(e,i);if(t>=0)if(r&&(!i.isNew()||r.__state__)){e[t].accept(r);if(r.__state__=="update")e[t].dirty=true}else{n._modelCanceled(i);e.splice(t,1);n._removeModelFromRanges(i)}})},_modelCanceled:p,_submit:function(r,e){var a=this;a.trigger(f,{type:"submit"});a.trigger(s);a.transport.submit(m({success:function(e,t){var i=v.grep(r,function(e){return e.type==t})[0];if(i)i.resolve({response:e,models:i.models,type:t})},error:function(e,t,i){for(var n=0;n<r.length;n++)r[n].reject(e);a.error(e,t,i)}},e))},_sendSubmit:function(t,i,n){var e=this,r=[];if(e.options.batch){if(t.length)r.push(v.Deferred(function(e){e.type="create";e.models=t}));if(i.length)r.push(v.Deferred(function(e){e.type="update";e.models=i}));if(n.length)r.push(v.Deferred(function(e){e.type="destroy";e.models=n}));e._submit(r,{data:{created:e.reader.serialize(Ie(t)),updated:e.reader.serialize(Ie(i)),destroyed:e.reader.serialize(Ie(n))}})}return r},_promise:function(e,t,i){var r=this;return v.Deferred(function(n){r.trigger(f,{type:i});r.trigger(s);r.transport[i].call(r.transport,m({success:function(e){n.resolve({response:e,models:t,type:i})},error:function(e,t,i){n.reject(e);r.error(e,t,i)}},e))}).promise()},_send:function(e,t){var i=this,n,r,a=[],o=i.reader.serialize(Ie(t));if(i.options.batch){if(t.length)a.push(i._promise({data:{models:o}},t,e))}else for(n=0,r=t.length;n<r;n++)a.push(i._promise({data:o[n]},[t[n]],e));return a},read:function(e){var t=this,i=t._params(e);var n=v.Deferred();t._queueRequest(i,function(){var e=t.trigger(f,{type:"read"});if(!e){t.trigger(s);t._ranges=[];t.trigger("reset");if(t.online())t.transport.read({data:i,success:function(e){t._ranges=[];t.success(e,i);n.resolve()},error:function(){var e=c.call(arguments);t.error.apply(t,e);n.reject.apply(n,e)}});else if(t.options.offlineStorage!=null){t.success(t.offlineData(),i);n.resolve()}}else{t._dequeueRequest();n.resolve(e)}});return n.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var t=this,i=t.options,n,r;t.trigger(C,{response:e,type:"read"});if(t.online()){e=t.reader.parse(e);if(t._handleCustomErrors(e)){t._dequeueRequest();return}t._total=t.reader.total(e);if(t._isServerGroupPaged())t._serverGroupsTotal=t._total;if(t._pageSize>t._total){t._pageSize=t._total;if(t.options.pageSize&&t.options.pageSize>t._pageSize)t._pageSize=t.options.pageSize}if(t._aggregate&&i.serverAggregates)t._aggregateResult=t._readAggregates(e);e=t._readData(e);t._destroyed=[]}else{e=t._readData(e);n=[];var a={};var o=t.reader.model;var s=o?o.idField:"id";var l;for(l=0;l<this._destroyed.length;l++){var d=this._destroyed[l][s];a[d]=d}for(l=0;l<e.length;l++){var u=e[l];var f=u.__state__;if(f=="destroy"){if(!a[u[s]])this._pushInDestroyed(this._createNewModel(u))}else n.push(u)}e=n;t._total=e.length}t._pristineTotal=t._total;r=t._skip&&t._data.length&&t._skip<t._data.length;if(t.options.endless){if(r)t._pristineData.splice(t._skip,t._pristineData.length);n=e.slice(0);for(var c=0;c<n.length;c++)t._pristineData.push(n[c])}else t._pristineData=e.slice(0);t._detachObservableParents();if(t.options.endless){t._data.unbind(x,t._changeHandler);if(t._isServerGrouped()&&t._data[t._data.length-1].value===e[0].value){Oe(t._data[t._data.length-1],e[0]);e.shift()}e=t._observe(e);if(r)t._data.splice(t._skip,t._data.length);for(var p=0;p<e.length;p++)t._data.push(e[p]);t._data.bind(x,t._changeHandler)}else t._data=t._observe(e);t._markOfflineUpdatesAsDirty();t._storeData();t._addRange(t._data);t._process(t._data);t._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)if(this._data[e].parent)this._data[e].parent=p},_storeData:function(e){var a=this._isServerGrouped();var o=this.reader.model;function s(e){var t=[];for(var i=0;i<e.length;i++){var n=e.at(i);var r=n.toJSON();if(a&&n.items)r.items=s(n.items);else{r.uid=n.uid;if(o)if(n.isNew())r.__state__="create";else if(n.dirty)r.__state__="update"}t.push(r)}return t}if(this.options.offlineStorage!=null){var t=s(this._data);var i=[];for(var n=0;n<this._destroyed.length;n++){var r=this._destroyed[n].toJSON();r.__state__="destroy";i.push(r)}this.offlineData(t.concat(i));if(e)this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(t):this.reader._wrapDataAccessBase(t)}},_addRange:function(e,t){var i=this,n=typeof t!=="undefined"?t:i._skip||0,r,a={data:e,pristineData:e.toJSON(),timestamp:i._timeStamp()};if(this._isGroupPaged()){r=n+e.length;a.outerStart=n;a.outerEnd=r}else r=n+i._flatData(e,true).length;a.start=n;a.end=r;i._ranges.push(a);i._sortRanges();if(i._isGroupPaged()){if(!i._groupsFlat)i._groupsFlat=[];i._appendToGroupsFlat(a.data);i._updateOuterRangesLength()}},_appendToGroupsFlat:function(e){var t=e.length;for(var i=0;i<t;i++)this._groupsFlat.push(e[i])},_getGroupByUid:function(e){var t=this._groupsFlat.length;var i;for(var n=0;n<t;n++){i=this._groupsFlat[n];if(i.uid===e)return i}},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,i){this._dequeueRequest();this.trigger(C,{});this.trigger(a,{xhr:e,status:t,errorThrown:i})},_params:function(e){var t=this,i=m({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate,groupPaging:!!t._groupPaging},e);if(!t.options.serverPaging){delete i.take;delete i.skip;delete i.page;delete i.pageSize}if(!t.options.serverGrouping)delete i.group;else if(t.reader.model&&i.group)i.group=Ze(i.group,t.reader.model);if(!t.options.serverFiltering)delete i.filter;else if(t.reader.model&&i.filter)i.filter=Je(i.filter,t.reader.model);if(!t.options.serverSorting)delete i.sort;else if(t.reader.model&&i.sort)i.sort=Ze(i.sort,t.reader.model);if(!t.options.serverAggregates)delete i.aggregate;else if(t.reader.model&&i.aggregate)i.aggregate=Ze(i.aggregate,t.reader.model);if(!t.options.groupPaging)delete i.groupPaging;return i},_queueRequest:function(e,t){var i=this;if(!i._requestInProgress){i._requestInProgress=true;i._pending=S;t()}else i._pending={callback:t.bind(i),options:e}},_dequeueRequest:function(){var e=this;e._requestInProgress=false;if(e._pending)e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t){this.trigger(a,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t});return true}}return false},_shouldWrap:function(e){var t=this.reader.model;if(t&&e.length)return!(e[0]instanceof t);return false},_observe:function(e){var t=this,i=t.reader.model;t._shouldDetachObservableParents=true;if(e instanceof F){t._shouldDetachObservableParents=false;if(t._shouldWrap(e)){e.type=t.reader.model;e.wrapAll(e,e)}}else{var n=t.pageSize()&&!t.options.serverPaging?oe:F;e=new n(e,t.reader.model);e.parent=function(){return t.parent()}}if(t._isServerGrouped())Ue(e,i);if(t._changeHandler&&t._data&&t._data instanceof F&&!(t.options.useRanges&&t.options.serverPaging))t._data.unbind(x,t._changeHandler);else t._changeHandler=t._change.bind(t);return e.bind(x,t._changeHandler)},_updateTotalForAction:function(e,t){var i=this;var n=parseInt(i._total,10);if(!N(i._total))n=parseInt(i._pristineTotal,10);if(e==="add")n+=t.length;else if(e==="remove")n-=t.length;else if(e!=="itemchange"&&e!=="sync"&&!i.options.serverPaging)n=i._pristineTotal;else if(e==="sync")n=i._pristineTotal=parseInt(i._total,10);i._total=n},_pushInDestroyed:function(t){var e=this._destroyed.find(function(e){return e.uid===t.uid});if(!e)this._destroyed.push(t)},_change:function(t){var i=this,e,n,r=t?t.action:"";if(r==="remove")for(e=0,n=t.items.length;e<n;e++)if(!t.items[e].isNew||!t.items[e].isNew())i._pushInDestroyed(t.items[e]);if(i.options.autoSync&&(r==="add"||r==="remove"||r==="itemchange")){var a=function(e){if(e.action==="sync"){i.unbind("change",a);i._updateTotalForAction(r,t.items)}};i.first("change",a);i.sync()}else{i._updateTotalForAction(r,t?t.items:[]);i._process(i._data,t)}},_calculateAggregates:function(e,t){t=t||{};var i=new E(e),n=t.aggregate,r=t.filter;if(r)i=i.filter(r);return i.aggregate(n)},_process:function(e,t){var i=this,n={},r;if(i.options.serverPaging!==true){n.skip=i._skip;n.take=i._take||i._pageSize;if(n.skip===S&&i._page!==S&&i._pageSize!==S)n.skip=(i._page-1)*i._pageSize;if(i.options.useRanges)n.skip=i.currentRangeStart()}if(i.options.serverSorting!==true)n.sort=i._sort;if(i.options.serverFiltering!==true)n.filter=i._filter;if(i.options.serverGrouping!==true)n.group=i._group;if(i.options.serverAggregates!==true)n.aggregate=i._aggregate;if(i.options.serverGrouping)i._clearEmptyGroups(e);n.groupPaging=i._groupPaging;if(i._isGroupPaged()&&t&&(t.action==="page"||t.action==="expandGroup"||t.action==="collapseGroup"))r=i._queryProcess(e,{aggregate:i._aggregate});else r=i._queryProcess(e,n);if(i._filter&&t&&t.action==="add"){var a=t.items[0],o=r.data;var s=o.find(function(e){return e.uid===a.uid});if(!s){r.data.splice(a.index,0,a);r.total++}}if(i.options.serverAggregates!==true)i._aggregateResult=i._calculateAggregates(r.dataToAggregate||e,n);i._setView(r,n,t);i._setFilterTotal(r.total,false);t=t||{};t.items=t.items||i._view;i.trigger(x,t)},_setView:function(e,t,i){var n=this;if(n._isGroupPaged()&&!n._isServerGrouped())if(i&&(i.action==="page"||i.action==="expandGroup"||i.action==="collapseGroup")){n.view(e.data);n._updateOuterRangesLength()}else{n._ranges=[];var r=new E(e.data);n._addRange(n._observe(e.data));if(t.skip+t.take>e.data.length)t.skip=e.data.length-t.take;n.view(r.range(t.skip,t.take).toArray())}else n.view(e.data)},_clearEmptyGroups:function(e){for(var t=e.length-1;t>=0;t--){var i=e[t];if(i.hasSubgroups)this._clearEmptyGroups(i.items);if(i.items&&!i.items.length&&!i.itemCount)Z.apply(i.parent(),[t,1])}},_queryProcess:function(e,t){if(this.options.inPlaceSort)return E.process(e,t,this.options.inPlaceSort);else return E.process(e,t)},_mergeState:function(e){var t=this;if(e!==S){t._pageSize=e.pageSize;t._page=e.page;t._sort=e.sort;t._filter=e.filter;t._group=e.group;t._aggregate=e.aggregate;t._skip=t._currentRangeStart=e.skip;t._take=e.take;if(t._skip===S){t._skip=t._currentRangeStart=t.skip();e.skip=t.skip()}if(t._take===S&&t._pageSize!==S){t._take=t._pageSize;e.take=t._take}if(t.options.virtual)e.virtual=t.options.virtual;if(e.sort){t._sort=e.sort=z(e.sort);t._sortFields=me(e.sort)}if(e.filter)t._filter=e.filter=t.options.accentFoldingFiltering&&!v.isEmptyObject(e.filter)?v.extend({},A(e.filter),{accentFoldingFiltering:t.options.accentFoldingFiltering}):A(e.filter);if(e.group)t._group=e.group=R(e.group);if(e.aggregate)t._aggregate=e.aggregate=ye(e.aggregate)}return e},query:function(e){var t;var i=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(i||(this._data===S||this._data.length===0)&&!this._destroyed.length){if(this.options.endless){var n=e.pageSize-this.pageSize();if(n>0){n=this.pageSize();e.page=e.pageSize/n;e.pageSize=n}else{e.page=1;this.options.endless=false}}return this.read(this._mergeState(e))}var r=this.trigger(f,{type:"read"});if(!r){this.trigger(s);if(e)e.groupPaging=this._groupPaging;t=this._queryProcess(this._data,this._mergeState(e));this._setFilterTotal(t.total,true);this._aggregateResult=this._calculateAggregates(t.dataToAggregate||this._data,e);this._setView(t,e);this.trigger(C,{type:"read"});this.trigger(x,{items:t.data,action:e?e.action:""})}return v.Deferred().resolve(r).promise()},_hasExpandedSubGroups:function(e){var t=false;var i=e.items?e.items.length:0;if(!e.hasSubgroups)return false;for(var n=0;n<i;n++)if(this._groupsState[e.items[n].uid]){t=true;break}return t},_findGroupedRange:function(e,t,i,n,r){var a=this;var o=e.length;var s;var l;var d;var u;var f;for(var c=0;c<o;c++){s=e[c];if(i.taken>=i.take)break;if(!a._getGroupByUid(s.uid))a._groupsFlat.push(s);if(a._groupsState[s.uid]){if(a._isServerGroupPaged()){if(a._fetchGroupItems(s,i,n,r)){a._fetchingGroupItems=true;return}u=(s.subgroupCount||s.itemCount)+1;f=i.skip-i.skipped;if(!a._hasExpandedSubGroups(s)&&f>u){i.skipped+=u;continue}}if(i.includeParents&&i.skipped<i.skip){i.skipped++;s.excludeHeader=true}else if(i.includeParents){i.taken++;s.excludeHeader=false}if(s.hasSubgroups&&s.items&&s.items.length){s.currentItems=[];if(!n)n=[];n.push(s);a._findGroupedRange(s.items,s.currentItems,i,n,r);n.pop();if(s.currentItems.length||i.taken>0)t.push(s);else s.excludeHeader=false}else{l=[];d=s.items.length;for(var p=0;p<d;p++){if(i.skipped<i.skip){i.skipped++;continue}if(i.taken>=i.take)break;l.push(s.items[p]);i.taken++}if(l.length||i.taken>0){s.currentItems=l;t.push(s)}else s.excludeHeader=false}}else{if(i.skipped<i.skip){i.skipped++;continue}t.push(s);i.taken++}}},_expandedSubGroupItemsCount:function(e,t,i){var n=this;var r=0;var a;var o=typeof t==="number";var s=o?t:e.subgroupCount;var l;if(!e.hasSubgroups)return r;for(var d=0;d<s;d++){a=e.items[d];if(!a)break;if(a.hasSubgroups&&n._groupsState[e.uid]){l=n._expandedSubGroupItemsCount(a,s,true);r+=l;if(o)s-=l}else if(!a.hasSubgroups&&n._groupsState[a.uid]){l=a.items?a.items.length:0;r+=l;if(o)s-=l}if(i){r+=1;if(o)s-=1}if(o&&r>s)return r}return r},_fetchGroupItems:function(e,t,i,n){var r=this;var a;var o;var s;var l=e.hasSubgroups?e.subgroupCount:e.itemCount;var d=t.take;var u=t.skipped;var f=r.take();var c;if(t.includeParents)if(u<t.skip)u+=1;else d-=1;if(!e.items||e.items&&!e.items.length){r.getGroupItems(e,t,i,n,0);return true}else{c=this._expandedSubGroupItemsCount(e,t.skip-u);a=Math.max(t.skip-(u+c),0);if(a>=l)return false;o=e.items[a];s=e.items[Math.min(a+d,l-1)];if(o.notFetched){r.getGroupItems(e,t,i,n,D.max(D.floor(a/f),0)*f,D.round((a+f)/f));return true}if(s.notFetched){r.getGroupItems(e,t,i,n,D.max(D.floor((a+f)/f),0)*f,D.round((a+f)/f));return true}}},getGroupItems:function(e,t,i,n,r,a){var o=this;var s;var l;var d;var u;if(!e.items)e.items=[];s=o.take();l=this._composeItemsFilter(e,i);d={page:a||1,pageSize:s,skip:r,take:s,filter:l,aggregate:o._aggregate,sort:o._sort};u=o.findSubgroups(e);if(u&&u.length){d.group=u;d.groupPaging=true}clearTimeout(o._timeout);o._timeout=setTimeout(function(){o._queueRequest(d,function(){if(!o.trigger(f,{type:"read"}))o.transport.read({data:d,success:o._groupItemsSuccessHandler(e,t.skip,o.take(),n,r),error:function(){var e=c.call(arguments);o.error.apply(o,e)}});else o._dequeueRequest()})},100)},_groupItemsSuccessHandler:function(a,o,s,l,d){var u=this;var f=u._timeStamp();l=h(l)?l:p;var c=u.options.schema&&u.options.schema.total?u.options.schema.total:"Total";return function(e){var t;var i=I.define(u.options.schema.model);var n;u._dequeueRequest();u.trigger(C,{response:e,type:"read"});if(h(c))n=c(e);else n=e[c];e=u.reader.parse(e);if(a.hasSubgroups){t=u.reader.groups(e);a.subgroupCount=n}else{t=u.reader.data(e);t=t.map(function(e){return new i(e)})}a.items.omitChangeEvent=true;for(var r=0;r<n;r++)if(r>=d&&r<d+s)a.items.splice(r,1,t[r-d]);else if(!a.items[r])a.items.splice(r,0,{notFetched:true});a.items.omitChangeEvent=false;u._updateRangePristineData(a);u._fetchingGroupItems=false;if(!a.countAdded){u._serverGroupsTotal+=n;a.countAdded=true}u.range(o,s,l,"expandGroup");if(f>=u._currentRequestTimeStamp||!u._skipRequestsInProgress)u.trigger(x,{})}},findSubgroups:function(e){var t=this._group.map(function(e){return e.field}).indexOf(e.field);return this._group.slice(t+1,this._group.length)},_composeItemsFilter:function(e,t){var i=this.filter()||{logic:"and",filters:[]};i.logic="and";i=m(true,{},i);i.filters.push({field:e.field,operator:"eq",value:e.value});if(t)for(var n=0;n<t.length;n++)i.filters.push({field:t[n].field,operator:"eq",value:t[n].value});return i},_updateRangePristineData:function(e){var t=this;var i=t._ranges;var n=i.length;var r;var a;var o;var s;var l;var d;for(var u=0;u<n;u++){o=i[u];s=o.data.length;l=[];r=null;for(var f=0;f<s;f++){a=o.data[f];l.push(f);if(a.uid===e.uid||a.hasSubgroups&&a.items.length&&t._containsSubGroup(a,e,l))break;l.pop()}if(l.length){r=i[u].pristineData;while(l.length>1){d=l.splice(0,1)[0];r=r[d].items}r[l[0]]=t._cloneGroup(e);break}}},_containsSubGroup:function(e,t,i){var n=this;var r=e.items.length;var a;if(e.hasSubgroups&&r)for(var o=0;o<r;o++){a=e.items[o];i.push(o);if(a.uid===t.uid||a.hasSubgroups&&a.items.length&&n._containsSubGroup(a,t,i))return true;i.pop()}},_cloneGroup:function(e){var t=this;e=typeof e.toJSON=="function"?e.toJSON():e;if(e.items&&e.items.length)e.items=e.items.map(function(e){return t._cloneGroup(e)});return e},_setFilterTotal:function(e,t){var i=this;if(!i.options.serverFiltering)if(e!==S)i._total=e;else if(t)i._total=i._data.length},fetch:function(t){var i=this;var e=function(e){if(e!==true&&h(t))t.call(i)};return this._query().done(e)},_query:function(e){var t=this;return t.query(m({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,i=t.page(),n=t.total();e=e||{};if(!i||n&&i+1>t.totalPages())return;t._skip=t._currentRangeStart=i*t.take();i+=1;e.page=i;t._query(e);return i},prev:function(e){var t=this,i=t.page();e=e||{};if(!i||i===1)return;t._skip=t._currentRangeStart=t._skip-t.take();i-=1;e.page=i;t._query(e);return i},page:function(e){var t=this,i;if(e!==S){e=D.max(D.min(D.max(e,1),t.totalPages()),1);var n=t.take();if(t._isGroupPaged()){e-=1;t.range(e*n,n,null,"page");return}t._query(t._pageableQueryOptions({page:e}));return}i=t.skip();return i!==S?D.round((i||0)/(t.take()||1))+1:S},pageSize:function(e){var t=this;if(e!==S){t._query(t._pageableQueryOptions({pageSize:e,page:1}));return}return t.take()},sort:function(e){var t=this;if(e!==S){t.trigger("sort");t._query({sort:e});return}return t._sort},filter:function(e){var t=this;if(e===S)return t._filter;t.trigger("reset");t._query({filter:e,page:1})},group:function(e){var t=this;var i={group:e};if(t._groupPaging){if(e!==S&&(!e||!e.length))t._ranges=[];i.page=1}if(e!==S){t._query(i);return}return t._group},getGroupsFlat:function(e){var t,i=[],n;for(t=0,n=e.length;t<n;t++){var r=e[t];if(r.hasSubgroups)i=i.concat(this.getGroupsFlat(r.items));i.push(r)}return i},total:function(){return parseInt(this._total||0,10)},groupsTotal:function(e){var t=this;if(!t._group.length)return t.total();if(t._isServerGrouped()){if(t._serverGroupsTotal)return t._serverGroupsTotal;t._serverGroupsTotal=t.total();return t._serverGroupsTotal}return t._calculateGroupsTotal(t._ranges.length?t._ranges[0].data:[],e)},_calculateGroupsTotal:function(e,t,i,n){var r=this;i=i||"items";var a;var o;if(r._group.length&&e){a=0;o=e.length;for(var s=0;s<o;s++)a+=r.groupCount(e[s],t,i,n);r._groupsTotal=a;return a}r._groupsTotal=r._data.length;return r._groupsTotal},groupCount:function(e,t,i,n){var r=this;var a=0;if(e.hasSubgroups&&r._groupsState[e.uid]){if(t&&!e.excludeHeader||n)a+=1;e[i].forEach(function(e){a+=r.groupCount(e,t,i,n)})}else if(r._groupsState[e.uid]){if(t&&!e.excludeHeader||n)a++;a+=e[i]?e[i].length:0}else a++;return a},countGroupRange:function(e){var t=0;var i=e.length;for(var n=0;n<i;n++)t+=this.groupCount(e[n],true);return t},aggregate:function(e){var t=this;if(e!==S){t._query({aggregate:e});return}return t._aggregate},aggregates:function(){var e=this._aggregateResult;if(b(e))e=this._emptyAggregates(this.aggregate());return e},_emptyAggregates:function(e){var t={};if(!b(e)){var i={};if(!u(e))e=[e];for(var n=0;n<e.length;n++){i[e[n].aggregate]=0;t[e[n].field]=i}}return t},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t=this.group(),i,n,r,a;for(r=t.length-1,a=0;r>=a;r--){n=t[r];i={value:e.get?e.get(n.field):e[n.field],field:n.field,items:i?[i]:[e],hasSubgroups:!!i,aggregates:this._emptyAggregates(n.aggregates)}}return i},totalPages:function(){var e=this,t=e.pageSize()||e.total(),i=e._isGroupPaged()?e.groupsTotal(true):e.total();return D.ceil((i||0)/t)},inRange:function(e,t){var i=this,n=D.min(e+t,i.total());if(!i.options.serverPaging&&i._data.length>0)return true;return i._findRange(e,n).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},_timeStamp:function(){return(new Date).getTime()},range:function(e,t,i,n){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=true;var r=this._isGroupPaged()?this.groupsTotal(true):this.total();if(n==="expandGroup"||n==="collapseGroup")this._updateOuterRangesLength();e=D.min(e||0,r);i=h(i)?i:p;var a=this,o=D.max(D.floor(e/t),0)*t,s=D.min(o+t,r),l;l=a._findRange(e,D.min(e+t,r),i);if((l.length||r===0)&&!a._fetchingGroupItems){a._processRangeData(l,e,t,a._originalPageSkip||o,a._originalSize||s,{action:n});a._originalPageSkip=null;a._originalSize=null;i();return}if(a._isGroupPaged()){a._originalPageSkip=o;a._originalSize=s;o=D.max(D.floor(a._adjustPageSkip(e,t)/t),0)*t;s=D.min(o+t,r)}if(t!==S&&!a._fetchingGroupItems)if(a._isGroupPaged()&&!a._groupRangeExists(o,t)||!a._rangeExists(o,s))a.prefetch(o,t,function(){if(e>o&&s<a.total()&&!a._rangeExists(s,D.min(s+t,a.total())))a.prefetch(s,t,function(){a.range(e,t,i)});else a.range(e,t,i)});else if(o<e)a.prefetch(s,t,function(){a.range(e,t,i)})},_findRange:function(e,t,i){var n=this,r=n._ranges,a,o=[],s,l,d,u,f,c,p,h=n.options,m=h.serverSorting||h.serverPaging||h.serverFiltering||h.serverGrouping||h.serverAggregates,g,v,b,_={take:t-e,skip:e,skipped:0,taken:0,includeParents:true},k,w=n._isGroupPaged(),y=w?"outerStart":"start",x=w?"outerEnd":"end",C;for(s=0,b=r.length;s<b;s++){a=r[s];if(w){if(a.outerStart>=t)return[];if(e>a.outerEnd){_.skipped+=a.outerEnd-(k||0);k=a.outerEnd;continue}if(typeof k!=="undefined"&&k!=a.outerStart)_.skipped+=a.outerStart-k;if(_.skipped>_.skip)return[];if(typeof k==="undefined"&&e>0&&a.start>0)_.skipped=a.outerStart;l=s;while(true){this._findGroupedRange(a.data,o,_,null,i);C=n._calculateGroupsTotal(o,true,"currentItems");if(C>=_.take)return o;if(n._fetchingGroupItems)return[];l++;if(r[l]&&r[l].outerStart===a.outerEnd)a=r[l];else break}}else if(e>=a[y]&&e<=a[x]){v=0;for(l=s;l<b;l++){a=r[l];g=n._flatData(a.data,true);if(g.length&&e+v>=a.start){f=a.data;c=a.end;if(!m){if(h.inPlaceSort)p=n._queryProcess(a.data,{filter:n.filter()});else{var T=xe(n.group()||[]).concat(z(n.sort()||[]));p=n._queryProcess(a.data,{sort:T,filter:n.filter()})}g=f=p.data;if(p.total!==S)c=p.total}d=0;if(e+v>a.start)d=e+v-a.start;u=g.length;if(c>t)u=u-(c-t);v+=u-d;o=n._mergeGroups(o,f,d,u);if(t<=a.end&&v==t-e)return o}}break}k=a.outerEnd}return[]},_getRangesMismatch:function(e){var t=this;var i=t._ranges;var n=0;var r=0;while(true){var a=i[r];if(!a||a.outerStart>e)break;if(a.outerEnd!=a.end)n=a.outerEnd-a.end;r++}return n},_mergeGroups:function(e,t,i,n){if(this._isServerGrouped()){var r=t.toJSON(),a;if(e.length)a=e[e.length-1];Le(a,r,i,n);return e.concat(r)}return e.concat(t.slice(i,n))},_processRangeData:function(e,t,i,n,r,a){var o=this;o._pending=S;o._skip=t>o.skip()&&!o._omitPrefetch?D.min(r,(o.totalPages()-1)*o.take()):n;o._currentRangeStart=t;o._take=i;var s=o.options.serverPaging;var l=o.options.serverSorting;var d=o.options.serverFiltering;var u=o.options.serverAggregates;try{o.options.serverPaging=true;if(!o._isServerGrouped()&&!(o.group()&&o.group().length))o.options.serverSorting=true;o.options.serverFiltering=true;o.options.serverPaging=true;o.options.serverAggregates=true;if(s){o._detachObservableParents();o._data=e=o._observe(e)}o._process(e,a)}finally{o.options.serverPaging=s;o.options.serverSorting=l;o.options.serverFiltering=d;o.options.serverAggregates=u}},skip:function(){var e=this;if(e._skip===S)return e._page!==S?(e._page-1)*(e.take()||1):S;return e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(o,s,l,d){var u=this;var f=u._timeStamp();return function(e){var t=false,i={start:o,end:s,data:[],timestamp:u._timeStamp()},n,r,a;u._dequeueRequest();u.trigger(C,{response:e,type:"read"});e=u.reader.parse(e);a=u._readData(e);if(a.length){for(n=0,r=u._ranges.length;n<r;n++)if(u._ranges[n].start===o){t=true;i=u._ranges[n];if(!u._isGroupPaged()){i.pristineData=a;i.data=u._observe(a);i.end=i.start+u._flatData(i.data,true).length;u._sortRanges()}break}if(!t)u._addRange(u._observe(a),o)}u._total=u.reader.total(e);if(d||(f>=u._currentRequestTimeStamp||!u._skipRequestsInProgress))if(l&&a.length)l();else u.trigger(x,{})}},prefetch:function(e,t,i){var n=this,r=D.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};if(n._isGroupPaged()&&!n._isServerGrouped()&&n._groupRangeExists(e,r)){if(i)i();return}if(n._isServerGroupPaged()&&!n._groupRangeExists(e,r)||!n._rangeExists(e,r)){clearTimeout(n._timeout);n._timeout=setTimeout(function(){n._queueRequest(a,function(){if(!n.trigger(f,{type:"read"})){if(n._omitPrefetch)n.trigger(s);n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i),error:function(){var e=c.call(arguments);n.error.apply(n,e)}})}else n._dequeueRequest()})},100)}else if(i)i()},_multiplePrefetch:function(e,t,i){var n=this,r=D.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};if(!n._rangeExists(e,r)){if(!n.trigger(f,{type:"read"}))n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i,true)})}else if(i)i()},_adjustPageSkip:function(e,t){var i=this;var n=i._getPrevRange(e);var r;var a=i.total();var o;if(n){o=i._getRangesMismatch(e);if(!o)return e;e-=o}r=D.max(D.floor(e/t),0)*t;if(r>a)while(true){r-=t;if(r<a)break}return r},_getNextRange:function(e){var t=this,i=t._ranges,n,r;for(n=0,r=i.length;n<r;n++)if(i[n].start<=e&&i[n].end>=e)return i[n]},_getPrevRange:function(e){var t=this,i=t._ranges,n,r,a=i.length;for(n=a-1;n>=0;n--)if(i[n].outerStart<=e){r=i[n];break}return r},_rangeExists:function(e,t){var i=this,n=i._ranges,r,a;for(r=0,a=n.length;r<a;r++)if(n[r].start<=e&&n[r].end>=t)return true;return false},_groupRangeExists:function(e,t){var i=this,n=i._ranges,r,a,o=0,s=i.groupsTotal(true);if(t>s&&!i._isServerGrouped())t=s;for(r=0,a=n.length;r<a;r++){var l=n[r];if(l.outerStart<=e&&l.outerEnd>=e)o+=l.outerEnd-e;else if(l.outerStart<=t&&l.outerEnd>=t)o+=t-l.outerStart}return o>=t-e},_getCurrentRangeSpan:function(){var e=this;var t=e._ranges;var i=e.currentRangeStart();var n=i+(e.take()||0);var r=[];var a;var o;var s=t.length;for(o=0;o<s;o++){a=t[o];if(a.start<=i&&a.end>=i||a.start>=i&&a.start<=n)r.push(a)}return r},_removeModelFromRanges:function(e){var t=this;var i;for(var n=0,r=this._ranges.length;n<r;n++){i=this._ranges[n];t._removeModelFromRange(i,e)}t._updateRangesLength()},_removeModelFromRange:function(e,n){this._eachItem(e.data,function(e){if(!e)return;for(var t=0;t<e.length;t++){var i=e[t];if(i.uid&&i.uid==n.uid){[].splice.call(e,t,1);break}}})},_insertModelInRange:function(e,t){var i=this;var n=i._ranges||[];var r=n.length;var a;var o;for(o=0;o<r;o++){a=n[o];if(a.start<=e&&a.end>=e){if(!i._getByUid(t.uid,a.data))if(i._isServerGrouped())a.data.splice(e,0,i._wrapInEmptyGroup(t));else a.data.splice(e,0,t);break}}i._updateRangesLength()},_updateRangesLength:function(){var e=this;var t=e._ranges||[];var i=t.length;var n=false;var r=0;var a=0;var o;var s;var l;for(l=0;l<i;l++){s=t[l];o=e._isGroupPaged()?s.data.length:e._flatData(s.data,true).length;a=o-D.abs(s.end-s.start);if(!n&&a!==0){n=true;r=a;s.end+=r;continue}if(n){s.start+=r;s.end+=r}}},_updateOuterRangesLength:function(){var e=this;var t=e._ranges||[];var i=t.length;var n=0;var r;var a;var o;var s;for(a=0;a<i;a++){r=t[a];s=e._isGroupPaged()?e._calculateGroupsTotal(r.data,true,"items",true):e._flatData(r.data,true).length;if(o){if(o.end!=r.start)n=r.start-o.end;r.outerStart=o.outerEnd+n;n=0}else r.outerStart=r.start;r.outerEnd=r.outerStart+s;o=r}}}),et={};function tt(e,t){e=v(e)[0];var i=e.options;var n=t[0];var r=t[1];var a=[];var o,s;var l;var d;var u;var f;for(o=0,s=i.length;o<s;o++){u={};d=i[o];l=d.parentNode;if(l===e)l=null;if(d.disabled||l&&l.disabled)continue;if(l)u.optgroup=l.label;u[n.field]=d.text;f=d.attributes.value;if(f&&f.specified)f=d.value;else f=d.text;u[r.field]=f;a.push(u)}return a}function it(e,t){var i=v(e)[0].tBodies[0],n=i?i.rows:[],r,a,o,s=t.length,l=[],d,u,f,c;for(r=0,a=n.length;r<a;r++){u={};c=true;d=n[r].cells;for(o=0;o<s;o++){f=d[o];if(f.nodeName.toLowerCase()!=="th"){c=false;u[t[o].field]=f.innerHTML}}if(!c)l.push(u)}return l}et.create=function(e,t,i){var n,r=e.transport?v.extend({},e.transport):null;if(r){r.read=typeof r.read===y?{url:r.read}:r.read;if(e.type==="jsdo")r.dataSource=i;if(e.type){w.data.transports=w.data.transports||{};w.data.schemas=w.data.schemas||{};if(!w.data.transports[e.type])w.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn");else if(!g(w.data.transports[e.type]))n=new w.data.transports[e.type](m(r,{data:t}));else r=m(true,{},w.data.transports[e.type],r);e.schema=m(true,{},w.data.schemas[e.type],e.schema)}if(!n)n=h(r.read)?r:new ze(r)}else n=new Ee({data:e.data||[]});return n},H.create=function(e){if(u(e)||e instanceof F)e={data:e};var t=e||{},i=t.data,n=t.fields,r=t.table,a=t.select,o,s,l={},d;if(!i&&n&&!t.transport)if(r)i=it(r,n);else if(a){i=tt(a,n);if(t.group===S&&i[0]&&i[0].optgroup!==S)t.group="optgroup"}if(w.data.Model&&n&&(!t.schema||!t.schema.model)){for(o=0,s=n.length;o<s;o++){d=n[o];if(d.type)l[d.field]=d}if(!b(l))t.schema=m(true,t.schema,{model:{fields:l}})}t.data=i;a=null;t.select=null;r=null;t.table=null;return t instanceof H?t:new H(t)};var nt=I.define({idField:"id",init:function(e){var t=this,i=t.hasChildren||e&&e.hasChildren,n="items",r={};w.data.Model.fn.init.call(t,e);if(typeof t.children===y)n=t.children;r={schema:{data:n,model:{hasChildren:i,id:t.idField,fields:t.fields}}};if(typeof t.children!==y)m(r,t.children);r.data=e;if(!i)i=r.schema.data;if(typeof i===y)i=w.getter(i);if(h(i)){var a=i.call(t,t);if(a&&a.length===0)t.hasChildren=false;else t.hasChildren=!!a}t._childrenOptions=r;if(t.hasChildren)t._initChildren();t._loaded=!!(e&&e._loaded)},_initChildren:function(){var i=this;var e,t,n;if(!(i.children instanceof M)){e=i.children=new M(i._childrenOptions);t=e.transport;n=t.parameterMap;t.parameterMap=function(e,t){e[i.idField||"id"]=i.id;if(n)e=n.call(i,e,t);return e};e.parent=function(){return i};e.bind(x,function(e){e.node=e.node||i;i.trigger(x,e)});e.bind(a,function(e){var t=i.parent();if(t){e.node=e.node||i;t.trigger(a,e)}});e.bind(r,function(e){var t=i.parent();if(t)t.trigger(r,e)});i._updateChildrenField()}},append:function(e){this._initChildren();this.loaded(true);this.children.add(e)},hasChildren:false,level:function(){var e=this.parentNode(),t=0;while(e&&e.parentNode){t++;e=e.parentNode?e.parentNode():null}return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var e={};var t="_query";var i,n;if(this.hasChildren){this._initChildren();i=this.children;e[this.idField||"id"]=this.id;if(!this._loaded){i._data=S;t="read"}i.one(x,this._childrenLoaded.bind(this));if(this._matchFilter)e.filter={field:"_matchFilter",operator:"eq",value:true};n=i[t](e);if(!this._loaded)this.trigger($,{promise:n,node:this})}else this.loaded(true);return n||v.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){if(e!==S)this._loaded=e;else return this._loaded},shouldSerialize:function(e){return I.fn.shouldSerialize.call(this,e)&&e!=="children"&&e!=="_loaded"&&e!=="hasChildren"&&e!=="_childrenOptions"}});function rt(i){return function(){var e=this._data,t=H.fn[i].apply(this,c.call(arguments));if(this._data!=e)this._attachBubbleHandlers();return t}}var M=H.extend({init:function(e){var t=nt.define({children:e});if(e.filter&&!e.serverFiltering){this._hierarchicalFilter=e.filter;e.filter=null}H.fn.init.call(this,m(true,{},{schema:{modelBase:t,model:t}},e));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(a,function(e){t.trigger(a,e)});t._data.bind(r,function(e){t.trigger(r,e)})},loading:function(){if(this._data)return this._data.loading()||this._childrenLoading();return false},_childrenLoading:function(){var t=false;this._data.forEach(function(e){if(e.hasChildren&&e.children.loading())t=true});return t},read:function(e){var t=H.fn.read.call(this,e);if(this._hierarchicalFilter)if(this._data&&this._data.length>0)this.filter(this._hierarchicalFilter);else{this.options.filter=this._hierarchicalFilter;this._filter=A(this.options.filter);this._hierarchicalFilter=null}return t},remove:function(e){var t=e.parentNode(),i=this,n;if(t&&t._initChildren)i=t.children;n=H.fn.remove.call(i,e);if(t&&!i.data().length)t.hasChildren=false;return n},success:rt("success"),data:rt("data"),insert:function(e,t){var i=this.parent();if(i&&i._initChildren){i.hasChildren=true;i._initChildren()}return H.fn.insert.call(this,e,t)},filter:function(e){if(e===S)return this._filter;if(!this.options.serverFiltering&&this._markHierarchicalQuery(e))e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:true}]};this.trigger("reset");this._query({filter:e,page:1})},_markHierarchicalQuery:function(e){var t;var i;var n;var r;var a;var o=this.options.accentFoldingFiltering;e=o?v.extend({},A(e),{accentFoldingFiltering:o}):A(e);if(!e||e.filters.length===0){this._updateHierarchicalFilter(function(){return true});return false}t=E.filterExpr(e);n=t.fields;r=t.operators;i=a=new Function("d, __f, __o","return "+t.expression);if(n.length||r.length)a=function(e){return i(e,n,r)};this._updateHierarchicalFilter(a);return true},_updateHierarchicalFilter:function(e){var t;var i=this._data;var n=false;for(var r=0;r<i.length;r++){t=i[r];if(t.hasChildren){t._matchFilter=t.children._updateHierarchicalFilter(e);if(!t._matchFilter)t._matchFilter=e(t)}else t._matchFilter=e(t);if(t._matchFilter)n=true}return n},_find:function(e,t){var i,n,r,a;var o=this._data;if(!o)return;r=H.fn[e].call(this,t);if(r)return r;o=this._flatData(this._data);for(i=0,n=o.length;i<n;i++){a=o[i].children;if(!(a instanceof M))continue;r=a[e](t);if(r)return r}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});function at(e,t){var i=v(e).children(),n,r,a=[],o,s=t[0].field,l=t[1]&&t[1].field,d=t[2]&&t[2].field,u=t[3]&&t[3].field,f,c,p,h,m;function g(e,t){return e.filter(t).add(e.find(t))}for(n=0,r=i.length;n<r;n++){o={_loaded:true};f=i.eq(n);p=f[0].firstChild;m=f.children();e=m.filter("ul");m=m.filter(":not(ul)");c=f.attr("data-id");if(c)o.id=c;if(p)o[s]=p.nodeType==3?p.nodeValue:m.text();if(l)o[l]=g(m,"a").attr("href");if(u)o[u]=g(m,"img").attr("src");if(d){h=g(m,".k-sprite").prop("className");o[d]=h&&w.trim(h.replace("k-sprite",""))}if(e.length)o.items=at(e.eq(0),t);if(f.attr("data-hasChildren")=="true")o.hasChildren=true;a.push(o)}return a}M.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},i=t.data,n=t.fields,r=t.list;if(i&&i._dataSource)return i._dataSource;if(!i&&n&&!t.transport)if(r)i=at(r,n);t.data=i;return t instanceof M?t:new M(t)};var ot=w.Observable.extend({init:function(e,t,i){w.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=e;this.prefetch=!i;var n=this;e.bind("change",function(){n._change()});e.bind("reset",function(){n._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(e){this.viewSize=e;this._recalculate()},at:function(e){var t=this.pageSize,i=true;if(e>=this.total()){this.trigger("endreached",{index:e});return null}if(!this.useRanges)return this.dataSource.view()[e];if(this.useRanges){if(e<this.dataOffset||e>=this.skip+t)i=this.range(Math.floor(e/t)*t);if(e===this.prefetchThreshold)this._prefetch();if(e===this.midPageThreshold)this.range(this.nextMidRange,true);else if(e===this.nextPageThreshold)this.range(this.nextFullRange);else if(e===this.pullBackThreshold)if(this.offset===this.skip)this.range(this.previousMidRange);else this.range(this.previousFullRange);if(i)return this.dataSource.at(e-this.dataOffset);else{this.trigger("endreached",{index:e});return null}}},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,i=e.skip-e.viewSize+t,n=D.max(D.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(n,t,function(){e._goToRange(i,true)})},range:function(e,t){if(this.offset===e)return true;var i=this,n=this.pageSize,r=D.max(D.floor(e/n),0)*n,a=this.dataSource;if(t)r+=n;if(a.inRange(e,n)){this.offset=e;this._recalculate();this._goToRange(e);return true}else if(this.prefetch){a.prefetch(r,n,function(){i.offset=e;i._recalculate();i._goToRange(e,true)});return false}return true},syncDataSource:function(){var e=this.offset;this.offset=null;this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,i=this.skip+t,n=this.dataSource;if(!n.inRange(i,t)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:i,take:t});n.prefetch(i,t,function(){e._prefetching=false;e.trigger("prefetched",{skip:i,take:t})})}},_goToRange:function(e,t){if(this.offset!==e)return;this.dataOffset=e;this._expanding=t;this.dataSource.range(e,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding)this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid();this.dataOffset=this.offset=e.skip()||0;this.pageSize=e.pageSize();this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,i=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n;this.midPageThreshold=n+e-1;this.nextPageThreshold=n+i-1;this.prefetchThreshold=n+Math.floor(e/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=n+e-i;this.nextFullRange=n;this.previousMidRange=t-i;this.previousFullRange=n-e}}),st=w.Observable.extend({init:function(e,t){var i=this;w.Observable.fn.init.call(i);this.dataSource=e;this.batchSize=t;this._total=0;this.buffer=new ot(e,t*3);this.buffer.bind({endreached:function(e){i.trigger("endreached",{index:e.index})},prefetching:function(e){i.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){i.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){i._total=0;i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize);i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t=this.buffer,i=e*this.batchSize,n=this.batchSize,r=[],a;if(t.offset>i)t.at(t.offset-1);for(var o=0;o<n;o++){a=t.at(i+o);if(a===null)break;r.push(a)}return r},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});return m(true,w.data,{readers:{json:Me},Query:E,DataSource:H,HierarchicalDataSource:M,Node:nt,Comparer:l,ObservableObject:d,ObservableArray:F,LazyObservableArray:oe,LocalTransport:Ee,RemoteTransport:ze,Cache:P,DataReader:Me,Model:I,Buffer:ot,BatchBuffer:st}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.popup.min",["kendo.core.min"],function(){var S={id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true},A=window.kendo.jQuery,f=void 0,R=window.kendo,e=R.ui,r=e.Widget,D=R.Class,N=R.support,P=R.getOffset,H=R._outerWidth,M=R._outerHeight,c="open",s="close",i="deactivate",a="activate",_="center",t="left",k="right",p="top",w="bottom",O="absolute",h="hidden",m="body",L="location",B="position",o="visible",g="effects",n="k-state-active",l="k-state-border",F=/k-state-border-(\w+)/,d=".k-picker-wrap, .k-dropdown-wrap, .k-link",I="down",v=A(document.documentElement),E=A(window),u="scroll",z,b=N.transitions.css+"transform",V=A.extend,y=".kendoPopup",x=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function C(e,t){if(!e||!t)return false;return e===t||A.contains(e,t)}var U=r.extend({init:function(e,t){var i=this,n;t=t||{};if(t.isRtl){t.origin=t.origin||w+" "+k;t.position=t.position||p+" "+k}r.fn.init.call(i,e,t);e=i.element;t=i.options;i.collisions=t.collision?t.collision.split(" "):[];i.downEvent=R.applyEventMap(I,R.guid());if(i.collisions.length===1)i.collisions.push(i.collisions[0]);n=A(i.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");t.appendTo=A(A(t.appendTo)[0]||n[0]||document.body);i.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:O}).appendTo(t.appendTo).attr("aria-hidden",true).on("mouseenter"+y,function(){i._hovered=true}).on("wheel"+y,function(e){var t=A(e.target).find(".k-list");var i=t.parent();if(t.length&&t.is(":visible")&&(i.scrollTop()===0&&e.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&e.originalEvent.deltaY>0))e.preventDefault()}).on("mouseleave"+y,function(){i._hovered=false});i.wrapper=A();if(t.animation===false)t.animation={open:{effects:{}},close:{hide:true,effects:{}}};V(t.animation.open,{complete:function(){i.wrapper.css({overflow:o});i._activated=true;i._trigger(a)}});V(t.animation.close,{complete:function(){i._animationClose()}});i._mousedownProxy=function(e){i._mousedown(e)};if(N.mobileOS.android)i._resizeProxy=function(e){setTimeout(function(){i._resize(e)},600)};else i._resizeProxy=function(e){i._resize(e)};if(t.toggleTarget)A(t.toggleTarget).on(t.toggleEvent+y,i.toggle.bind(i))},events:[c,a,s,i],options:{name:"Popup",toggleEvent:"click",origin:w+" "+t,position:p+" "+t,anchor:m,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}},omitOriginOffsets:false},_animationClose:function(){var e=this;var t=e.wrapper.data(L);e.wrapper.hide();if(t)e.wrapper.css(t);if(e.options.anchor!=m)e._hideDirClass();e._closing=false;e._trigger(i)},destroy:function(){var e=this,t=e.options,i=e.element.off(y),n;r.fn.destroy.call(e);if(t.toggleTarget)A(t.toggleTarget).off(y);if(!t.modal){v.off(e.downEvent,e._mousedownProxy);e._toggleResize(false)}R.destroy(e.element.children());i.removeData();if(t.appendTo[0]===document.body){n=i.parent(".k-animation-container");if(n[0])n.remove();else i.remove()}},open:function(e,t){var i=this,n={isFixed:!isNaN(parseInt(t,10)),x:e,y:t},r=i.element,a=i.options,o,s,l=A(a.anchor),d=r[0]&&r.hasClass("km-widget"),u=r.find("[role='listbox']");if(!i.visible()){if(a.copyAnchorStyles){if(d&&x[0]=="font-size")x.shift();r.css(R.getComputedStyles(l[0],x))}if(r.data("animating")||i._trigger(c))return;i._activated=false;if(!a.modal){v.off(i.downEvent,i._mousedownProxy).on(i.downEvent,i._mousedownProxy);i._toggleResize(false);i._toggleResize(true)}i.wrapper=s=R.wrap(r,a.autosize).css({overflow:h,display:"block",position:O}).attr("aria-hidden",false);if(u.attr("aria-label"))s.attr("aria-label",u.attr("aria-label"));else if(u.attr("aria-labelledby"))s.attr("aria-labelledby",u.attr("aria-labelledby"));if(N.mobileOS.android)s.css(b,"translatez(0)");s.css(B);if(A(a.appendTo)[0]==document.body)s.css(p,"-10000px");i.flipped=i._position(n);o=i._openAnimation();if(a.anchor!=m)i._showDirClass(o);if(!r.is(":visible")&&r.data("olddisplay")===f){r.show();r.data("olddisplay",r.css("display"));r.hide()}r.data(g,o.effects).kendoStop(true).kendoAnimate(o).attr("aria-hidden",false)}},_location:function(e){var t=this,i=t.element,n=t.options,r,a=A(n.anchor),o=i[0]&&i.hasClass("km-widget");if(n.copyAnchorStyles){if(o&&x[0]=="font-size")x.shift();i.css(R.getComputedStyles(a[0],x))}t.wrapper=r=R.wrap(i,n.autosize).css({overflow:h,display:"block",position:O});if(N.mobileOS.android)r.css(b,"translatez(0)");r.css(B);if(A(n.appendTo)[0]==document.body)r.css(p,"-10000px");t._position(e||{});var s=r.offset();return{width:R._outerWidth(r),height:R._outerHeight(r),left:s.left,top:s.top}},_openAnimation:function(){var e=V(true,{},this.options.animation.open);e.effects=R.parseEffects(e.effects,this.flipped);return e},_hideDirClass:function(){var e=A(this.options.anchor);var t=((e.attr("class")||"").match(F)||["","down"])[1];var i=l+"-"+t;e.removeClass(i).children(d).removeClass(n).removeClass(i);this.element.removeClass(l+"-"+R.directions[t].reverse)},_showDirClass:function(e){var t=e.effects.slideIn?e.effects.slideIn.direction:"down";var i=l+"-"+t;A(this.options.anchor).addClass(i).children(d).addClass(n).addClass(i);this.element.addClass(l+"-"+R.directions[t].reverse)},position:function(){if(this.visible())this.flipped=this._position()},toggle:function(){var e=this;e[e.visible()?s:c]()},visible:function(){return this.element.is(":"+o)},close:function(i){var e=this,t=e.options,n,r,a,o;if(e.visible()){n=e.wrapper[0]?e.wrapper:R.wrap(e.element).hide();e._toggleResize(false);if(e._closing||e._trigger(s)){e._toggleResize(true);return}e.element.find(".k-popup").each(function(){var e=A(this),t=e.data("kendoPopup");if(t)t.close(i)});v.off(e.downEvent,e._mousedownProxy);if(i)r={hide:true,effects:{}};else{r=V(true,{},t.animation.close);a=e.element.data(g);o=r.effects;if(!o&&!R.size(o)&&a&&R.size(a)){r.effects=a;r.reverse=true}e._closing=true}e.element.kendoStop(true).attr("aria-hidden",true);n.css({overflow:h}).attr("aria-hidden",true);e.element.kendoAnimate(r);if(i)e._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;if(N.resize.indexOf(e.type)!==-1){clearTimeout(t._resizeTimeout);t._resizeTimeout=setTimeout(function(){t._position();t._resizeTimeout=null},50)}else if(!t._hovered||t._activated&&t.element.find(".k-list").length>0)t.close()},_toggleResize:function(e){var t=e?"on":"off";var i=N.resize;if(!(N.mobileOS.ios||N.mobileOS.android||N.browser.safari))i+=" "+u;if(e&&!this.scrollableParents)this.scrollableParents=this._scrollableParents();if(this.scrollableParents&&this.scrollableParents.length)this.scrollableParents[t](u,this._resizeProxy);E[t](i,this._resizeProxy)},_mousedown:function(e){var t=this,i=t.element[0],n=t.options,r=A(n.anchor)[0],a=n.toggleTarget,o=R.eventTarget(e),s=A(o).closest(".k-popup"),l=s.parent().parent(".km-shim").length;s=s[0];if(!l&&s&&s!==t.element[0])return;if(A(e.target).closest("a").data("rel")==="popover")return;if(!C(i,o)&&!C(r,o)&&!(a&&C(A(a)[0],o)))t.close()},_fit:function(e,t,i){var n=0;if(e+t>i)n=i-(e+t);if(e<0)n=-e;return n},_flip:function(e,t,i,n,r,a,o){var s=0;o=o||t;if(a!==r&&a!==_&&r!==_){if(e+o>n)s+=-(i+t);if(e+s<0)s+=i+t}return s},_scrollableParents:function(){return A(this.options.anchor).parentsUntil("body").filter(function(e,t){return R.isScrollable(t)})},_position:function(e){var t=this,i=t.element,n=t.wrapper,r=t.options,a=A(r.viewport),o=N.zoomLevel(),s=!!(a[0]==window&&window.innerWidth&&o<=1.02),l=A(r.anchor),d=r.origin.toLowerCase().split(" "),u=r.position.toLowerCase().split(" "),f=t.collisions,c,p,h,m=10002,g=0,v=document.documentElement,b,_,k,w;if(r.viewport===window)_={top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0};else _=a.offset();if(s){k=window.innerWidth;w=window.innerHeight}else{k=a.width();w=a.height()}if(s&&v.scrollHeight-v.clientHeight>0){var y=r.isRtl?-1:1;k-=y*R.support.scrollbar()}c=l.parents().filter(n.siblings());if(c[0]){h=Math.max(Number(c.css("zIndex")),0);if(h)m=h+10;else{p=l.parentsUntil(c);for(b=p.length;g<b;g++){h=Number(A(p[g]).css("zIndex"));if(h&&m<h)m=h+10}}}n.css("zIndex",m);if(e&&e.isFixed)n.css({left:e.x,top:e.y});else n.css(t._align(d,u));var x=P(n,B,l[0]===n.offsetParent()[0]),C=P(n),T=l.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(T.length){x=P(n,B,true);C=P(n)}C.top-=_.top;C.left-=_.left;if(!t.wrapper.data(L))n.data(L,V({},x));var S=V({},C),D=V({},x),F=r.adjustSize;if(f[0]==="fit")D.top+=t._fit(S.top,M(n)+F.height,w/o);if(f[1]==="fit")D.left+=t._fit(S.left,H(n)+F.width,k/o);var I=V({},D);var E=M(i);var z=M(n);if(!n.height()&&E)z=z+E;if(f[0]==="flip")D.top+=t._flip(S.top,E,M(l),w/o,d[0],u[0],z);if(f[1]==="flip")D.left+=t._flip(S.left,H(i),H(l),k/o,d[1],u[1],H(n));i.css(B,O);n.css(D);return D.left!=I.left||D.top!=I.top},_align:function(e,t){var i=this,n=i.wrapper,r=A(i.options.anchor),a=e[0],o=e[1],s=t[0],l=t[1],d=P(r),u=A(i.options.appendTo),f,c=H(n),p=M(n)||M(n.children().first()),h=H(r),m=M(r),g=i.options.omitOriginOffsets?0:d.top,v=i.options.omitOriginOffsets?0:d.left,b=Math.round;if(u[0]!=document.body){f=P(u);g-=f.top;v-=f.left}if(a===w)g+=m;if(a===_)g+=b(m/2);if(s===w)g-=p;if(s===_)g-=b(p/2);if(o===k)v+=h;if(o===_)v+=b(h/2);if(l===k)v-=c;if(l===_)v-=b(c/2);return{top:g,left:v}}}),W=(e.plugin(U),R.support.stableSort),T="kendoTabKeyTrap",j="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",q=D.extend({init:function(e){this.element=A(e);this.element.autoApplyNS(T)},trap:function(){this.element.on("keydown",this._keepInTrap.bind(this))},removeTrap:function(){this.element.kendoDestroy(T)},destroy:function(){this.element.kendoDestroy(T);this.element=f},shouldTrap:function(){return true},_keepInTrap:function(e){if(e.which!==9||!this.shouldTrap()||e.isDefaultPrevented())return;var t=this._focusableElements();var i=this._sortFocusableElements(t);var n=this._nextFocusable(e,i);this._focus(n);e.preventDefault()},_focusableElements:function(){var e=this.element.find(j).filter(function(e,t){return t.tabIndex>=0&&A(t).is(":visible")&&!A(t).is("[disabled]")});if(this.element.is("[tabindex]"))e.push(this.element[0]);return e},_sortFocusableElements:function(e){var t;if(W)t=e.sort(function(e,t){return e.tabIndex-t.tabIndex});else{var i="__k_index";e.each(function(e,t){t.setAttribute(i,e)});t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(i),10)-parseInt(t.getAttribute(i),10):e.tabIndex-t.tabIndex});e.removeAttr(i)}return t},_nextFocusable:function(e,t){var i=t.length;var n=t.index(e.target);return t.get((n+(e.shiftKey?-1:1))%i)},_focus:function(e){if(e.nodeName=="IFRAME"){e.contentWindow.document.body.focus();return}e.focus();if(e.nodeName=="INPUT"&&e.setSelectionRange&&this._haveSelectionRange(e))e.setSelectionRange(0,e.value.length)},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return t==="text"||t==="search"||t==="url"||t==="tel"||t==="password"}});return e.Popup.TabKeyTrap=q,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.list.min",["kendo.data.min","kendo.popup.min"],function(){var t={id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true},m=window.kendo.jQuery,p=void 0,h=window.kendo,n=h.ui,l=h._outerHeight,g=/^\d+(\.\d+)?%$/i,a=n.Widget,v=h.keys,o=h.support,M=h.htmlEncode,b=h._activeElement,s=h._outerWidth,O=h.data.ObservableArray,r="id",_="change",d="k-focus",u="k-hover",k="k-selected",i="k-i-loading k-input-loading-icon",L="k-list",B="k-table",V="k-data-table",U="k-table-md",f="k-list-ul",W="k-table-list",c=".k-list-group-sticky-header",j=".k-list-item-group-label",q=".k-list-item",G=".k-table-row",$="open",Y="close",w="cascade",y="select",x="click",K="mouseleave",Q="mouseenter",C="activate",X="deactivate",T="dataBinding",S="dataBound",J="selectedItemChange",Z="selected",ee="requestStart",te="requestEnd",ie="blur",D="focus",ne="focusout",F=m.extend,re=Array.isArray,ae=o.browser,oe="k-hidden",se="width",le="text",de="value",ue=ae.msie,fe=/"/g,ce={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},pe='<ul unselectable="on"/>',he="<div class='k-list'/>",me='<div class="k-no-data" style="display: none;"></div>',ge='<div class="k-list-footer"></div>',ve='<div class="k-table-footer">'+'<span class="k-table-td"></span>'+"</div>",be="mousedown",_e="-list",ke="_listbox",we="aria-labelledby",ye="aria-label",I="aria-activedescendant",xe="aria-autocomplete",Ce="aria-controls",Te="aria-live",Se="aria-expanded",De="aria-hidden",Fe="aria-busy",Ie="aria-multiselectable",E="aria-selected",e=".k-table-group-row",z=h.ui.DataBoundWidget.extend({init:function(e,t){var i=this,n;a.fn.init.call(i,e,t);e=i.element;t=i.options;i._isSelect=e.is(y);if(i._isSelect&&i.element[0].length)if(!t.dataSource){t.dataTextField=t.dataTextField||le;t.dataValueField=t.dataValueField||de}i._listSize=h.cssProperties.getValidClass({widget:"List",propName:"size",value:t.size});i.ul=m(pe).attr({tabIndex:-1,"aria-hidden":true});i.list=m(he).addClass(i._listSize).append(i.ul);n=e.attr(r);if(!n)n=h.guid();i.list.attr(r,n+_e);i.ul.attr(r,n+ke);if(t.columns&&t.columns.length){i.list.removeClass(L).addClass(V);i.list.removeClass(i._listSize).addClass(U);i.ul.removeClass(f).addClass(B);i._columnsHeader()}i._header();i._noData();i._footer();i._accessors();i._initValue()},options:{valuePrimitive:false,footerTemplate:"",headerTemplate:"",noDataTemplate:true,size:"medium",messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){a.fn.setOptions.call(this,e);if(e&&e.enable!==p)e.enabled=e.enable;if(e.columns&&e.columns.length)this._columnsHeader();this._header();this._noData();this._footer();this._renderFooter();this._renderNoData()},focus:function(){this._focused.trigger(D)},readonly:function(e){this._editable({readonly:e===p?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===p?true:e)})},_header:function(){var e=this;var t=m(e.header);var i=e.options.headerTemplate;this._angularElement(t,"cleanup");h.destroy(t);t.remove();if(!i){e.header=null;return}var n=typeof i!=="function"?h.template(i):i;t=m(n({}));e.header=t[0]?t:null;if(e.list.parent.length>0)e.list.before(t);this._angularElement(e.header,"compile")},_columnsHeader:function(){var e=this;var t=m(e.columnsHeader);this._angularElement(t,"cleanup");h.destroy(t);t.remove();var i="<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>";var n="<colgroup>";var r="<tr class='k-table-row'>";for(var a=0;a<this.options.columns.length;a++){var o=this.options.columns[a];var s=o.title||o.field||"";var l=o.headerTemplate||s;var d=typeof l!=="function"?h.template(l):l;var u=o.width;var f=parseInt(u,10);var c="";if(u&&!isNaN(f)){c+="style='width:";c+=f;c+=g.test(u)?"%":"px";c+=";'"}n+="<col "+c+"/>";r+="<th class='k-table-th'>";r+=d(o);r+="</th>"}n+="</colgroup>";r+="</tr>";i+=n;i+="<thead class='k-table-thead'>";i+=r;i+="</thead></table></div></div>";e.columnsHeader=t=m(i);e.list.prepend(t);this._angularElement(e.columnsHeader,"compile")},_noData:function(){var e=this;var t=m(e.noData);var i=e.options.noDataTemplate===true?e.options.messages.noData:e.options.noDataTemplate;e.angular("cleanup",function(){return{elements:t}});h.destroy(t);t.remove();if(!i){e.noData=null;return}e.noData=m(me).appendTo(e.list);e.noDataTemplate=typeof i!=="function"?h.template(i):i},_footer:function(){var e=this;var t=m(e.footer);var i=e.options.footerTemplate;var n=this.options.columns&&this.options.columns.length?ve:ge;this._angularElement(t,"cleanup");h.destroy(t);t.remove();if(!i){e.footer=null;return}e.footer=m(n).appendTo(e.list);e.footerTemplate=typeof i!=="function"?h.template(i):i},_listOptions:function(e){var t=this;var i=t.options;var n=i.virtual;var r={change:t._listChange.bind(t)};var a=t._listBound.bind(t);var o=t._focused;var s=t.element.attr("id");var l=m('label[for="'+t.element.attr("id")+'"]');var d=o.attr(we);if(!d&&l.length)d=l.attr("id")||t._generateLabelId(l,s||h.guid());n=typeof n==="object"?n:{};e=m.extend({autoBind:false,selectable:true,dataSource:t.dataSource,click:t._click.bind(t),activate:t._activateItem.bind(t),columns:i.columns,deactivate:t._deactivateItem.bind(t),dataBinding:function(){t.trigger(T)},dataBound:a,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template,ariaLabel:o.attr(ye),ariaLabelledBy:d,listSize:t._listSize},e,n,r);if(!e.template)e.template="#:"+h.expr(e.dataTextField,"data")+"#";if(i.$angular)e.$angular=i.$angular;return e},_initList:function(){var e=this;var t=e._listOptions({selectedItemChange:e._listChange.bind(e)});if(!e.options.virtual)e.listView=new h.ui.StaticList(e.ul,t);else{e.listView=new h.ui.VirtualList(e.ul,t);e.list.addClass("k-virtual-list")}e.listView.bind("listBound",e._listBound.bind(e));e._setListValue()},_setListValue:function(e){e=e||this.options.value;if(e!==p)this.listView.value(e).done(this._updateSelectionState.bind(this))},_updateSelectionState:m.noop,_listMousedown:function(e){if(!this.filterInput||this.filterInput[0]!==e.target)e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&e!=="none"},_hideClear:function(){var e=this;if(e._clear)e._clear.addClass(oe)},_showClear:function(){if(this._clear)this._clear.removeClass(oe)},_clearValue:function(){this._clearText();this._accessor("");this.listView.value([]);if(this._isSelect)this._customOption=p;if(this._isFilterEnabled()&&!this.options.enforceMinLength){this._filter({word:"",open:false});if(this.options.highlightFirst)this.listView.focus(0)}this._change()},_clearText:function(){this.text("")},_clearFilter:function(){if(!this.options.virtual)this.listView.bound(false);this._filterSource()},_filterSource:function(e,t){var i=this;var n=i.options;var r=n.filterFields&&e&&e.logic&&e.filters&&e.filters.length;var a=i.dataSource;var o=F({},a.filter()||{});var s=e||o.filters&&o.filters.length&&!e;var l=H(o,n.dataTextField);this._clearFilterExpressions(o);if((e||l)&&i.trigger("filtering",{filter:e}))return m.Deferred().reject().promise();var d={filters:[],logic:"and"};if(r)d.filters.push(e);else this._pushFilterExpression(d,e);if(Ae(o))if(d.logic===o.logic)d.filters=d.filters.concat(o.filters);else d.filters.push(o);if(i._cascading)this.listView.setDSFilter(d);var u=F({},{page:s?1:a.page(),pageSize:s?a.options.pageSize:a.pageSize(),sort:a.sort(),filter:a.filter(),group:a.group(),aggregate:a.aggregate()},{filter:d});return a[t?"read":"query"](a._mergeState(u))},_pushFilterExpression:function(e,t){if(Ae(t)&&t.value!=="")e.filters.push(t)},_clearFilterExpressions:function(e){if(!e.filters)return;var t;for(var i=0;i<e.filters.length;i++)if("fromFilter"in e.filters[i])t=i;if(!isNaN(t))e.filters.splice(t,1)},_angularElement:function(e,t){if(!e)return;this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this;var t=e.noData;if(!t)return;this._angularElement(t,"cleanup");t.html(e.noDataTemplate({instance:e}));this._angularElement(t,"compile")},_toggleNoData:function(e){m(this.noData).toggle(e)},_toggleHeader:function(e){var t=this.listView.content.prev(c);t.toggle(e)},_renderFooter:function(){var e=this,t=e.footer?this.options.columns&&this.options.columns.length?e.footer.children().first():e.footer:null;if(!t)return;this._angularElement(t,"cleanup");t.html(e.footerTemplate({instance:e}));this._angularElement(t,"compile")},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this,t=e.options.value;if(t!==null)e.element.val(t);else{t=e._accessor();e.options.value=t}e._old=t},_ignoreCase:function(){var e=this,t=e.dataSource.reader.model,i;if(t&&t.fields){i=t.fields[e.options.dataTextField];if(i&&i.type&&i.type!=="string")e.options.ignoreCase=false}},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t=this;var i=t.options;var n=e.word;var r=i.filterFields;var a=i.dataTextField;var o;if(r&&r.length){o={logic:"or",filters:[],fromFilter:true};for(var s=0;s<r.length;s++)this._pushFilterExpression(o,t._buildExpression(n,r[s]))}else o=t._buildExpression(n,a);t._open=e.open;t._filterSource(o)},_buildExpression:function(e,t){var i=this;var n=i.options;var r=n.ignoreCase;var a=i.dataSource.options.accentFoldingFiltering;return{value:r?a?e.toLocaleLowerCase(a):e.toLowerCase():e,field:t,operator:n.filter,ignoreCase:r}},_clearButton:function(){var e=this;var t=e.options.messages.clear;if(!e._clear)e._clear=m('<span unselectable="on" class="k-clear-value" title="'+t+'"><span class="k-icon k-i-x"></span></span>').attr({role:"button",tabIndex:-1});if(!e.options.clearButton)e._clear.remove();this._hideClear()},search:function(e){var t=this.options;e=typeof e==="string"?e:this._inputValue();clearTimeout(this._typingTimeout);if(!t.enforceMinLength&&!e.length||e.length>=t.minLength){this._state="filter";if(this.listView)this.listView._emptySearch=!h.trim(e).length;if(!this._isFilterEnabled())this._searchByWord(e);else this._filter({word:e,open:true})}},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this;var t=e.ns;a.fn.destroy.call(e);e._unbindDataSource();e.listView.destroy();e.list.off(t);e.popup.destroy();if(e._form)e._form.off("reset",e._resetHandler)},dataItem:function(e){var t=this;if(e===p)return t.listView.selectedDataItems()[0];if(typeof e!=="number"){if(t.options.virtual)return t.dataSource.getByUid(m(e).data("uid"));e=m(t.items()).index(e)}return t.dataSource.flatView()[e]},_activateItem:function(){var e=this.listView.focus();if(e&&this.popup.visible())this._focused.add(this.filterInput).attr(I,e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr(I)},_accessors:function(){var e=this;var t=e.element;var i=e.options;var n=h.getter;var r=t.attr(h.attr("text-field"));var a=t.attr(h.attr("value-field"));if(!i.dataTextField&&r)i.dataTextField=r;if(!i.dataValueField&&a)i.dataValueField=a;e._text=n(i.dataTextField);e._value=n(i.dataValueField)},_aria:function(e){var t=this,i=t.options,n=t._focused,r;if(i.suggest!==p){if(i.filter==="none")if(i.suggest===true)r="inline";else r="none";else if(i.suggest===true)r="both";else r="list";n.attr(xe,r)}e=e?e+" "+t.ul[0].id:t.ul[0].id;n.attr({"aria-controls":e});if(t.filterInput&&t.filterInput.length>0)t.filterInput.attr(Ce,e);t.ul.attr(Te,!t._isFilterEnabled()?"off":"polite");t._ariaLabel(t._focused)},_blur:function(){var e=this;e._change();e.close();e._userTriggered=false},_isValueChanged:function(e){return e!==A(this._old,typeof e)},_change:function(){var e=this;var t=e.selectedIndex;var i=e.options.value;var n=e.value();var r;if(e._isSelect&&!e.listView.bound()&&i)n=i;if(e._isValueChanged(n))r=true;else if(e._valueBeforeCascade!==p&&e._valueBeforeCascade!==A(e._old,typeof e._valueBeforeCascade)&&e._userTriggered)r=true;else if(t!==p&&t!==e._oldIndex&&!e.listView.isFiltered())r=true;if(r){if(e._old===null||e._old===""||n==="")e._valueBeforeCascade=e._old=n;else if(e.dataItem())e._valueBeforeCascade=e._old=e.options.dataValueField?e.dataItem()[e.options.dataValueField]:e.dataItem();else e._valueBeforeCascade=e._old=null;e._oldIndex=t;if(!e._typing)e.element.trigger(_);e.trigger(_)}e.typing=false},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,t=e.options,i=e.element.is("[disabled]");if(t.enable!==p)t.enabled=t.enable;if(!t.enabled||i)e.enable(false);else e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var t=this._value(e);if(t===p)t=this._text(e);return t},_offsetHeight:function(){var t=0;var e=this.listView.content.parent().prevAll(":visible");e.each(function(){var e=m(this);t+=l(e,true)});return t},_height:function(e){var t=this;var i=t.list;var n=t.options.height;var r=t.popup.visible();var a=this.options.columns&&this.options.columns.length;var o,s;if(e||t.options.noDataTemplate){s=i.parent().add(i.closest(".k-animation-container")).show();if(!i.parent().is(":visible")){s.hide();return}n=t.listView.content[0].scrollHeight>n?n:"auto";s.height(n);if(n!=="auto"){o=t._offsetHeight();n=n-o;if(a)n=n-(l(m(t.footer))||0)-(l(m(t.columnsHeader))||0)}if(a)t.listView.content.outerHeight(n);else t.listView.content.parent().outerHeight(n);if(!r)i.parent().hide()}return n},_openHandler:function(e){var t;this._adjustListWidth();if(this.trigger($))e.preventDefault();else{this._focused.attr(Se,true);this.ul.attr(De,false);t=this.listView.focus();if(t)this._focused.add(this.filterInput).attr(I,t.attr("id"))}},_adjustListWidth:function(){var e=this,t=e.list.parent(),i=t[0].style.width,n=e.wrapper,r,a;if(!t.data(se)&&i)return;r=window.getComputedStyle?window.getComputedStyle(n[0],null):0;a=parseFloat(r&&r.width)||s(n);if(r&&ae.msie)a+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);if(t.css("box-sizing")!=="border-box")i=a-(s(t)-t.width());else i=a;t.css({fontFamily:n.css("font-family"),width:e.options.autoWidth?"auto":i,minWidth:i,whiteSpace:e.options.autoWidth?"nowrap":"normal"}).data(se,i);return true},_closeHandler:function(e){if(this.trigger(Y))e.preventDefault();else{this._focused.attr(Se,false);this.ul.attr(De,true);this._focused.add(this.filterInput).removeAttr(I)}},_focusItem:function(){var e=this.listView;var t=!e.focus();var i=N(e.select());if(i===p&&this.options.highlightFirst&&t)i=0;if(i!==p)e.focus(i);else if(t)e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first").first();var i=this.listView.content.prev(c);var n=0;var r="right";if(i[0]&&i[0].style.display!=="none"){if(e!=="auto")n=h.support.scrollbar();if(this.element.parents(".k-rtl").length)r="left";n+=parseFloat(t.css("border-"+r+"-width"),10)+parseFloat(t.children(j).css("padding-"+r),10);i.css("padding-"+r,n)}},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t);this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=this;var i=o.isRtl(t.wrapper);var n=h.support.scrollbar();t.columnsHeader.css(i?"padding-left":"padding-right",e!=="auto"?n:0)}},_refreshScroll:function(){var e=this.listView;var t=e.element.height()>e.content.height();if(this.options.autoWidth)e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){if(this.options.virtual)return;if(!this.popup.element.is(":visible")){this.popup.one("open",function(e){return function(){this._calculatePopupHeight(e)}.bind(this)}.call(this,e));this.popup.one(C,this._refreshScroll.bind(this))}else this._calculatePopupHeight(e)},_popup:function(){var e=this;e.list.wrap("<div>");e.popup=new n.Popup(e.list.parent(),F({},e.options.popup,{anchor:e.wrapper,open:e._openHandler.bind(e),close:e._closeHandler.bind(e),animation:e.options.animation,isRtl:o.isRtl(e.wrapper),autosize:e.options.autoWidth}));e.popup.element.prepend(e.header).on(be+this.ns,this._listMousedown.bind(this))},_toggleHover:function(e){m(e.currentTarget).toggleClass(u,e.type===Q)},_toggle:function(e,t){var i=this;var n=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);e=e!==p?e:!i.popup.visible();if(!t&&!n&&i._focused[0]!==b()){i._prevent=true;i._focused.trigger(D);i._prevent=false}i[e?$:Y]()},_triggerCascade:function(){var e=this;if(!e._cascadeTriggered||e.value()!==A(e._cascadedValue,typeof e.value())){e._cascadedValue=e.value();e._cascadeTriggered=true;e.trigger(w,{userTriggered:e._userTriggered})}},_triggerChange:function(){if(this._valueBeforeCascade!==this.value())this.trigger(_)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(ee,e._requestStartHandler).unbind(te,e._requestEndHandler).unbind("error",e._errorHandler)},requireValueMapper:function(e,t){var i=(e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t);if(i&&e.virtual&&typeof e.virtual.valueMapper!=="function")throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function A(e,t){if(e!==p&&e!==""&&e!==null)if(t==="boolean"){if(typeof e!=="boolean")e=e.toString().toLowerCase()==="true";e=Boolean(e)}else if(t==="number")e=Number(e);else if(t==="string")e=e.toString();return e}F(z,{inArray:function(e,t){var i,n,r=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,n=r.length;i<n;i++)if(e===r[i])return i;return-1},unifyType:A}),n.Select=(h.ui.List=z).extend({init:function(e,t){z.fn.init.call(this,e,t);this._initial=this.element.val()},setDataSource:function(e){var t=this;var i;t.options.dataSource=e;t._dataSource();if(t.listView.bound()){t._initialIndex=null;t.listView._current=null}t.listView.setDataSource(t.dataSource);if(t.options.autoBind)t.dataSource.fetch();i=t._parentWidget();if(i)t._cascadeSelect(i)},close:function(){this.popup.close()},select:function(e){var t=this;if(e===p)return t.selectedIndex;else return t._select(e).done(function(){t._cascadeValue=t._old=t._accessor();t._oldIndex=t.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var t=this.element[0];if(e===p)return t.value;else{if(e===null)e="";t.value=e}},_accessorSelect:function(e,t){var i=this.element[0];var n;if(e===p)return P(i).value||"";P(i).selected=false;if(t===p)t=-1;n=e!==null&&e!=="";if(n&&t==-1)this._custom(e);else if(e)i.value=e;else i.selectedIndex=t},_syncValueAndText:function(){return true},_custom:function(e){var t=this;var i=t.element;var n=t._customOption;if(!n){n=m("<option/>");t._customOption=n;i.append(n)}n.text(e);n[0].selected=true},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._arrowIcon.removeClass(i);e._focused.attr(Fe,false);e._busy=null;e._showClear()},_showBusy:function(e){var t=this;if(e.isDefaultPrevented())return;t._request=true;if(t._busy)return;t._busy=setTimeout(function(){if(t._arrowIcon){t._focused.attr(Fe,true);t._arrowIcon.addClass(i);t._hideClear()}},100)},_requestEnd:function(){this._request=false;this._hideBusy()},_dataSource:function(){var e=this,t=e.element,i=e.options,n=i.dataSource||{},r;n=Array.isArray(n)?{data:n}:n;if(e._isSelect){r=t[0].selectedIndex;if(r>-1)i.index=r;n.select=t;n.fields=[{field:i.dataTextField},{field:i.dataValueField}]}if(e.dataSource)e._unbindDataSource();else{e._requestStartHandler=e._showBusy.bind(e);e._requestEndHandler=e._requestEnd.bind(e);e._errorHandler=e._hideBusy.bind(e)}e.dataSource=h.data.DataSource.create(n).bind(ee,e._requestStartHandler).bind(te,e._requestEndHandler).bind("error",e._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){return this.listView.focusNext()},_prevItem:function(){return this.listView.focusPrev()},_getNormalizedDataItem:function(e){var t=this,i=t.listView,n=typeof e==="number",r=t.optionLabel&&t.optionLabel.length,a;if(n)a=r?--e:e;else a=i.getElementIndex(e);return i.dataItemByIndex(a)},_getNormalizedSelectCandidate:function(e){var t=this,i=t.optionLabel&&t.optionLabel.length,n=typeof e==="number",r=e;if(i&&n)r++;return r},_move:function(e){var t=this;var i=t.listView;var n=e.keyCode;var r=n===v.DOWN;var a=t.options.virtual;var o;var s;var l;var d;var u;if(n===v.UP||r){if(e.altKey)t.toggle(r);else{if(!i.bound()&&!t.ul[0].firstChild){if(!t._fetch){t.dataSource.one(_,function(){t._fetch=false;t._move(e)});t._fetch=true;t._filterSource()}e.preventDefault();return true}l=t._focus();if(!t._fetch&&(!l||l.hasClass(k)))if(r){d=t._nextItem();if(a&&d<=0||!t._focus()&&!d)t._lastItem()}else{d=t._prevItem();if(a&&d>=i.dataSource.total()-1||!t._focus()&&!d)t._firstItem()}u=t._getNormalizedSelectCandidate(t._get(t._focus())||d||0);t._select(u,true).done(function(){var e=function(){if(!t.popup.visible())t._blur();if(t._cascadedValue===null)t._cascadedValue=t.value();else t._cascadedValue=t.dataItem()?t.dataItem()[t.options.dataValueField]||t.dataItem():null};if(t.trigger(y,{dataItem:t._getNormalizedDataItem(u),item:t._focus()}))t._select(l).done(e);else e()})}e.preventDefault();s=true}else if(n===v.ENTER||n===v.TAB){if(t.popup.visible())e.preventDefault();l=t._focus();o=t.dataItem();if(!t.popup.visible()&&(!o||t.text()!==t._text(o)))l=null;var f=t.filterInput&&t.filterInput[0]===b();var c;if(l){o=i.dataItemByIndex(i.getElementIndex(l));var p=true;if(o)p=t._value(o)!==z.unifyType(t.value(),typeof t._value(o));if(p&&t.trigger(y,{dataItem:o,item:l}))return;c=t._select(l)}else if(t.input){if(t._syncValueAndText()||t._isSelect)t._accessor(t.input.val());t.listView.value(t.input.val())}if(t._focusElement)t._focusElement(t.wrapper);if(f&&n===v.TAB)t.wrapper.focusout();else if(c&&typeof c.done==="function")c.done(function(){t._blur()});else t._blur();t.close();s=true}else if(n===v.ESC){if(t.popup.visible())e.preventDefault();t.close();s=true}else if(t.popup.visible()&&(n===v.PAGEDOWN||n===v.PAGEUP)){e.preventDefault();var h=n===v.PAGEDOWN?1:-1;i.scrollWith(h*i.screenHeight());s=true}return s},_fetchData:function(){var e=this;var t=!!e.dataSource.view().length;if(e._request||e.options.cascadeFrom)return;if(!e.listView.bound()&&!e._fetch&&!t){e._fetch=true;e.dataSource.fetch().done(function(){e._fetch=false})}},_options:function(e,t,i){var n=this,r=n.element,a=r[0],o=e.length,s="",l,d,u,f,c=0;if(t)s=t;for(;c<o;c++){l="<option";d=e[c];u=n._text(d);f=n._value(d);if(f!==p){f+="";if(f.indexOf('"')!==-1)f=f.replace(fe,"&quot;");l+=' value="'+f+'"'}l+=">";if(u!==p)l+=M(u);l+="</option>";s+=l}r.html(s);if(i!==p){a.value=i;if(a.value&&!i)a.selectedIndex=-1}if(a.selectedIndex!==-1){l=P(a);if(l)l.setAttribute(Z,Z)}},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})};e._form=n.on("reset",e._resetHandler)}},_parentWidget:function(){var e=this.options.name;if(!this.options.cascadeFrom)return;var t=m("#"+this.options.cascadeFrom);var i=t.data("kendo"+e);if(!i)for(var n=0;n<ce[e].length;n+=1){i=t.data("kendo"+ce[e][n]);if(!!i)break}return i},_cascade:function(){var t=this;var e=t.options;var i=e.cascadeFrom;var n;if(i){n=t._parentWidget();if(!n)return;t._cascadeHandlerProxy=t._cascadeHandler.bind(t);t._cascadeFilterRequests=[];e.autoBind=false;n.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})});n.first(w,t._cascadeHandlerProxy);if(n.listView.bound()){t._toggleCascadeOnFocus();t._cascadeSelect(n)}else{n.one(S,function(){t._toggleCascadeOnFocus();if(n.popup.visible())n._focused.trigger(D)});if(!n.value())t.enable(false)}}},_toggleCascadeOnFocus:function(){var e=this;var t=e._parentWidget();var i=ue&&t instanceof n.DropDownList?ie:ne;t._focused.add(t.filterInput).on(D,function(){t.unbind(w,e._cascadeHandlerProxy);t.unbind(_,e._cascadeHandlerProxy);t.first(_,e._cascadeHandlerProxy)});t._focused.add(t.filterInput).on(i,function(){t.unbind(_,e._cascadeHandlerProxy);t.unbind(w,e._cascadeHandlerProxy);t.first(w,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget();var i=this.value();this._userTriggered=e.userTriggered||t._userTriggered;if(this.listView.bound())this._clearSelection(t,true);this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this;var i=t._accessor()||t._selectedValue;if(!t._cascadeFilterRequests.length)t._selectedValue=null;if(t._userTriggered)t._clearSelection(e,true);else if(i){if(i!==A(t.listView.value()[0],typeof i))t.value(i);if(!t.dataSource.view()[0]||t.selectedIndex===-1)t._clearSelection(e,true)}else if(t.dataSource.flatView().length)t.select(t.options.index);t.enable();t._triggerCascade();t._triggerChange();t._userTriggered=false},_cascadeSelect:function(t,e){var i=this;var n=t.dataItem();var r=n?n[i.options.cascadeFromParentField]||t._value(n):null;var a=i.options.cascadeFromField||t.options.dataValueField;var o;i._valueBeforeCascade=e!==p?e:i.value();if(r||r===0){o=i.dataSource.filter()||{};H(o,a);var s=function(){var e=i._cascadeFilterRequests.shift();if(e)i.unbind("dataBound",e);e=i._cascadeFilterRequests[0];if(e)i.first("dataBound",e);i._cascadeChange(t)};i._cascadeFilterRequests.push(s);if(i._cascadeFilterRequests.length===1)i.first("dataBound",s);i._cascading=true;i._filterSource({field:a,operator:"eq",value:r});i._cascading=false}else{i.enable(false);i._clearSelection(t);i._triggerCascade();i._triggerChange();i._userTriggered=false}}});var R=".StaticList",Ee=h.ui.DataBoundWidget.extend({init:function(e,t){a.fn.init.call(this,e,t);this.element.attr("role","listbox").on(x+R,"li",this._click.bind(this)).on(Q+R,"li",function(){m(this).addClass(u)}).on(K+R,"li",function(){m(this).removeClass(u)});if(t&&t.ariaLabel)this.element.attr(ye,t.ariaLabel);else if(t&&t.ariaLabelledBy)this.element.attr(we,t.ariaLabelledBy);if(o.touch)this._touchHandlers();if(this.options.selectable==="multiple")this.element.attr(Ie,true);if(this.options.columns&&this.options.columns.length){var i=this.element.parent().find(".k-table-thead");var n=m('<tr class="k-table-group-row">'+'<th class="k-table-th" colspan="'+this.options.columns.length+'"></th>'+"</tr>");i.append(n);this.header=n.find(".k-table-th");this.content=this.element.wrap("<div class='k-table-body k-table-scroller' unselectable='on'></div>").parent();this.element.addClass(W)}else{this.content=this.element.wrap("<div class='k-list-content k-list-scroller' unselectable='on'></div>").parent();this.header=this.content.before('<div class="k-list-group-sticky-header" style="display:none"></div>').prev();this.element.addClass(f)}this.bound(false);this._optionID=h.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var r=this.options.value;if(r)this._values=Array.isArray(r)?r.slice(0):[r];this._getter();this._templates();this.setDataSource(this.options.dataSource);this._createOnScrollProxy()},options:{name:"StaticList",dataValueField:null,valuePrimitive:false,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null,ariaLabel:null,ariaLabelledBy:null},events:[x,_,C,X,T,S,J],setDataSource:function(e){var t=this;var i=e||{};var n;i=Array.isArray(i)?{data:i}:i;i=h.data.DataSource.create(i);if(t.dataSource){t.dataSource.unbind(_,t._refreshHandler);n=t.value();t.value([]);t.bound(false);t.value(n)}else t._refreshHandler=t.refresh.bind(t);t.setDSFilter(i.filter());t.dataSource=i.bind(_,t._refreshHandler);t._fixedHeader()},_touchHandlers:function(){var t=this,i=this.options.columns&&this.options.columns.length?G:q,n,r,a=function(e){return(e.originalEvent||e).changedTouches[0].pageY};t.element.on("touchstart"+R,function(e){n=a(e)});t.element.on("touchend"+R,function(e){if(e.isDefaultPrevented())return;r=a(e);if(Math.abs(r-n)<10){t._touchTriggered=true;t._triggerClick(m(e.target).closest(i).get(0))}})},skip:function(){return this.dataSource.skip()},setOptions:function(e){a.fn.setOptions.call(this,e);this._getter();this._templates();this._render()},destroy:function(){this.element.off(R);if(this._refreshHandler)this.dataSource.unbind(_,this._refreshHandler);clearTimeout(this._scrollId);a.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];if(t)this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(!e)return;if(e[0])e=e[0];var t=this.content[0],i=e.offsetTop,n=e.offsetHeight,r=t.scrollTop,a=t.clientHeight,o=i+n;if(r>i)r=i;else if(o>r+a)r=o-a;t.scrollTop=r},selectedDataItems:function(e){if(e===p)return this._dataItems.slice();this._dataItems=e;this._values=this._getValues(e)},_getValues:function(e){var t=this._valueGetter;return m.map(e,function(e){return t(e)})},focusNext:function(){var e=this.focus();if(!e)e=0;else e=e.next();this.focus(e)},focusPrev:function(){var e=this.focus();if(!e)e=this.element[0].children.length-1;else e=e.prev();this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(N(this.element[0].children))},focus:function(e){var t=this;var i=t._optionID;var n;if(e===p)return t._current;e=N(t._get(e));e=m(this.element[0].children[e]);if(t._current){t._current.removeClass(d).removeAttr(r);t.trigger(X)}n=!!e[0];if(n){e.addClass(d);t.scroll(e);e.attr("id",i)}t._current=n?e:null;t.trigger(C)},focusIndex:function(){return this.focus()?this.focus().index():p},skipUpdate:function(e){this._skipUpdate=e},select:function(e){var t=this;var i=t.options.selectable;var n=i!=="multiple"&&i!==false;var r=t._selectedIndices;var a=[this.element.find(".k-selected").index()];var o=[];var s=[];var l;if(e===p)return r.slice();e=t._get(e);if(e.length===1&&e[0]===-1)e=[];var d=m.Deferred().resolve();var u=t.isFiltered();if(u&&!n&&t._deselectFiltered(e))return d;if(n&&!u&&m.inArray(N(e),r)!==-1&&m.inArray(N(e),a)!==-1){if(t._dataItems.length&&t._view.length)t._dataItems=[t._view[r[0]].item];return d}l=t._deselect(e);s=l.removed;e=l.indices;if(e.length){if(n)e=[N(e)];o=t._select(e)}if(o.length||s.length){t._valueComparer=null;t.trigger(_,{added:o,removed:s})}return d},removeAt:function(e){this._selectedIndices.splice(e,1);this._values.splice(e,1);this._valueComparer=null;return{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=Array.isArray(e)||e instanceof O?e.slice(0):[e];this._values=e;this._valueComparer=null},value:function(e){var t=this;var i=t._valueDeferred;var n;if(e===p)return t._values.slice();t.setValue(e);if(!i||i.state()==="resolved")t._valueDeferred=i=m.Deferred();if(t.bound()){n=t._valueIndices(t._values);if(t.options.selectable==="multiple")t.select(-1);t.select(n);i.resolve()}t._skipUpdate=false;return i},items:function(){return this.element.children(q)},_click:function(e){if(this._touchTriggered){this._touchTriggered=false;return}if(!e.isDefaultPrevented())this._triggerClick(e.currentTarget)},_createOnScrollProxy:function(){var e=function(){var e=this;clearTimeout(e._scrollId);e._scrollId=setTimeout(function(){e._renderHeader()},50)};this._onScroll=e.bind(this)},_triggerClick:function(e){if(!this.trigger(x,{item:m(e)}))this.select(e)},_valueExpr:function(e,t){var i=this;var n=0;var r;var a;var o=[];if(!i._valueComparer||i._valueType!==e){i._valueType=e;for(;n<t.length;n++)o.push(A(t[n],e));r="for (var idx = 0; idx < "+o.length+"; idx++) {"+" if (current === values[idx]) {"+"   return idx;"+" }"+"} "+"return -1;";a=new Function("current","values",r);i._valueComparer=function(e){return a(e,o)}}return i._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e);var n=this._valueExpr(typeof i,t);return n(i)},_getter:function(){this._valueGetter=h.getter(this.options.dataValueField)},_deselect:function(e){var t=this;var i=t.element[0].children;var n=t.options.selectable;var r=t._selectedIndices;var a=t._dataItems;var o=t._values;var s=[];var l=0;var d;var u,f;var c=0;e=e.slice();if(n===true||!e.length){for(;l<r.length;l++){m(i[r[l]]).removeClass(k).attr(E,false);s.push({position:l,dataItem:a[l]})}t._values=[];t._dataItems=[];t._selectedIndices=[]}else if(n==="multiple")for(;l<e.length;l++){u=e[l];if(!m(i[u]).hasClass(k))continue;for(d=0;d<r.length;d++){f=r[d];if(f===u){m(i[f]).removeClass(k).attr(E,false);var p=this._view[u].item;var h=this._dataItemPosition(p,this._values);s.push({position:h,dataItem:p});a.splice(d,1);r.splice(d,1);e.splice(l,1);o.splice(d,1);c+=1;l-=1;d-=1;break}}}return{indices:e,removed:s}},_deselectFiltered:function(e){var t=this.element[0].children;var i,n,r;var a=[];var o=0;for(;o<e.length;o++){n=e[o];i=this._view[n].item;r=this._dataItemPosition(i,this._values);if(r>-1){a.push(this.removeAt(r));m(t[n]).removeClass(k)}}if(a.length){this.trigger(_,{added:[],removed:a});return true}return false},_select:function(e){var t=this;var i=t.element[0].children;var n=t._view;var r,a;var o=[];var s=0;if(N(e)!==-1)t.focus(e);for(;s<e.length;s++){a=e[s];r=n[a];if(a===-1||!r)continue;r=r.item;t._selectedIndices.push(a);t._dataItems.push(r);t._values.push(t._valueGetter(r));m(i[a]).addClass(k).attr(E,true);o.push({dataItem:r})}return o},getElementIndex:function(e){return m(e).data("offset-index")},_get:function(e){if(typeof e==="number")e=[e];else if(!re(e)){e=this.getElementIndex(e);e=[e!==p?e:-1]}return e},_template:function(){var e=this;var t=e.options;var i=t.template;if(!i)i=h.template('<li tabindex="-1" role="option" unselectable="on" class="k-list-item"><span class="k-list-item-text">${'+h.expr(t.dataTextField,"data")+"}</span></li>",{useWithBlock:false});else{i=h.template(i);i=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-list-item">'+i(e)+"</li>"}}return i},_templates:function(){var e;var t=this.options;var i={template:t.template,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};if(t.columns)for(var n=0;n<t.columns.length;n++){var r=t.columns[n];var a=r.field?r.field.toString():le;i["column"+n]=r.template||"#: "+a+"#"}for(var o in i){e=i[o];if(e&&typeof e!=="function")i[o]=h.template(e)}this.templates=i},_normalizeIndices:function(e){var t=[];var i=0;for(;i<e.length;i++)if(e[i]!==p)t.push(e[i]);return t},_valueIndices:function(e,t){var i=this._view;var n=0;var r;t=t?t.slice():[];if(!e.length)return[];for(;n<i.length;n++){r=this._dataItemPosition(i[n].item,e);if(r!==-1)t[r]=n}return this._normalizeIndices(t)},_firstVisibleItem:function(){var e=this.element[0];var t=this.content[0];var i=t.scrollTop;var n=m(e.children[0]).height();var r=Math.floor(i/n)||0;var a=e.children[r]||e.lastChild;var o=a.offsetTop<i;while(a)if(o){if(a.offsetTop+n>i||!a.nextSibling)break;a=a.nextSibling}else{if(a.offsetTop<=i||!a.previousSibling)break;a=a.previousSibling}return this._view[m(a).data("offset-index")]},_fixedHeader:function(){if(this.isGrouped()&&this.templates.fixedGroupTemplate){if(this.header.closest(e).length)this.header.closest(e).show();else this.header.show();this.content.scroll(this._onScroll)}else{if(this.header.closest(e).length)this.header.closest(e).hide();else this.header.hide();this.content.off("scroll",this._onScroll)}},_renderHeader:function(){var e=this.templates.fixedGroupTemplate;if(!e)return;var t=this._firstVisibleItem();if(t&&t.group.toString().length)this.header.html(e(t.group))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" ';var i=e.item;var n=e.index!==0;var r=e.selected;var a=this.isGrouped();var o=this.options.columns&&this.options.columns.length;var s=e.index%2===1?" k-table-alt-row":"";if(o)t+='class="k-table-row'+s;else t+='class="k-list-item';if(n&&e.newGroup)t+=" k-first";if(e.isLastGroupedItem&&o)t+=" k-last";if(r)t+=" k-selected";t+='" aria-selected="'+(r?"true":"false")+'" data-offset-index="'+e.index+'">';if(o)t+=this._renderColumns(i);else{t+='<span class="k-list-item-text">';t+=this.templates.template(i);t+="</span>"}if(n&&e.newGroup)if(o)t+='<span class="k-table-td k-table-group-td"><span>'+this.templates.groupTemplate(e.group)+"</span></span>";else t+='<div class="k-list-item-group-label">'+this.templates.groupTemplate(e.group)+"</div>";else if(a&&o)t+='<span class="k-table-td k-table-spacer-td"></span>';return t+"</li>"},_renderColumns:function(e){var t="";for(var i=0;i<this.options.columns.length;i++){var n=this.options.columns[i].width;var r=parseInt(n,10);var a="";if(n&&!isNaN(r)){a+="style='width:";a+=r;a+=g.test(n)?"%":"px";a+=";'"}t+="<span class='k-table-td' "+a+">";t+=this.templates["column"+i](e);t+="</span>"}return t},_render:function(){var e="";var t=0;var i=0;var n;var r=[];var a=this.dataSource.view();var o=this.value();var s,l,d;var u=this.isGrouped();if(u)for(t=0;t<a.length;t++){s=a[t];l=true;for(d=0;d<s.items.length;d++){n={selected:this._selected(s.items[d],o),item:s.items[d],group:s.value,newGroup:l,isLastGroupedItem:d===s.items.length-1,index:i};r[i]=n;i+=1;e+=this._renderItem(n);l=false}}else for(t=0;t<a.length;t++){n={selected:this._selected(a[t],o),item:a[t],index:t};r[t]=n;e+=this._renderItem(n)}this._view=r;this.element[0].innerHTML=e;if(u&&r.length)this._renderHeader()},_selected:function(e,t){var i=!this.isFiltered()||this.options.selectable==="multiple";return i&&this._dataItemPosition(e,t)!==-1},setDSFilter:function(e){this._lastDSFilter=F({},e)},isFiltered:function(){if(!this._lastDSFilter)this.setDSFilter(this.dataSource.filter());return!h.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t=this;var i=e&&e.action;var n=t.options.skipUpdateOnBind;var r=i==="itemchange";var a;t.trigger(T);t._angularItems("cleanup");t._fixedHeader();t._render();t.bound(true);if(r||i==="remove"){a=ze(t._dataItems,e.items);if(a.changed.length)if(r)t.trigger(J,{items:a.changed});else t.value(t._getValues(a.unchanged))}else if(t.isFiltered()||t._skipUpdate||t._emptySearch){t.focus(0);if(t._skipUpdate){t._skipUpdate=false;t._selectedIndices=t._valueIndices(t._values,t._selectedIndices)}}else if(!n&&(!i||i==="add"))t.value(t._values);if(t._valueDeferred)t._valueDeferred.resolve();t._angularItems("compile");t.trigger(S)},bound:function(e){if(e===p)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function N(e){return e[e.length-1]}function P(e){var t=e.selectedIndex;return t>-1?e.options[t]:{}}function ze(e,t){var i=t.length;var n=e.length;var r;var a;var o,s;var l=[];var d=[];if(n)for(o=0;o<n;o++){r=e[o];a=false;for(s=0;s<i;s++)if(r===t[s]){a=true;l.push({index:o,item:r});break}if(!a)d.push(r)}return{changed:l,unchanged:d}}function Ae(e){if(!e||m.isEmptyObject(e))return false;if(e.filters&&!e.filters.length)return false;return true}function H(e,t){var i;var n=false;if(e.filters){i=m.grep(e.filters,function(e){n=H(e,t);if(e.filters)return e.filters.length;else return e.field!=t});if(!n&&e.filters.length!==i.length)n=true;e.filters=i}return n}return n.plugin(Ee),h.cssProperties.registerPrefix("List","k-list-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.fx.min",["kendo.core.min"],function(){var H={id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]},m=window.kendo.jQuery,p=void 0,f=window.kendo,g=f.effects,a=m.each,v=m.extend,l=f.support,M=l.browser,b=l.transforms,_=l.transitions,O={scale:0,scalex:0,scaley:0,scale3d:0},L={translate:0,translatex:0,translatey:0,translate3d:0},o=typeof document.documentElement.style.zoom!=="undefined"&&!b,B=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,h=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,V=/translatex?$/i,U=/(zoom|fade|expand)(\w+)/,d=/(zoom|fade|expand)/,W=/[xy]$/i,k=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],u=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],j={rotate:"deg",scale:"",skew:"px",translate:"px"},e=b.css,q=Math.round,G="",c="px",$="none",w="auto",y="width",x="height",C="hidden",T="origin",Y="abortId",S="overflow",D="translate",F="position",K="completeCallback",I=e+"transition",E=e+"transform",Q=e+"backface-visibility",X=e+"perspective",i="1500px",J="perspective("+i+")",z={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(f.directions=z,v(m.fn,{kendoStop:function(e,t){if(_)return g.stopQueue(this,e||false,t||false);else return this.stop(e,t)}}),b&&!_){a(u,function(e,n){m.fn[n]=function(e){if(typeof e=="undefined")return ie(this,n);else{var t=m(this)[0],i=n+"("+e+j[n.replace(W,"")]+")";if(t.style.cssText.indexOf(E)==-1)m(this).css(E,i);else t.style.cssText=t.style.cssText.replace(new RegExp(n+"\\(.*?\\)","i"),i)}return this};m.fx.step[n]=function(e){m(e.elem)[n](e.now)}});var Z=m.fx.prototype.cur;m.fx.prototype.cur=function(){if(u.indexOf(this.prop)!=-1)return parseFloat(m(this.elem)[this.prop]());return Z.apply(this,arguments)}}function ee(e){return parseInt(e,10)}function A(e,t){return ee(e.css(t))}function te(e){var t=[];for(var i in e)t.push(i);return t}function R(e){for(var t in e)if(k.indexOf(t)!=-1&&u.indexOf(t)==-1)delete e[t];return e}function N(e,t){var i=[],n={},r,a,o,s;for(a in t){r=a.toLowerCase();s=b&&k.indexOf(r)!=-1;if(!l.hasHW3D&&s&&u.indexOf(r)==-1)delete t[a];else{o=t[a];if(s)i.push(a+"("+o+")");else n[a]=o}}if(i.length)n[E]=i.join(" ");return n}if(f.toggleClass=function(i,e,t,n){if(e){e=e.split(" ");if(_){t=v({exclusive:"all",duration:400,ease:"ease-out"},t);i.css(I,t.exclusive+" "+t.duration+"ms "+t.ease);setTimeout(function(){i.css(I,"").css(x)},t.duration)}a(e,function(e,t){i.toggleClass(t,n)})}return i},f.parseEffects=function(e,s){var l={};if(typeof e==="string")a(e.split(" "),function(e,t){var i=!d.test(t),n=t.replace(U,function(e,t,i){return t+":"+i.toLowerCase()}),r=n.split(":"),a=r[1],o={};if(r.length>1)o.direction=s&&i?z[a].reverse:a;l[r[0]]=o});else a(e,function(e){var t=this.direction;if(t&&s&&!d.test(e))this.direction=z[t].reverse;l[e]=this});return l},_)v(g,{transition:function(e,t,i){var n,r=0,a=e.data("keys")||[],o;i=v({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i);var s=false;var l=function(){if(!s){s=true;if(o){clearTimeout(o);o=null}e.removeData(Y).dequeue().css(I,"").css(I);i.complete.call(e)}};i.duration=m.fx?m.fx.speeds[i.duration]||i.duration:i.duration;n=N(e,t);m.merge(a,te(n));if(m.hasOwnProperty("uniqueSort"))e.data("keys",m.uniqueSort(a)).height();else e.data("keys",m.unique(a)).height();e.css(I,i.exclusive+" "+i.duration+"ms "+i.ease).css(I);e.css(n).css(E);if(_.event){e.one(_.event,l);if(i.duration!==0)r=500}o=setTimeout(l,i.duration+r);e.data(Y,o);e.data(K,l)},stopQueue:function(e,t,i){var n,r=e.data("keys"),a=!i&&r,o=e.data(K);if(a)n=f.getComputedStyles(e[0],r);if(o)o();if(a)e.css(n);return e.removeData("keys").stop(t)}});function ie(e,t){if(b){var i=e.css(E);if(i==$)return t=="scale"?1:0;var n=i.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0;if(n)r=ee(n[1]);else{n=i.match(B)||[0,0,0,0,0];t=t.toLowerCase();if(V.test(t))r=parseFloat(n[3]/n[2]);else if(t=="translatey")r=parseFloat(n[4]/n[2]);else if(t=="scale")r=parseFloat(n[2]);else if(t=="rotate")r=parseFloat(Math.atan2(n[2],n[1]))}return r}else return parseFloat(e.css(t))}var ne=f.Class.extend({init:function(e,t){var i=this;i.element=e;i.effects=[];i.options=t;i.restore=[]},run:function(e){var t=this,i,n,r,a=e.length,o=t.element,s=t.options,l=m.Deferred(),d={},u={},f,c,p;t.effects=e;l.done(t.complete.bind(t));o.data("animating",true);for(n=0;n<a;n++){i=e[n];i.setReverse(s.reverse);i.setOptions(s);t.addRestoreProperties(i.restore);i.prepare(d,u);c=i.children();for(r=0,p=c.length;r<p;r++)c[r].duration(s.duration).run()}for(var h in s.effects)v(u,s.effects[h].properties);if(!o.is(":visible"))v(d,{display:o.data("olddisplay")||"block"});if(b&&!s.reset){f=o.data("targetTransform");if(f)d=v(f,d)}d=N(o,d);if(b&&!_)d=R(d);o.css(d).css(E);for(n=0;n<a;n++)e[n].setup();if(s.init)s.init();o.data("targetTransform",u);g.animate(o,u,v({},s,{complete:l.resolve}));return l.promise()},stop:function(){m(this.element).kendoStop(true,true)},addRestoreProperties:function(e){var t=this.element,i,n=0,r=e.length;for(;n<r;n++){i=e[n];this.restore.push(i);if(!t.data(i))t.data(i,t.css(i))}},restoreCallback:function(){var e=this.element;for(var t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},complete:function(){var e=this,t=0,i=e.element,n=e.options,r=e.effects,a=r.length;i.removeData("animating").dequeue();if(n.hide)i.data("olddisplay",i.css("display")).hide();this.restoreCallback();if(o&&!b)setTimeout(this.restoreCallback.bind(this),0);for(;t<a;t++)r[t].teardown();if(n.completeCallback)n.completeCallback(i)}}),s=(g.promise=function(e,t){var i=[],n,r=new ne(e,t),a=f.parseEffects(t.effects),o;t.effects=a;for(var s in a){n=g[P(s)];if(n){o=new n(e,a[s].direction);i.push(o)}}if(i[0])r.run(i);else{if(!e.is(":visible"))e.css({display:e.data("olddisplay")||"block"}).css("display");if(t.init)t.init();e.dequeue();r.complete()}},v(g,{animate:function(e,c,t){var i=t.transition!==false;delete t.transition;if(_&&"transition"in g&&i)g.transition(e,c,t);else if(b)e.animate(R(c),{queue:false,show:false,hide:false,duration:t.duration,complete:t.complete});else e.each(function(){var u=m(this),f={};a(k,function(e,t){var i,n=c?c[t]+" ":null;if(n){var r=c;if(t in O&&c[t]!==p){i=n.match(h);if(b)v(r,{scale:+i[0]})}else if(t in L&&c[t]!==p){var a=u.css(F),o=a=="absolute"||a=="fixed";if(!u.data(D))if(o)u.data(D,{top:A(u,"top")||0,left:A(u,"left")||0,bottom:A(u,"bottom"),right:A(u,"right")});else u.data(D,{top:A(u,"marginTop")||0,left:A(u,"marginLeft")||0});var s=u.data(D);i=n.match(h);if(i){var l=t==D+"y"?+null:+i[1],d=t==D+"y"?+i[1]:+i[2];if(o){if(!isNaN(s.right)){if(!isNaN(l))v(r,{right:s.right-l})}else if(!isNaN(l))v(r,{left:s.left+l});if(!isNaN(s.bottom)){if(!isNaN(d))v(r,{bottom:s.bottom-d})}else if(!isNaN(d))v(r,{top:s.top+d})}else{if(!isNaN(l))v(r,{marginLeft:s.left+l});if(!isNaN(d))v(r,{marginTop:s.top+d})}}}if(!b&&t!="scale"&&t in r)delete r[t];if(r)v(f,r)}});if(M.msie)delete f.scale;u.animate(f,{queue:false,show:false,hide:false,duration:t.duration,complete:t.complete})})}}),g.animatedPromise=g.promise,f.Class.extend({init:function(e,t){var i=this;i.element=e;i._direction=t;i.options={};i._additionalEffects=[];if(!i.restore)i.restore=[]},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(e){this._additionalEffects.push(e);return this},direction:function(e){this._direction=e;return this},duration:function(e){this._duration=e;return this},compositeRun:function(){var e=this,t=new ne(e.element,{reverse:e._reverse,duration:e._duration}),i=e._additionalEffects.concat([e]);return t.run(i)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=0,n=e.restore,r=n.length,a,o=m.Deferred(),s={},l={},d,u=e.children(),f=u.length;o.done(e._complete.bind(e));t.data("animating",true);for(i=0;i<r;i++){a=n[i];if(!t.data(a))t.data(a,t.css(a))}for(i=0;i<f;i++)u[i].duration(e._duration).run();e.prepare(s,l);if(!t.is(":visible"))v(s,{display:t.data("olddisplay")||"block"});if(b){d=t.data("targetTransform");if(d)s=v(d,s)}s=N(t,s);if(b&&!_)s=R(s);t.css(s).css(E);e.setup();t.data("targetTransform",l);g.animate(t,l,{duration:e._duration,complete:o.resolve});return o.promise()},stop:function(){var e=0,t=this.children(),i=t.length;for(e=0;e<i;e++)t[e].stop();m(this.element).kendoStop(true,true);return this},restoreCallback:function(){var e=this.element;for(var t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},_complete:function(){var e=this,t=e.element;t.removeData("animating").dequeue();e.restoreCallback();if(e.shouldHide())t.data("olddisplay",t.css("display")).hide();if(o&&!b)setTimeout(e.restoreCallback.bind(e),0);e.teardown()},setOptions:function(e){v(true,this.options,e)},children:function(){return[]},shouldHide:m.noop,setup:m.noop,prepare:m.noop,teardown:m.noop,directions:[],setReverse:function(e){this._reverse=e;return this}}));function P(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(t,e){var r=s.extend(e),i=r.prototype.directions;g[P(t)]=r;g.Element.prototype[t]=function(e,t,i,n){return new r(this.element,e,t,i,n)};a(i,function(e,n){g.Element.prototype[t+P(n)]=function(e,t,i){return new r(this.element,n,e,t,i)}})}var n=["left","right","up","down"],re=["in","out"];function ae(e,l,d,u){t(e,{directions:re,startValue:function(e){this._startValue=e;return this},endValue:function(e){this._endValue=e;return this},shouldHide:function(){return this._shouldHide},prepare:function(e,t){var i=this,n,r,a=this._direction==="out",o=i.element.data(l),s=!(isNaN(o)||o==d);if(s)n=o;else if(typeof this._startValue!=="undefined")n=this._startValue;else n=a?d:u;if(typeof this._endValue!=="undefined")r=this._endValue;else r=a?u:d;if(this._reverse){e[l]=r;t[l]=n}else{e[l]=n;t[l]=r}i._shouldHide=t[l]===u}})}t("slideIn",{directions:n,divisor:function(e){this.options.divisor=e;return this},prepare:function(e,t){var i=this,n,r=i.element,a=f._outerWidth,o=f._outerHeight,s=z[i._direction],l=-s.modifier*(s.vertical?o(r):a(r)),d=l/(i.options&&i.options.divisor||1)+c,u="0px";if(i._reverse){n=e;e=t;t=n}if(b){e[s.transition]=d;t[s.transition]=u}else{e[s.property]=d;t[s.property]=u}}}),t("tile",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t);this.options={previous:i}},previousDivisor:function(e){this.options.previousDivisor=e;return this},children:function(){var e=this,t=e._reverse,i=e.options.previous,n=e.options.previousDivisor||1,r=e._direction;var a=[f.fx(e.element).slideIn(r).setReverse(t)];if(i)a.push(f.fx(i).slideIn(z[r].reverse).divisor(n).setReverse(!t));return a}}),ae("fade","opacity",1,0),ae("zoom","scale",1,.01),t("slideMargin",{prepare:function(e,t){var i=this,n=i.element,r=i.options,a=n.data(T),o=r.offset,s,l=i._reverse;if(!l&&a===null)n.data(T,parseFloat(n.css("margin-"+r.axis)));s=n.data(T)||0;t["margin-"+r.axis]=!l?s+o:s}}),t("slideTo",{prepare:function(e,t){var i=this,n=i.element,r=i.options,a=r.offset.split(","),o=i._reverse;if(b){t.translatex=!o?a[0]:0;t.translatey=!o?a[1]:0}else{t.left=!o?a[0]:0;t.top=!o?a[1]:0}n.css("left")}}),t("expand",{directions:["horizontal","vertical"],restore:[S],prepare:function(e,t){var i=this,n=i.element,r=i.options,a=i._reverse,o=i._direction==="vertical"?x:y,s=n[0].style[o],l=n.data(o),d=parseFloat(l||s),u=q(n.css(o,w)[o]());e.overflow=C;d=r&&r.reset?u||d:d||u;t[o]=(a?0:d)+c;e[o]=(a?d:0)+c;if(l===p)n.data(o,s)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,i=e._direction==="vertical"?x:y,n=t.data(i);if(n==w||n===G)setTimeout(function(){t.css(i,w).css(i)},0)}});var oe={position:"absolute",marginLeft:0,marginTop:0,scale:1},se=(t("transfer",{init:function(e,t){this.element=e;this.options={target:t};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i=this,n=i.element,r=g.box(n),a=g.box(i.options.target),o=ie(n,"scale"),s=g.fillScale(a,r),l=g.transformOrigin(a,r);v(e,oe);t.scale=1;n.css(E,"scale(1)").css(E);n.css(E,"scale("+o+")");e.top=r.top;e.left=r.left;e.transformOrigin=l.x+c+" "+l.y+c;if(i._reverse)e.scale=s;else t.scale=s}}),{top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"}),le={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function de(e,t){var i=f.directions[t].vertical,n=e[i?x:y]()/2+"px";return se[t].replace("$size",n)}t("turningPage",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t);this._container=i},prepare:function(e,t){var i=this,n=i._reverse,r=n?z[i._direction].reverse:i._direction,a=le[r];e.zIndex=1;if(i._clipInHalf)e.clip=de(i._container,f.directions[r].reverse);e[Q]=C;t[E]=J+(n?a.start:a.end);e[E]=J+(n?a.end:a.start)},setup:function(){this._container.append(this.element)},face:function(e){this._face=e;return this},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},clipInHalf:function(e){this._clipInHalf=e;return this},temporary:function(){this.element.addClass("temp-page");return this}}),t("staticPage",{directions:n,init:function(e,t,i){s.prototype.init.call(this,e,t);this._container=i},restore:["clip"],prepare:function(e,t){var i=this,n=i._reverse?z[i._direction].reverse:i._direction;e.clip=de(i._container,n);e.opacity=.999;t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},face:function(e){this._face=e;return this}}),t("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,n){s.prototype.init.call(this,e,t);this.options={};this.options.face=i;this.options.back=n},children:function(){var e=this,t=e.options,i=e._direction==="horizontal"?"left":"top",n=f.directions[i].reverse,r=e._reverse,a,o=t.face.clone(true).removeAttr("id"),s=t.back.clone(true).removeAttr("id"),l=e.element;if(r){a=i;i=n;n=a}return[f.fx(t.face).staticPage(i,l).face(true).setReverse(r),f.fx(t.back).staticPage(n,l).setReverse(r),f.fx(o).turningPage(i,l).face(true).clipInHalf(true).temporary().setReverse(r),f.fx(s).turningPage(n,l).clipInHalf(true).temporary().setReverse(r)]},prepare:function(e,t){e[X]=i;e.transformStyle="preserve-3d";e.opacity=.999;t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),t("flip",{directions:["horizontal","vertical"],init:function(e,t,i,n){s.prototype.init.call(this,e,t);this.options={};this.options.face=i;this.options.back=n},children:function(){var e=this,t=e.options,i=e._direction==="horizontal"?"left":"top",n=f.directions[i].reverse,r=e._reverse,a,o=e.element;if(r){a=i;i=n;n=a}return[f.fx(t.face).turningPage(i,o).face(true).setReverse(r),f.fx(t.back).turningPage(n,o).setReverse(r)]},prepare:function(e){e[X]=i;e.transformStyle="preserve-3d"}});var ue=!l.mobileOS.android,fe=".km-touch-scrollbar, .km-actionsheet-wrapper",r=(t("replace",{_before:m.noop,_after:m.noop,init:function(e,t,i){s.prototype.init.call(this,e);this._previous=m(t);this._transitionClass=i},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){this._before=e;return this},afterTransition:function(e){this._after=e;return this},_both:function(){return m().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;if(e)t+=" k-fx-"+e;if(this._reverse)t+=" k-fx-reverse";return t},complete:function(e){if(!this.deferred||e&&m(e.target).is(fe))return;var t=this.container;t.removeClass("k-fx-end").removeClass(this._containerClass()).off(_.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(ue)t.css(S,"");if(!this.isAbsolute)this._both().css(F,"");this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=e._previous,n=t.parents().filter(i.parents()).first(),r=e._both(),a=m.Deferred(),o=t.css(F),s;if(!n.length)n=t.parent();this.container=n;this.deferred=a;this.isAbsolute=o=="absolute";if(!this.isAbsolute)r.css(F,"absolute");if(ue){s=n.css(S);n.css(S,"hidden")}if(!_)this.complete();else{t.addClass("k-fx-hidden");n.addClass(this._containerClass());this.completeProxy=this.complete.bind(this);n.on(_.event,this.completeProxy);f.animationFrame(function(){t.removeClass("k-fx-hidden").addClass("k-fx-next");i.css("display","").addClass("k-fx-current");e._before(i,t);f.animationFrame(function(){n.removeClass("k-fx-start").addClass("k-fx-end");e._after(i,t)})})}return a.promise()},stop:function(){this.complete()}}),f.Class.extend({init:function(){var e=this;e._tickProxy=e._tick.bind(e);e._started=false},tick:m.noop,done:m.noop,onEnd:m.noop,onCancel:m.noop,start:function(){if(!this.enabled())return;if(!this.done()){this._started=true;f.animationFrame(this._tickProxy)}else this.onEnd()},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var e=this;if(!e._started)return;e.tick();if(!e.done())f.animationFrame(e._tickProxy);else{e._started=false;e.onEnd()}}})),ce=r.extend({init:function(e){var t=this;v(t,e);r.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis];t.delta=e.location-t.initial;t.duration=typeof e.duration=="number"?e.duration:300;t.tick=t._easeProxy(e.ease);t.startDate=new Date;t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});return v(ce,{easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(-Math.pow(2,-10*e/n)+1)+t},easeOutBack:function(e,t,i,n,r){r=1.70158;return i*((e=e/n-1)*e*((r+1)*e+r)+1)+t}}),g.Animation=r,g.Transition=ce,g.createEffect=t,g.box=function(e){e=m(e);var t=e.offset();t.width=f._outerWidth(e);t.height=f._outerHeight(e);return t},g.transformOrigin=function(e,t){var i=(e.left-t.left)*t.width/(t.width-e.width),n=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(i)?0:i,y:isNaN(n)?0:n}},g.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},g.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.userevents.min",["kendo.core.min"],function(){var e={id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true},d=window.kendo.jQuery,P=void 0,l=window.kendo,u=l.support,t=l.Class,f=l.Observable,a=Date.now,c=d.extend,i=u.mobileOS,o=i&&i.android,p=800,n=300,h=u.browser.msie?5:0,m="press",g="hold",v="select",b="start",_="move",k="end",w="cancel",y="tap",x="doubleTap",C="release",T="gesturestart",S="gesturechange",D="gestureend",F="gesturetap",r={api:0,touch:0,mouse:9,pointer:9},I=!u.touch||u.mouseAndTouchPresent;function s(e,t){var i=e.x.location,n=e.y.location,r=t.x.location,a=t.y.location,o=i-r,s=n-a;return{center:{x:(i+r)/2,y:(n+a)/2},distance:Math.sqrt(o*o+s*s)}}function E(e){var t=[],i=e.originalEvent,n=e.currentTarget,r=0,a,o,s;if(e.api)t.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/)){o=i?i.changedTouches:[];for(a=o.length;r<a;r++){s=o[r];t.push({location:s,event:e,target:s.target,currentTarget:n,id:s.identifier,type:"touch"})}}else if(u.pointers||u.msPointers)t.push({location:i,event:e,target:e.target,currentTarget:n,id:i.pointerId,type:"pointer"});else t.push({id:1,event:e,target:e.target,currentTarget:n,location:e,type:"mouse"});return t}var z=t.extend({init:function(e,t){var i=this;i.axis=e;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=a()},move:function(e){var t=this,i=e["page"+t.axis],n=a(),r=n-t.timeStamp||1;if(!i&&o)return;t.delta=i-t.location;t._updateLocationData(e);t.initialDelta=i-t.startLocation;t.velocity=t.delta/r;t.timeStamp=n},_updateLocationData:function(e){var t=this,i=t.axis;t.location=e["page"+i];t.client=e["client"+i];t.screen=e["screen"+i]}}),A=t.extend({init:function(e,t,i){c(this,{x:new z("X",i.location),y:new z("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||r[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(this._hold.bind(this),this.userEvents.minHold);this._trigger(m,this.pressEvent)},_tap:function(e){var t=this;t.userEvents._clicks++;if(t.userEvents._clicks==1)t._clickTimeout=setTimeout(function(){if(t.userEvents._clicks==1)t._trigger(y,e);else t._trigger(x,e);t.userEvents._clicks=0},n)},_hold:function(){this._trigger(g,this.pressEvent)},move:function(e){var t=this;var i=e.type!=="api"&&t.userEvents._shouldNotMove;if(t._finished||i)return;t.x.move(e.location);t.y.move(e.location);if(!t._moved){if(t._withinIgnoreThreshold())return;if(!N.current||N.current===t.userEvents)t._start(e);else return t.dispose()}if(!t._finished)t._trigger(_,e)},end:function(e){this.endTime=a();if(this._finished)return;this._finished=true;this._trigger(C,e);if(this._moved)this._trigger(k,e);else if(!this.useClickAsTap)if(this.supportDoubleTap)this._tap(e);else this._trigger(y,e);clearTimeout(this._holdTimeout);this.dispose()},dispose:function(){var e=this.userEvents,t=e.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(d.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout);this.startTime=a();this._moved=true;this._trigger(b,e)},_trigger:function(e,t){var i=this,n=t.event,r={touch:i,x:i.x,y:i.y,target:i.target,event:n};if(i.userEvents.notify(e,r))n.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}});function R(e){var t=l.eventMap.up.split(" "),i=0,n=t.length;for(;i<n;i++)e(t[i])}var N=f.extend({init:function(e,t){var i=this,n,r=l.guid();t=t||{};n=i.filter=t.filter;i.threshold=t.threshold||h;i.minHold=t.minHold||p;i.touches=[];i._maxTouches=t.multiTouch?2:1;i.allowSelection=t.allowSelection;i.captureUpIfMoved=t.captureUpIfMoved;i.useClickAsTap=!t.fastTap&&!u.delayedClick();i.eventNS=r;i._clicks=0;i.supportDoubleTap=t.supportDoubleTap;e=d(e).handler(i);f.fn.init.call(i);c(i,{element:e,surface:t.global&&I?d(e[0].ownerDocument.documentElement):d(t.surface||e),stopPropagation:t.stopPropagation,pressed:false});i.surface.handler(i).on(l.applyEventMap("move",r),"_move").on(l.applyEventMap("up cancel",r),"_end");e.on(l.applyEventMap("down",r),n,"_start");if(i.useClickAsTap)e.on(l.applyEventMap("click",r),n,"_click");if(u.pointers||u.msPointers)if(u.browser.version<11){var a="pinch-zoom double-tap-zoom";e.css("-ms-touch-action",t.touchAction&&t.touchAction!="none"?a+" "+t.touchAction:a)}else e.css("touch-action",t.touchAction||"none");if(t.preventDragEvent)e.on(l.applyEventMap("dragstart",r),l.preventDefault);e.on(l.applyEventMap("mousedown",r),n,{root:e},"_select");if(i.captureUpIfMoved&&u.eventCapture){var o=i.surface[0],s=i.preventIfMoving.bind(i);R(function(e){o.addEventListener(e,s,true)})}i.bind([m,g,y,x,b,_,k,C,w,T,S,D,F,v],t)},preventIfMoving:function(e){if(this._isMoved())e.preventDefault()},destroy:function(){var t=this;if(t._destroyed)return;t._destroyed=true;if(t.captureUpIfMoved&&u.eventCapture){var i=t.surface[0];R(function(e){i.removeEventListener(e,t.preventIfMoving)})}t.element.kendoDestroy(t.eventNS);t.surface.kendoDestroy(t.eventNS);t.element.removeData("handler");t.surface.removeData("handler");t._disposeAll();t.unbind();delete t.surface;delete t.element;delete t.currentTarget},capture:function(){N.current=this},cancel:function(){this._disposeAll();this.trigger(w)},notify:function(e,t){var i=this,n=i.touches;if(this._isMultiTouch()){switch(e){case _:e=S;break;case k:e=D;break;case y:e=F;break}c(t,{touches:n},s(n[0],n[1]))}return this.trigger(e,c(t,{type:e}))},press:function(e,t,i){this._apiCall("_start",e,t,i)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var e=this.touches;while(e.length>0)e.pop().dispose()},_isMoved:function(){return d.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){if(!this.allowSelection||this.trigger(v,{event:e}))e.preventDefault()},_start:function(e){var t=this,i=0,n=t.filter,r,a=E(e),o=a.length,s,l=e.which;if(l&&l>1||t._maxTouchesReached())return;N.current=null;t.currentTarget=e.currentTarget;if(t.stopPropagation)e.stopPropagation();for(;i<o;i++){if(t._maxTouchesReached())break;s=a[i];if(n)r=d(s.currentTarget);else r=t.element;if(!r.length)continue;s=new A(t,r,s);t.touches.push(s);s.press();if(t._isMultiTouch())t.notify("gesturestart",{})}},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var t={touch:{initialTouch:e.target,target:d(e.currentTarget),endTime:a(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:d(e.currentTarget),event:e,type:"tap"};if(this.trigger("tap",t))e.preventDefault()},_eachTouch:function(e,t){var i=this,n={},r=E(t),a=i.touches,o,s,l,d;for(o=0;o<a.length;o++){s=a[o];n[s.id]=s}for(o=0;o<r.length;o++){l=r[o];d=n[l.id];if(d)d[e](l)}},_apiCall:function(e,t,i,n){this[e]({api:true,pageX:t,pageY:i,clientX:t,clientY:i,target:d(n||this.element)[0],stopPropagation:d.noop,preventDefault:d.noop})}});return N.defaultThreshold=function(e){h=e},N.minHold=function(e){p=e},l.getTouches=E,l.touchDelta=s,l.UserEvents=N,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.draganddrop.min",["kendo.core.min","kendo.userevents.min"],function(){var H={id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]},l=window.kendo.jQuery,M=void 0,d=window.kendo,u=d.support,f=window.document,c=l(window),O=d.Class,a=d.ui.Widget,r=d.Observable,L=d.UserEvents,o=l.extend,p=d.getOffset,s={},h={},m={},n,g=d.elementUnderCursor,v="keyup",b="change",_="dragstart",t="hold",k="drag",e="dragend",i="dragcancel",w="hintDestroyed",y="dragenter",x="dragleave",C="drop";function B(e,t){try{return l.contains(e,t)||e==t}catch(e){return false}}function T(e,t){return parseInt(e.css(t),10)||0}function S(e,t){return Math.min(Math.max(e,t.min),t.max)}function D(e,t){var i=p(e),n=d._outerWidth,r=d._outerHeight,a=i.left+T(e,"borderLeftWidth")+T(e,"paddingLeft"),o=i.top+T(e,"borderTopWidth")+T(e,"paddingTop"),s=a+e.width()-n(t,true),l=o+e.height()-r(t,true);return{x:{min:a,max:s},y:{min:o,max:l}}}function V(e,t,i){var n,r,a=0,o=t&&t.length,s=i&&i.length;while(e&&e.parentNode){for(a=0;a<o;a++){n=t[a];if(n.element[0]===e)return{target:n,targetElement:e}}for(a=0;a<s;a++){r=i[a];if(l.contains(r.element[0],e)&&u.matchesSelector.call(e,r.options.filter))return{target:r,targetElement:e}}e=e.parentNode}return M}var U=r.extend({init:function(e,t){var i=this,n=e[0];i.capture=false;if(n.addEventListener){l.each(d.eventMap.down.split(" "),function(){n.addEventListener(this,i._press.bind(i),true)});l.each(d.eventMap.up.split(" "),function(){n.addEventListener(this,i._release.bind(i),true)})}else{l.each(d.eventMap.down.split(" "),function(){n.attachEvent(this,i._press.bind(i))});l.each(d.eventMap.up.split(" "),function(){n.attachEvent(this,i._release.bind(i))})}r.fn.init.call(i);i.bind(["press","release"],t||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(e){var t=this;t.trigger("press");if(t.capture)e.preventDefault()},_release:function(e){var t=this;t.trigger("release");if(t.capture){e.preventDefault();t.cancelCapture()}}}),F=r.extend({init:function(e){var t=this;r.fn.init.call(t);t.forcedEnabled=false;l.extend(t,e);t.scale=1;if(t.horizontal){t.measure="offsetWidth";t.scrollSize="scrollWidth";t.axis="x"}else{t.measure="offsetHeight";t.scrollSize="scrollHeight";t.axis="y"}},makeVirtual:function(){l.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){if(this._virtualMin!==e||this._virtualMax!==t){this._virtualMin=e;this._virtualMax=t;this.update()}},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,i=t.virtual?t._virtualMax:t.getTotal(),n=i*t.scale,r=t.getSize();if(i===0&&!t.forcedEnabled)return;t.max=t.virtual?-t._virtualMin:0;t.size=r;t.total=n;t.min=Math.min(t.max,r-n);t.minScale=r/i;t.centerOffset=(n-r)/2;t.enabled=t.forcedEnabled||n>r;if(!e)t.trigger(b,t)}}),W=r.extend({init:function(e){var t=this;r.fn.init.call(t);t.x=new F(o({horizontal:true},e));t.y=new F(o({horizontal:false},e));t.container=e.container;t.forcedMinScale=e.minScale;t.maxScale=e.maxScale||100;t.bind(b,e)},rescale:function(e){this.x.rescale(e);this.y.rescale(e);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update();e.y.update();e.enabled=e.x.enabled||e.y.enabled;e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale);e.fitScale=Math.max(e.x.minScale,e.y.minScale);e.trigger(b)}}),I=r.extend({init:function(e){var t=this;o(t,e);r.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,i=t.dimension,n=t.axis,r=t.movable,a=r[n]+e;if(!i.enabled)return;if(a<i.min&&e<0||a>i.max&&e>0)e*=t.resistance;r.translateAxis(n,e);t.trigger(b,t)}}),j=O.extend({init:function(e){var u=this,f,c,t,p;o(u,{elastic:true},e);t=u.elastic?.5:0;p=u.movable;u.x=f=new I({axis:"x",dimension:u.dimensions.x,resistance:t,movable:p});u.y=c=new I({axis:"y",dimension:u.dimensions.y,resistance:t,movable:p});u.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){u.gesture=e;u.offset=u.dimensions.container.offset()},press:function(e){if(l(e.event.target).closest("a").is("[data-navigate-on-press=true]"))e.sender.cancel()},gesturechange:function(e){var t=u.gesture,i=t.center,n=e.center,r=e.distance/t.distance,a=u.dimensions.minScale,o=u.dimensions.maxScale,s;if(p.scale<=a&&r<1)r+=(1-r)*.8;if(p.scale*r>=o)r=o/p.scale;var l=p.x+u.offset.left,d=p.y+u.offset.top;s={x:(l-i.x)*r+n.x-l,y:(d-i.y)*r+n.y-d};p.scaleWith(r);f.dragMove(s.x);c.dragMove(s.y);u.dimensions.rescale(p.scale);u.gesture=e;e.preventDefault()},move:function(e){if(e.event.target.tagName.match(/textarea|input/i))return;if(f.dimension.enabled||c.dimension.enabled){f.dragMove(e.x.delta);c.dragMove(e.y.delta);e.preventDefault()}else e.touch.skip()},end:function(e){e.preventDefault()}})}}),q=u.transitions.prefix+"Transform",E;if(u.hasHW3D)E=function(e,t,i){return"translate3d("+e+"px,"+t+"px,0) scale("+i+")"};else E=function(e,t,i){return"translate("+e+"px,"+t+"px) scale("+i+")"};var G=r.extend({init:function(e){var t=this;r.fn.init.call(t);t.element=l(e);t.element[0].style.webkitTransformOrigin="left top";t.x=0;t.y=0;t.scale=1;t._saveCoordinates(E(t.x,t.y,t.scale))},translateAxis:function(e,t){this[e]+=t;this.refresh()},scaleTo:function(e){this.scale=e;this.refresh()},scaleWith:function(e){this.scale*=e;this.refresh()},translate:function(e){this.x+=e.x;this.y+=e.y;this.refresh()},moveAxis:function(e,t){this[e]=t;this.refresh()},moveTo:function(e){o(this,e);this.refresh()},refresh:function(){var e=this,t=e.x,i=e.y,n;if(e.round){t=Math.round(t);i=Math.round(i)}n=E(t,i,e.scale);if(n!=e.coordinates){if(d.support.browser.msie&&d.support.browser.version<10){e.element[0].style.position="absolute";e.element[0].style.left=e.x+"px";e.element[0].style.top=e.y+"px"}else e.element[0].style[q]=n;e._saveCoordinates(n);e.trigger(b)}},_saveCoordinates:function(e){this.coordinates=e}});function z(e,t){var i=t.options.group,n=e[i],r;a.fn.destroy.call(t);if(n.length>1){for(r=0;r<n.length;r++)if(n[r]==t){n.splice(r,1);break}}else{n.length=0;delete e[i]}}var A=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);var n=i.options.group;if(!(n in h))h[n]=[i];else h[n].push(i)},events:[y,x,C],options:{name:"DropTarget",group:"default"},destroy:function(){z(h,this)},_trigger:function(e,t){var i=this,n=s[i.options.group];if(n)return i.trigger(e,o({},t.event,{draggable:n,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(y,e)},_out:function(e){this._trigger(x,e)},_drop:function(e){var t=this,i=s[t.options.group];if(i)i.dropped=!t._trigger(C,e)}}),$=(A.destroyGroup=function(e){var t=h[e]||m[e],i;if(t){for(i=0;i<t.length;i++)a.fn.destroy.call(t[i]);t.length=0;delete h[e];delete m[e]}},A._cache=h,A.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);var n=i.options.group;if(!(n in m))m[n]=[i];else m[n].push(i)},destroy:function(){z(m,this)},options:{name:"DropTargetArea",group:"default",filter:null}})),Y=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i._activated=false;i.userEvents=new L(i.element,{global:true,allowSelection:true,filter:i.options.filter,threshold:i.options.distance,start:i._start.bind(i),hold:i._hold.bind(i),move:i._drag.bind(i),end:i._end.bind(i),cancel:i._cancel.bind(i),select:i._select.bind(i)});if(d.support.touch)i.element.find(i.options.filter).css("touch-action","none");i._afterEndHandler=i._afterEnd.bind(i);i._captureEscape=i._captureEscape.bind(i)},events:[t,_,k,e,i,w],options:{name:"Draggable",distance:d.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,autoScroll:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(e){var t=this;if(e.keyCode===d.keys.ESC){t._trigger(i,{event:e});t.userEvents.cancel()}},_updateHint:function(e){var t=this,i,n=t.options,r=t.boundaries,a=n.axis,o=t.options.cursorOffset;if(o)i={left:e.x.location+o.left,top:e.y.location+o.top};else{t.hintOffset.left+=e.x.delta;t.hintOffset.top+=e.y.delta;i=l.extend({},t.hintOffset)}if(r){i.top=S(i.top,r.y);i.left=S(i.left,r.x)}if(a==="x")delete i.top;else if(a==="y")delete i.left;t.hint.css(i)},_shouldIgnoreTarget:function(e){var t=this.options.ignore;return t&&l(e).is(t)},_select:function(e){if(!this._shouldIgnoreTarget(e.event.target))e.preventDefault()},_start:function(t){var i=this,e=i.options,n=e.container?l(e.container):null,r=e.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||e.holdToDrag&&!i._activated){i.userEvents.cancel();return}i.currentTarget=t.target;i.currentTargetOffset=p(i.currentTarget);if(r){if(i.hint)i.hint.stop(true,true).remove();i.hint=d.isFunction(r)?l(r.call(i,i.currentTarget)):r;var a=p(i.currentTarget);i.hintOffset=a;i.hint.css({position:"absolute",zIndex:2e4,left:a.left,top:a.top}).appendTo(f.body);i.angular("compile",function(){i.hint.removeAttr("ng-repeat");var e=l(t.target);while(!e.data("$$kendoScope")&&e.length)e=e.parent();return{elements:i.hint.get(),scopeFrom:e.data("$$kendoScope")}})}s[e.group]=i;i.dropped=false;if(n)i.boundaries=D(n,i.hint);l(f).on(v,i._captureEscape);if(i._trigger(_,t)){i.userEvents.cancel();i._afterEnd()}i.userEvents.capture()},_hold:function(e){this.currentTarget=e.target;if(this._trigger(t,e))this.userEvents.cancel();else this._activated=true},_drag:function(e){e.preventDefault();var t=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==t){this._scrollableParent=P(t);this._cursorElement=t}this._lastEvent=e;this._processMovement(e,t);if(this.options.autoScroll)if(this._scrollableParent[0]){var i=K(e.x.location,e.y.location,R(this._scrollableParent));this._scrollCompenstation=l.extend({},this.hintOffset);this._scrollVelocity=i;if(i.y===0&&i.x===0){clearInterval(this._scrollInterval);this._scrollInterval=null}else if(!this._scrollInterval)this._scrollInterval=setInterval(this._autoScroll.bind(this),50)}if(this.hint)this._updateHint(e)},_processMovement:function(i,e){this._withDropTarget(e,function(e,t){if(!e){if(n){n._trigger(x,o(i,{dropTarget:l(n.targetElement)}));n=null}return}if(n){if(t===n.targetElement)return;n._trigger(x,o(i,{dropTarget:l(n.targetElement)}))}e._trigger(y,o(i,{dropTarget:l(t)}));n=o(e,{targetElement:t})});this._trigger(k,o(i,{dropTarget:n,elementUnderCursor:e}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,i=this._scrollCompenstation;if(!e)return;var n=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,n);var r,a;var o=e===N()[0];if(o){r=f.body.scrollHeight>c.height();a=f.body.scrollWidth>c.width()}else{r=e.offsetHeight<=e.scrollHeight;a=e.offsetWidth<=e.scrollWidth}var s=e.scrollTop+t.y;var l=r&&s>0&&s<e.scrollHeight;var d=e.scrollLeft+t.x;var u=a&&d>0&&d<e.scrollWidth;if(l)e.scrollTop+=t.y;else if(r&&s<0)e.scrollTop=0;if(u)e.scrollLeft+=t.x;else if(a&&d<0)e.scrollLeft=0;if(this.hint&&o&&(u||l)){if(l)i.top+=t.y;if(u)i.left+=t.x;this.hint.css(i)}},_end:function(i){this._withDropTarget(this._elementUnderCursor(i),function(e,t){if(e){e._drop(o({},i,{dropTarget:l(t)}));n=null}});clearInterval(this._scrollInterval);this._scrollInterval=null;this._cancel(this._trigger(e,i))},_cancel:function(e){var t=this;t._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);t._activated=false;if(t.hint&&!t.dropped)setTimeout(function(){t.hint.stop(true,true);if(e)t._afterEndHandler();else t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0);else t._afterEnd()},_trigger:function(e,t){var i=this;return i.trigger(e,o({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=g(e),i=this.hint;if(i&&B(i[0],t)){i.hide();t=g(e);if(!t)t=g(e);i.show()}return t},_withDropTarget:function(e,t){var i,n=this.options.group,r=h[n],a=m[n];if(r&&r.length||a&&a.length){i=V(e,r,a);if(i)t(i.target,i.targetElement);else t()}},destroy:function(){var e=this;a.fn.destroy.call(e);e._afterEnd();e.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);e.currentTarget=null},_afterEnd:function(){var e=this;if(e.hint)e.hint.remove();delete s[e.options.group];e.trigger("destroy");e.trigger(w);l(f).off(v,e._captureEscape)}});function R(e){var t=N()[0],i,n,r;if(e[0]===t){n=t.scrollTop;r=t.scrollLeft;return{top:n,left:r,bottom:n+c.height(),right:r+c.width()}}else{i=e.offset();i.bottom=i.top+e.height();i.right=i.left+e.width();return i}}function N(){return l(d.support.browser.edge||d.support.browser.safari?f.body:f.documentElement)}function P(e){var t=N();if(!e||e===f.body||e===f.documentElement)return t;var i=l(e)[0];while(i&&!d.isScrollable(i)&&i!==f.body)i=i.parentNode;if(i===f.body)return t;return l(i)}function K(e,t,i){var n={x:0,y:0};var r=50;if(e-i.left<r)n.x=-(r-(e-i.left));else if(i.right-e<r)n.x=r-(i.right-e);if(t-i.top<r)n.y=-(r-(t-i.top));else if(i.bottom-t<r)n.y=r-(i.bottom-t);return n}return d.ui.plugin(A),d.ui.plugin($),d.ui.plugin(Y),d.TapCapture=U,d.containerBoundaries=D,o(d.ui,{Pane:j,PaneDimensions:W,Movable:G}),d.ui.Draggable.utils={autoScrollVelocity:K,scrollableViewPort:R,findScrollableParent:P},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.mobile.scroller.min",["kendo.fx.min","kendo.draganddrop.min"],function(){var e={id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["fx","draganddrop"]},c=window.kendo.jQuery,t=void 0,p=window.kendo,i,n=p.effects,r=p.mobile.ui,h=c.extend,m=r.Widget,a=p.Class,g=p.ui.Movable,v=p.ui.Pane,b=p.ui.PaneDimensions,o=n.Transition,s=n.Animation,_=Math.abs,l=500,d=.7,u=.96,f=10,k=55,w=.5,y=5,x="km-scroller-release",C="km-scroller-refresh",T="pull",S="change",D="resize",F="scroll",I=2,E=s.extend({init:function(e){var t=this;s.fn.init.call(t);h(t,e);t.userEvents.bind("gestureend",t.start.bind(t));t.tapCapture.bind("press",t.cancel.bind(t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1);this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale);this.dimensions.rescale(e.scale)}}),z=s.extend({init:function(e){var t=this;s.fn.init.call(t);h(t,e,{transition:new o({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})});t.tapCapture.bind("press",function(){t.cancel()});t.userEvents.bind("end",t.start.bind(t));t.userEvents.bind("gestureend",t.start.bind(t));t.userEvents.bind("tap",t.onEnd.bind(t))},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel();t._moveTo(e)},onEnd:function(){var e=this;if(e.paneAxis.outOfBounds())e._snapBack();else e._end()},done:function(){return _(this.velocity)<1},start:function(e){var t=this,i;if(!t.dimension.enabled)return;if(t.paneAxis.outOfBounds())if(t.transition._started){t.transition.cancel();t.velocity=Math.min(e.touch[t.axis].velocity*t.velocityMultiplier,k);s.fn.start.call(t)}else t._snapBack();else{i=e.touch.id===I?0:e.touch[t.axis].velocity;t.velocity=Math.max(Math.min(i*t.velocityMultiplier,k),-k);t.tapCapture.captureNext();s.fn.start.call(t)}},tick:function(){var e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?w:e.friction,n=e.velocity*=i,r=e.movable[e.axis]+n;if(!e.elastic&&t.outOfBounds(r)){r=Math.max(Math.min(r,t.max),t.min);e.velocity=0}e.movable.moveAxis(e.axis,r)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var e=this,t=e.dimension,i=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(i)},_moveTo:function(e){this.transition.moveTo({location:e,duration:l,ease:o.easeOutExpo})}}),A=s.extend({init:function(e){var t=this;p.effects.Animation.fn.init.call(this);h(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return _(this.offset.y)<y&&_(this.offset.x)<y},onEnd:function(){this.moveTo(this.destination);if(this.callback)this.callback.call()},setCoordinates:function(e,t){this.offset={};this.origin=e;this.destination=t},setCallback:function(e){if(e&&p.isFunction(e))this.callback=e;else e=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),R=a.extend({init:function(e){var t=this,i=e.axis==="x",n=c('<div role="scrollbar" aria-controls="'+e.controlsId+'" class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');if(i)n.attr("aria-orientation","horizontal");h(t,e,{element:n,elementSize:0,movable:new g(n),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:i?"width":"height"});t.scrollMovable.bind(S,t.refresh.bind(t));t.container.append(n);if(e.alwaysVisible)t.show()},refresh:function(){var e=this,t=e.axis,i=e.dimension,n=i.size,r=e.scrollMovable,a=n/i.total,o=Math.round(-r[t]*a),s=Math.round(n*a);if(a>=1)this.element.css("display","none");else this.element.css("display","");if(o+s>n)s=n-o;else if(o<0){s+=o;o=0}if(e.elementSize!=s){e.element.css(e.size,s+"px");e.elementSize=s}e._ariaValue(o,i.size-e.elementSize);e.movable.moveAxis(t,o)},show:function(){this.element.css({opacity:d,visibility:"visible"})},hide:function(){if(!this.alwaysVisible)this.element.css({opacity:0})},_ariaValue:function(e,t){var i=this.element;if(e>t)e=t;i.attr("aria-valuemax",t);i.attr("aria-valuenow",e)}}),N=m.extend({init:function(e,t){var o=this;m.fn.init.call(o,e,t);e=o.element;o._native=o.options.useNative&&p.support.hasNativeScrolling;if(o._native){e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');h(o,{scrollElement:e,fixedContainer:e.children().first()});return}e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var i=e.children().eq(1),n=new p.TapCapture(e),r=new g(i),s=new b({element:i,container:e,forcedEnabled:o.options.zoom}),l=this.options.avoidScrolling,d=new p.UserEvents(e,{touchAction:"pan-y",fastTap:true,allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:o.options.zoom,supportDoubleTap:o.options.supportDoubleTap,start:function(e){s.refresh();var t=_(e.x.velocity),i=_(e.y.velocity),n=t*2>=i,r=c.contains(o.fixedContainer[0],e.event.target),a=i*2>=t;if(!r&&!l(e)&&o.enabled&&(s.x.enabled&&n||s.y.enabled&&a))d.capture();else d.cancel()}}),a=new v({movable:r,dimensions:s,userEvents:d,elastic:o.options.elastic}),u=new E({movable:r,dimensions:s,userEvents:d,tapCapture:n}),f=new A({moveTo:function(e){o.scrollTo(e.x,e.y)}});r.bind(S,function(){o.scrollTop=-r.y;o.scrollLeft=-r.x;o.trigger(F,{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})});if(o.options.mousewheelScrolling)e.on("DOMMouseScroll mousewheel",this._wheelScroll.bind(this));h(o,{movable:r,dimensions:s,zoomSnapBack:u,animatedScroller:f,userEvents:d,pane:a,tapCapture:n,pulled:false,enabled:true,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()});o._initAxis("x");o._initAxis("y");o._wheelEnd=function(){o._wheel=false;o.userEvents.end(0,o._wheelY)};s.refresh();if(o.options.pullToRefresh)o._initPullToRefresh()},_wheelScroll:function(e){if(e.ctrlKey)return;if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=p.wheelDeltaY(e);if(t){this._wheelY+=t;this.userEvents.move(0,this._wheelY)}e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[T,F,D],_resize:function(){if(!this._native)this.contentResized()},setOptions:function(e){var t=this;m.fn.setOptions.call(t,e);if(e.pullToRefresh)t._initPullToRefresh()},reset:function(){if(this._native)this.scrollElement.scrollTop(0);else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds())this.movable.moveAxis("x",this.dimensions.x.min);if(this.pane.y.outOfBounds())this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh();this._scale(e.fitScale);this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(e,t){if(this._native){p.scrollLeft(this.scrollElement,_(e));this.scrollElement.scrollTop(_(t))}else{this.dimensions.refresh();this.movable.moveTo({x:e,y:t})}},animatedScrollTo:function(e,t,i){var n,r;if(this._native)this.scrollTo(e,t);else{n={x:this.movable.x,y:this.movable.y};r={x:e,y:t};this.animatedScroller.setCoordinates(n,r);this.animatedScroller.setCallback(i);this.animatedScroller.start()}},pullHandled:function(){var e=this;e.refreshHint.removeClass(C);e.hintContainer.html(e.pullTemplate({}));e.yinertia.onEnd();e.xinertia.onEnd();e.userEvents.cancel()},destroy:function(){m.fn.destroy.call(this);if(this.userEvents)this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e);this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled();e.pullTemplate=p.template(e.options.messages.pullTemplate);e.releaseTemplate=p.template(e.options.messages.releaseTemplate);e.refreshTemplate=p.template(e.options.messages.refreshTemplate);e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>");e.refreshHint=e.scrollElement.children().first();e.hintContainer=e.refreshHint.children(".km-template");e.pane.y.bind("change",e._paneChange.bind(e));e.userEvents.bind("end",e._dragEnd.bind(e))},_dragEnd:function(){var e=this;if(!e.pulled)return;e.pulled=false;e.refreshHint.removeClass(x).addClass(C);e.hintContainer.html(e.refreshTemplate({}));e.yinertia.freeze(e.options.pullOffset/2);e.trigger("pull")},_paneChange:function(){var e=this;if(e.movable.y/w>e.options.pullOffset){if(!e.pulled){e.pulled=true;e.refreshHint.removeClass(C).addClass(x);e.hintContainer.html(e.releaseTemplate({}))}}else if(e.pulled){e.pulled=false;e.refreshHint.removeClass(x);e.hintContainer.html(e.pullTemplate({}))}},_initAxis:function(e){var t=this,i=t.element.attr("id"),n=t.movable,r=t.dimensions[e],a=t.tapCapture,o=t.pane[e],s;if(!i){i=p.guid();t.element.attr("id",i)}s=new R({axis:e,movable:n,dimension:r,container:t.element,alwaysVisible:t.options.visibleScrollHints,controlsId:i});r.bind(S,function(){s.refresh()});o.bind(S,function(){s.show()});t[e+"inertia"]=new z({axis:e,paneAxis:o,movable:n,tapCapture:a,userEvents:t.userEvents,dimension:r,elastic:t.options.elastic,friction:t.options.friction||u,velocityMultiplier:t.options.velocityMultiplier||f,end:function(){s.hide();t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});return r.plugin(N),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.virtuallist.min",["kendo.data.min"],function(){var H={id:"virtuallist",name:"VirtualList",category:"framework",depends:["data"],hidden:true},g=window.kendo.jQuery,v=void 0,o=window.kendo,e=o.ui,s=e.Widget,M,l=/^\d+(\.\d+)?%$/i,d="k-list-content k-virtual-content",u="k-table-body k-table-scroller",f="k-list-group-sticky-header",c="k-list-item",p="k-table-row",r="k-height-container",h="k-list-item-group-label",m="k-list-ul",b="k-table-list",_="k-selected",k="k-focus",w="k-hover",a="change",i="click",n="listBound",y="itemChange",x="activate",C="deactivate",T=".k-table-group-row",S=".VirtualList";function D(e){return e[e.length-1]}function F(e){return e instanceof Array?e:[e]}function I(e){return typeof e==="string"||typeof e==="number"||typeof e==="boolean"}function E(e,t,i){return Math.ceil(e*t/i)}function z(e,t,i){var n=document.createElement(i||"div");if(t)n.className=t;e.appendChild(n);return n}function A(e){var t=g('<div class="k-list '+e+' k-virtual-list">'+'<div class="k-list-content k-virtual-content">'+'<ul class="k-list-ul">'+'<li class="k-list-item">'+'<span class="k-list-item-text">test</span>'+"</li>"+"</ul>"+"</div>"+"</div>");var i;t.css({position:"absolute",left:"-200000px",visibility:"hidden"});t.appendTo(document.body);i=parseFloat(o.getComputedStyles(t.find(".k-list-item")[0],["height"]).height);t.remove();return i}function t(e,t,i){return{down:e*i,up:e*(t-1-i)}}function R(e,t){var n=(e.listScreens-1-e.threshold)*t;var r=e.threshold*t;return function(e,t,i){if(t>i)return t-e.top<n;else return e.top===0||t-e.top>r}}function O(t,i){return function(e){return i(t.scrollTop,e)}}function L(i){return function(e,t){i(e.items,e.index,t);return e}}function B(e,t){e.style.webkitTransform="translateY("+t+"px)";e.style.transform="translateY("+t+"px)"}function V(r,a){return function(e,t){for(var i=0,n=e.length;i<n;i++){r(e[i],t[i],a);if(t[i].item)this.trigger(y,{item:g(e[i]),data:t[i].item,ns:o.ui})}}}function U(e,t){var i;if(t>0){i=e.splice(0,t);e.push.apply(e,i)}else{i=e.splice(t,-t);e.unshift.apply(e,i)}return i}function W(e,t,i){var n=i.template,r=this.options.columns&&this.options.columns.length,a=t.index%2===1?"k-table-alt-row":"";e=g(e);if(!t.item)n=i.placeholderTemplate;if(t.index===0&&this.header&&t.group)this.header.html(i.fixedGroupTemplate(t.group));this.angular("cleanup",function(){return{elements:[e]}});e.attr("data-uid",t.item?t.item.uid:"").attr("data-offset-index",t.index);if(r&&t.item){if(a.length>0)e.addClass(a);else e.removeClass("k-table-alt-row");e.html(j(this.options,t.item,i))}else{e.find("."+h).remove();e.find(".k-list-item-text").html(n(t.item||{}))}e.toggleClass(k,t.current);e.toggleClass(_,t.selected);e.toggleClass("k-first",t.newGroup);e.toggleClass("k-last",t.isLastGroupedItem);e.toggleClass("k-loading-item",!t.item);if(t.index!==0&&t.newGroup)if(r)g('<span class="k-table-td k-table-group-td"><span>'+i.groupTemplate(t.group)+"</span></span>").appendTo(e);else g("<div class="+h+"></div>").appendTo(e).html(i.groupTemplate(t.group));else if(t.group&&r)e.append(g('<span class="k-table-td k-table-spacer-td"></span>'));if(t.top!==v)B(e[0],t.top);this.angular("compile",function(){return{elements:[e],data:[{dataItem:t.item,group:t.group,newGroup:t.newGroup}]}})}function j(e,t,i){var n="";for(var r=0;r<e.columns.length;r++){var a=e.columns[r].width;var o=parseInt(a,10);var s="";if(a){s+="style='width:";s+=o;s+=l.test(a)?"%":"px";s+=";'"}n+="<span class='k-table-td' "+s+">";n+=i["column"+r](t);n+="</span>"}return n}function q(e,t){var i=t.length;var n=e.length;var r;var a;var o,s;var l=[];var d=[];if(n)for(o=0;o<n;o++){r=e[o];a=false;for(s=0;s<i;s++)if(r===t[s]){a=true;l.push({index:o,item:r});break}if(!a)d.push(r)}return{changed:l,unchanged:d}}function N(e){return e&&e.state()!=="resolved"}var P=e.DataBoundWidget.extend({init:function(e,t){var i=this,n=t.columns&&t.columns.length?u:d;i.bound(false);i._fetching=false;s.fn.init.call(i,e,t);if(!i.options.itemHeight)i.options.itemHeight=A(t.listSize);t=i.options;i.element.attr("role","listbox");i.content=i.wrapper=i.element.wrap("<div unselectable='on' class='"+n+"'></div>").parent();if(i.options.columns&&i.options.columns.length){var r=i.element.closest(".k-data-table").find(".k-table-thead");var a=g('<tr class="k-table-group-row">'+'<th class="k-table-th" colspan="'+i.options.columns.length+'"></th>'+"</tr>");r.append(a);i.header=a.find(".k-table-th");i.element.addClass(b+" k-virtual-table")}else{i.header=i.content.before("<div class='"+f+"'></div>").prev();i.element.addClass(m)}if(t.ariaLabel)this.element.attr("aria-label",t.ariaLabel);else if(t.ariaLabelledBy)this.element.attr("aria-labelledby",t.ariaLabelledBy);i.element.on("mouseenter"+S,"li:not(.k-loading-item)",function(){g(this).addClass(w)}).on("mouseleave"+S,"li",function(){g(this).removeClass(w)});i._values=F(i.options.value);i._selectedDataItems=[];i._selectedIndexes=[];i._rangesList={};i._promisesList=[];i._optionID=o.guid();i._templates();i.setDataSource(t.dataSource);i.content.on("scroll"+S,o.throttle(function(){i._renderItems();i._triggerListBound()},t.delay));i._selectable()},options:{name:"VirtualList",autoBind:true,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null,ariaLabel:null,ariaLabelledBy:null},events:[a,i,n,y,x,C],setOptions:function(e){var t=this.options.columns&&this.options.columns.length?p:c;s.fn.setOptions.call(this,e);if(this._selectProxy&&this.options.selectable===false)this.element.off(i,"."+t,this._selectProxy);else if(!this._selectProxy&&this.options.selectable)this._selectable();this._templates();this.refresh()},items:function(){return g(this._items)},destroy:function(){this.wrapper.off(S);this.dataSource.unbind(a,this._refreshHandler);s.fn.destroy.call(this)},setDataSource:function(e){var t=this;var i=e||{};var n;i=Array.isArray(i)?{data:i}:i;i=o.data.DataSource.create(i);if(t.dataSource){t.dataSource.unbind(a,t._refreshHandler);t._clean();t.bound(false);t._deferValueSet=true;n=t.value();t.value([]);t.mute(function(){t.value(n)})}else t._refreshHandler=t.refresh.bind(t);t.dataSource=i.bind(a,t._refreshHandler);t.setDSFilter(i.filter());if(i.view().length!==0)t.refresh();else if(t.options.autoBind)i.fetch()},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var e=this;var t=e.skip();if(e.bound()&&!e._selectingValue&&e._skip!==t){e._skip=t;e.trigger(n)}},_getValues:function(e){var t=this._valueGetter;return g.map(e,function(e){return t(e)})},_highlightSelectedItems:function(){for(var e=0;e<this._selectedDataItems.length;e++){var t=this._getElementByDataItem(this._selectedDataItems[e]);if(t.length)t.addClass(_)}},refresh:function(e){var t=this;var i=e&&e.action;var n=i==="itemchange";var r=this.isFiltered();var a;if(t._mute)return;t._deferValueSet=false;if(!t._fetching){if(r)t.focus(0);t._createList();if(!i&&t._values.length&&!r&&!t.options.skipUpdateOnBind&&!t._emptySearch){t._selectingValue=true;t.bound(true);t.value(t._values,true).done(function(){t._selectingValue=false;t._triggerListBound()})}else{t.bound(true);t._highlightSelectedItems();t._triggerListBound()}}else{if(t._renderItems)t._renderItems(true);t._triggerListBound()}if(n||i==="remove"){a=q(t._selectedDataItems,e.items);if(a.changed.length)if(n)t.trigger("selectedItemChange",{items:a.changed});else t.value(t._getValues(a.unchanged))}t._fetching=false},removeAt:function(e){var t=this._values.splice(e,1)[0];return{position:e,dataItem:this._removeSelectedDataItem(t)}},_removeSelectedDataItem:function(e){var t=this,i=t._valueGetter;for(var n in t._selectedDataItems)if(i(t._selectedDataItems[n])===e){t._selectedIndexes.splice(n,1);return t._selectedDataItems.splice(n,1)[0]}},setValue:function(e){this._values=F(e)},value:function(e,t){var i=this;if(e===v)return i._values.slice();if(e===null)e=[];e=F(e);if(!i._valueDeferred||i._valueDeferred.state()==="resolved")i._valueDeferred=g.Deferred();var n=i.options.selectable==="multiple"&&i.select().length&&e.length;if(n||!e.length)i.select(-1);i._values=e;if(i.bound()&&!i._mute&&!i._deferValueSet||t)i._prefetchByValue(e);return i._valueDeferred},_checkValuesOrder:function(e){if(this._removedAddedIndexes&&this._removedAddedIndexes.length===e.length){var t=this._removedAddedIndexes.slice();this._removedAddedIndexes=null;return t}return e},_prefetchByValue:function(e){var t=this,i=t._dataView,n=t._valueGetter,r=t.options.mapValueTo,a,o=false,s=[];for(var l=0;l<e.length;l++)for(var d=0;d<i.length;d++){a=i[d].item;if(a){o=I(a)?e[l]===a:e[l]===n(a);if(o)s.push(i[d].index)}}if(s.length===e.length){t._values=[];t.select(s);return}if(typeof t.options.valueMapper==="function")t.options.valueMapper({value:this.options.selectable==="multiple"?e:e[0],success:function(e){if(r==="index")t.mapValueToIndex(e);else if(r==="dataItem")t.mapValueToDataItem(e)}});else if(!t.value()[0])t.select([-1]);else{t._selectingValue=false;t._triggerListBound()}},mapValueToIndex:function(e){if(e===v||e===-1||e===null)e=[];else e=F(e);if(!e.length)e=[-1];else{var t=this._deselect([]).removed;if(t.length)this._triggerChange(t,[])}this.select(e)},mapValueToDataItem:function(e){var t,i;if(e===v||e===null)e=[];else e=F(e);if(!e.length)this.select([-1]);else{t=g.map(this._selectedDataItems,function(e,t){return{index:t,dataItem:e}});i=g.map(e,function(e,t){return{index:t,dataItem:e}});this._selectedDataItems=e;this._selectedIndexes=[];for(var n=0;n<this._selectedDataItems.length;n++){var r=this._getElementByDataItem(this._selectedDataItems[n]);this._selectedIndexes.push(this._getIndecies(r)[0]);r.addClass(_)}this._triggerChange(t,i);if(this._valueDeferred)this._valueDeferred.resolve()}},deferredRange:function(e){var a=this.dataSource;var o=this.itemCount;var s=this._rangesList;var t=g.Deferred();var l=[];var i=Math.floor(e/o)*o;var n=Math.ceil(e/o)*o;var r=n===i?[n]:[i,n];g.each(r,function(e,t){var i=t+o;var n=s[t];var r;if(!n||n.end!==i){r=g.Deferred();s[t]={end:i,deferred:r};a._multiplePrefetch(t,o,function(){r.resolve()})}else r=n.deferred;l.push(r)});g.when.apply(g,l).then(function(){t.resolve()});return t},prefetch:function(e){var i=this,n=this.itemCount,t=!i._promisesList.length;if(!N(i._activeDeferred)){i._activeDeferred=g.Deferred();i._promisesList=[]}g.each(e,function(e,t){i._promisesList.push(i.deferredRange(i._getSkip(t,n)))});if(t)g.when.apply(g,i._promisesList).done(function(){i._promisesList=[];i._activeDeferred.resolve()});return i._activeDeferred},_findDataItem:function(e,t){var i;if(this.options.type==="group")for(var n=0;n<e.length;n++){i=e[n].items;if(i.length<=t)t=t-i.length;else return i[t]}return e[t]},_getRange:function(e,t){return this.dataSource._findRange(e,Math.min(e+t,this.dataSource.total()))},dataItemByIndex:function(e){var t=this;var i=t.itemCount;var n=t._getSkip(e,i);var r=this._getRange(n,i);if(!t._getRange(n,i).length)return null;if(t.options.type==="group"){o.ui.progress(g(t.wrapper),true);t.mute(function(){t.dataSource.range(n,i,function(){o.ui.progress(g(t.wrapper),false)});r=t.dataSource.view()})}return t._findDataItem(r,[e-n])},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scrollTo:function(e){this.content.scrollTop(e)},scrollToIndex:function(e){this.scrollTo(e*this.options.itemHeight)},focus:function(e){var t,i,n,r,a=this.options.itemHeight,o=this._optionID,s=true;if(e===v){r=this.element.find("."+k);return r.length?r:null}if(typeof e==="function"){n=this.dataSource.flatView();for(var l=0;l<n.length;l++)if(e(n[l])){e=l;break}}if(e instanceof Array)e=D(e);if(isNaN(e)){t=g(e);i=parseInt(g(t).attr("data-offset-index"),10)}else{i=e;t=this._getElementByIndex(i)}if(i===-1){this.element.find("."+k).removeClass(k);this._focusedIndex=v;return}if(t.length){if(t.hasClass(k))s=false;if(this._focusedIndex!==v){r=this._getElementByIndex(this._focusedIndex);r.removeClass(k).removeAttr("id");if(s)this.trigger(C)}this._focusedIndex=i;t.addClass(k).attr("id",o);var d=this._getElementLocation(i);if(d==="top")this.scrollTo(i*a);else if(d==="bottom")this.scrollTo(i*a+a-this._screenHeight);else if(d==="outScreen")this.scrollTo(i*a);if(s)this.trigger(x)}else{this._focusedIndex=i;this.items().removeClass(k);this.scrollToIndex(i)}},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0);this.focus(0)},focusLast:function(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(e-1)},focusPrev:function(){var e=this._focusedIndex;var t;if(!isNaN(e)&&e>0){e-=1;this.focus(e);t=this.focus();if(t&&t.hasClass("k-loading-item")){e+=1;this.focus(e)}return e}else{e=this.dataSource.total()-1;this.focus(e);return e}},focusNext:function(){var e=this._focusedIndex;var t=this.dataSource.total()-1;var i;if(!isNaN(e)&&e<t){e+=1;this.focus(e);i=this.focus();if(i&&i.hasClass("k-loading-item")){e-=1;this.focus(e)}return e}else{e=0;this.focus(e);return e}},_triggerChange:function(e,t){e=e||[];t=t||[];if(e.length||t.length)this.trigger(a,{removed:e,added:t})},select:function(e){var t=this,i,n,r=t.options.selectable!=="multiple",a=N(t._activeDeferred),o=this.isFiltered(),s,l,d,u=[];if(e===v)return t._selectedIndexes.slice();if(!t._selectDeferred||t._selectDeferred.state()==="resolved")t._selectDeferred=g.Deferred();i=t._getIndecies(e);s=r&&!o&&D(i)===D(this._selectedIndexes);u=t._deselectCurrentValues(i);if(u.length||!i.length||s){t._triggerChange(u);if(t._valueDeferred)t._valueDeferred.resolve().promise();return t._selectDeferred.resolve().promise()}if(i.length===1&&i[0]===-1)i=[];n=i;d=t._deselect(i);u=d.removed;i=d.indices;if(r){a=false;if(i.length)i=[D(i)]}var f=function(){var e=t._select(i);if(n.length===i.length||r)t.focus(i);t._triggerChange(u,e);if(t._valueDeferred)t._valueDeferred.resolve();t._selectDeferred.resolve()};l=t.prefetch(i);if(!a)if(l)l.done(f);else f();return t._selectDeferred.promise()},bound:function(e){if(e===v)return this._listCreated;this._listCreated=e},mute:function(e){this._mute=true;e();this._mute=false},setDSFilter:function(e){this._lastDSFilter=g.extend({},e)},isFiltered:function(){if(!this._lastDSFilter)this.setDSFilter(this.dataSource.filter());return!o.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:g.noop,_getElementByIndex:function(i){return this.items().filter(function(e,t){return i===parseInt(g(t).attr("data-offset-index"),10)})},_getElementByDataItem:function(e){var t=this._dataView,i=this._valueGetter,n,r;for(var a=0;a<t.length;a++){r=t[a].item&&I(t[a].item)?t[a].item===e:t[a].item&&e&&i(t[a].item)==i(e);if(r){n=t[a];break}}return n?this._getElementByIndex(n.index):g()},_clean:function(){this.result=v;this._lastScrollTop=v;this._skip=v;g(this.heightContainer).remove();this.heightContainer=v;this.element.empty()},_height:function(){var e=!!this.dataSource.view().length,t=this.options.height,i=this.options.itemHeight,n=this.dataSource.total();if(!e)t=0;else if(t/i>n)t=n*i;return t},setScreenHeight:function(){var e=this._height();this.content.height(e);this._screenHeight=e},screenHeight:function(){return this._screenHeight},_getElementLocation:function(e){var t=this.content.scrollTop(),i=this._screenHeight,n=this.options.itemHeight,r=e*n,a=r+n,o=t+i,s;if(r===t-n||a>t&&r<t)s="top";else if(r===o||r<o&&o<a)s="bottom";else if(r>=t&&r<=t+(i-n))s="inScreen";else s="outScreen";return s},_templates:function(){var e=this.options;var t={template:e.template,placeholderTemplate:e.placeholderTemplate,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate};if(e.columns)for(var i=0;i<e.columns.length;i++){var n=e.columns[i];var r=n.field?n.field.toString():"text";t["column"+i]=n.template||"#: "+r+"#"}for(var a in t)if(typeof t[a]!=="function")t[a]=o.template(t[a]||"");this.templates=t},_generateItems:function(e,t){var i=[],n,r,a=this.options.itemHeight+"px",o=this.options.columns&&this.options.columns.length?p:c;while(t-- >0){r=document.createElement("span");r.className="k-list-item-text";n=document.createElement("li");n.tabIndex=-1;n.className=o;n.setAttribute("role","option");n.style.height=a;n.style.minHeight=a;n.appendChild(r);e.appendChild(n);i.push(n)}return i},_saveInitialRanges:function(){var e=this.dataSource._ranges;var t=g.Deferred();t.resolve();this._rangesList={};for(var i=0;i<e.length;i++)this._rangesList[e[i].start]={end:e[i].end,deferred:t}},_createList:function(){var n=this,e=n.content.get(0),t=n.options,i=n.dataSource;if(n.bound())n._clean();n._saveInitialRanges();n._buildValueGetter();n.setScreenHeight();n.itemCount=E(n._screenHeight,t.listScreens,t.itemHeight);if(n.itemCount>i.total())n.itemCount=i.total();n._items=n._generateItems(n.element[0],n.itemCount);n._setHeight(t.itemHeight*i.total());n.options.type=(i.group()||[]).length?"group":"flat";if(n.options.type==="flat")if(n.header.closest(T).length)n.header.closest(T).hide();else n.header.hide();else if(n.header.closest(T).length)n.header.closest(T).show();else n.header.show();n.getter=n._getter(function(){n._renderItems(true)});n._onScroll=function(e,t){var i=n._listItems(n.getter);return n._fixedHeader(e,i(e,t))};n._renderItems=n._whenChanged(O(e,n._onScroll),L(n._reorderList(n._items,W.bind(n))));n._renderItems();n._calculateGroupPadding(n._screenHeight);n._calculateColumnsHeaderPadding()},_setHeight:function(e){var t,i=this.heightContainer;if(!i)i=this.heightContainer=z(this.content[0],r);else t=i.offsetHeight;if(e!==t){i.innerHTML="";while(e>0){var n=Math.min(e,25e4);z(i).style.height=n+"px";e-=n}}},_getter:function(){var f=null,c=this.dataSource,p=c.skip(),h=this.options.type,m=this.itemCount,g={};if(c.pageSize()<m)this.mute(function(){c.pageSize(m)});return function(e,t){var i=this;if(!c.inRange(t,m)){if(f!==t){f=t;p=t;if(i._getterDeferred)i._getterDeferred.reject();i._getterDeferred=i.deferredRange(t);i._getterDeferred.then(function(){var e=i._indexConstraint(i.content[0].scrollTop);i._getterDeferred=null;if(t<=e&&e<=t+m){i._fetching=true;c.range(t,m)}})}return null}else{if(p!==t)this.mute(function(){c.range(t,m);p=t});var n;if(h==="group"){if(!g[t]){var r=g[t]=[];var a=c.view();for(var o=0,s=a.length;o<s;o++){var l=a[o];for(var d=0,u=l.items.length;d<u;d++)r.push({item:l.items[d],group:l.value})}}n=g[t][e-t]}else n=c.view()[e-t];return n}}},_fixedHeader:function(e,t){var i=this.currentVisibleGroup,n=this.options.itemHeight,r=Math.floor((e-t.top)/n),a=t.items[r];if(a&&a.item){var o=a.group;if(o!==i){var s=o||"";this.header.html(this.templates.fixedGroupTemplate(s));this.currentVisibleGroup=o}}return t},_itemMapper:function(e,t,i){var n=this.options.type,r=this.options.itemHeight,a=this._focusedIndex,o=false,s=false,l=false,d=null,u=false,f=this._valueGetter;if(n==="group"){if(e){l=t===0||this._currentGroup!==false&&this._currentGroup!==e.group;this._currentGroup=e.group}d=e?e.group:null;e=e?e.item:null}if(this.options.mapValueTo==="dataItem"&&this._selectedDataItems.length&&e)for(var c=0;c<this._selectedDataItems.length;c++){u=f(this._selectedDataItems[c])===f(e);if(u){o=true;break}}else if(!this.isFiltered()&&i.length&&e)for(var p=0;p<i.length;p++){u=I(e)?i[p]===e:i[p]===f(e);if(u){i.splice(p,1);o=true;break}}if(a===t)s=true;return{item:e?e:null,group:d,newGroup:l,selected:o,current:s,index:t,top:t*r}},_range:function(e){var t=this.itemCount,i=this._values.slice(),n=[],r;this._view={};this._currentGroup=false;for(var a=e,o=e+t;a<o;a++){r=this._itemMapper(this.getter(a,e),a,i);if(n[n.length-1])n[n.length-1].isLastGroupedItem=r.newGroup;n.push(r);this._view[r.index]=r}this._dataView=n;return n},_getDataItemsCollection:function(e,t){var i=this._range(this._listIndex(e,t));return{index:i.length?i[0].index:0,top:i.length?i[0].top:0,items:i}},_listItems:function(){var e=this._screenHeight,t=this.options;var r=R(t,e);return function(e,t){var i=this.result,n=this._lastScrollTop;if(t||!i||!r(i,e,n))i=this._getDataItemsCollection(e,n);this._lastScrollTop=e;this.result=i;return i}.bind(this)},_whenChanged:function(i,n){var r;return function(e){var t=i(e);if(t!==r){r=t;n(t,e)}}},_reorderList:function(o,s){var l=this;var d=o.length;var u=-Infinity;s=V(s,this.templates).bind(this);return function(e,t,i){var n=t-u;var r,a;if(i||Math.abs(n)>=d){r=o;a=e}else{r=U(o,n);a=n>0?e.slice(-n):e.slice(0,-n)}s(r,a,l.bound());u=t}},_bufferSizes:function(){var e=this.options;return t(this._screenHeight,e.listScreens,e.oppositeBuffer)},_indexConstraint:function(e){var t=this.itemCount,i=this.options.itemHeight,n=this.dataSource.total();return Math.min(Math.max(n-t,0),Math.max(0,Math.floor(e/i)))},_listIndex:function(e,t){var i=this._bufferSizes(),n;n=e-(e>t?i.down:i.up);return this._indexConstraint(n)},_selectable:function(){var e=this.options.columns&&this.options.columns.length?p:c;if(this.options.selectable){this._selectProxy=this._clickHandler.bind(this);this.element.on(i+S,"."+e,this._selectProxy)}},getElementIndex:function(e){if(!(e instanceof jQuery))return v;return parseInt(e.attr("data-offset-index"),10)},_getIndecies:function(e){var t=[],i;if(typeof e==="function"){i=this.dataSource.flatView();for(var n=0;n<i.length;n++)if(e(i[n])){t.push(n);break}}if(typeof e==="number")t.push(e);var r=this.getElementIndex(e);if(!isNaN(r))t.push(r);if(e instanceof Array)t=e;return t},_deselect:function(e){var t=[],i,n,r=this._selectedIndexes,a=this._selectedDataItems,o=0,s=this.options.selectable,l=0,d=this._valueGetter,u,f,c=null;e=e.slice();if(s===true||!e.length){for(var p=0;p<r.length;p++){if(r[p]!==v)this._getElementByIndex(r[p]).removeClass(_);else if(a[p])this._getElementByDataItem(a[p]).removeClass(_);t.push({index:r[p],position:p,dataItem:a[p]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}else if(s==="multiple")for(var h=0;h<e.length;h++){c=null;o=g.inArray(e[h],r);n=this.dataItemByIndex(e[h]);if(o===-1&&n)for(var m=0;m<a.length;m++){f=I(n)?a[m]===n:d(a[m])===d(n);if(f){u=this._getElementByIndex(e[h]);c=this._deselectSingleItem(u,m,e[h],l)}}else{i=r[o];if(i!==v){u=this._getElementByIndex(i);c=this._deselectSingleItem(u,o,i,l)}}if(c){e.splice(h,1);t.push(c);l++;h--}}return{indices:e,removed:t}},_deselectSingleItem:function(e,t,i,n){var r;if(!e.hasClass(_))return;e.removeClass(_);this._values.splice(t,1);this._selectedIndexes.splice(t,1);r=this._selectedDataItems.splice(t,1)[0];return{index:i,position:t+n,dataItem:r}},_deselectCurrentValues:function(e){var t=this.element[0].children;var i,n,r;var a=this._values;var o=[];var s=0;var l;if(this.options.selectable!=="multiple"||!this.isFiltered())return[];if(e[0]===-1){g(t).removeClass(_);o=g.map(this._selectedDataItems.slice(0),function(e,t){return{dataItem:e,position:t}});this._selectedIndexes=[];this._selectedDataItems=[];this._values=[];return o}for(;s<e.length;s++){r=-1;n=e[s];if(this.dataItemByIndex(n))i=this._valueGetter(this.dataItemByIndex(n));for(l=0;l<a.length;l++)if(i==a[l]){r=l;break}if(r>-1){o.push(this.removeAt(r));g(t[n]).removeClass(_)}}return o},_getSkip:function(e,t){var i=e<t?1:Math.floor(e/t)+1;return(i-1)*t},_select:function(e){var n=this,t=this.options.selectable!=="multiple",r=this.dataSource,a,o,s=this.itemCount,l=this._valueGetter,d=[];if(t){n._selectedIndexes=[];n._selectedDataItems=[];n._values=[]}o=r.skip();g.each(e,function(e,t){var i=n._getSkip(t,s);n.mute(function(){r.range(i,s);a=n._findDataItem(r.view(),[t-i]);n._selectedIndexes.push(t);n._selectedDataItems.push(a);n._values.push(I(a)?a:l(a));d.push({index:t,dataItem:a});n._getElementByIndex(t).addClass(_);r.range(o,s)})});n._values=n._checkValuesOrder(n._values);return d},_clickHandler:function(e){var t=g(e.currentTarget);if(!e.isDefaultPrevented()&&t.attr("data-uid"))this.trigger(i,{item:t})},_buildValueGetter:function(){this._valueGetter=o.getter(this.options.dataValueField)},_calculateGroupPadding:function(e){var t=this.items().first(),i=this.header,n=0;if(i[0]&&i[0].style.display!=="none"){if(e!=="auto")n=o.support.scrollbar();n+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10);i.css("padding-right",n)}},_calculateColumnsHeaderPadding:function(){if(this.options.columns&&this.options.columns.length){var e=o.support.isRtl(this.wrapper);var t=o.support.scrollbar();var i=this.content.parent().parent().find(".k-table-header");var n=this.dataSource.total();i.css(e?"padding-left":"padding-right",n?t:0)}}});return o.ui.VirtualList=P,o.ui.plugin(P),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.base.min",["kendo.core.min"],function(){var e={id:"html.base",name:"Html.Base",category:"web",description:"",depends:["core"],features:[]},n=window.kendo.jQuery,t=void 0,r=window.kendo,i=r.Class,a=(r.html=r.html||{},i.extend({init:function(e,t){var i=this;i.element=n(e);t=t||{};delete t.name;i._initOptions(t)},options:{stylingOptions:[]},_addClasses:function(){var e=this,i=e.options,t=i.stylingOptions,n=e.wrapper.data("added-classes");t=t.map(function(e){var t;if(e==="themeColor"){t=r.cssProperties.getValidClass({widget:i.name,propName:"fillMode",value:i.fillMode});if(!t||t.length===0)return""}return r.cssProperties.getValidClass({widget:i.name,propName:e,value:i[e],fill:i.fillMode})});if(n)e.wrapper.removeClass(n.join(" "));e.wrapper.data("added-classes",t);e.wrapper.addClass(t.join(" "))},html:function(){var e=this;return e.wrapper[0].outerHTML}}));return n.extend(r.html,{HTMLBase:a}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.button.min",["kendo.html.base.min"],function(){var e={id:"html.button",name:"Html.Button",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},u=window.kendo.jQuery,i=void 0,f=window.kendo,n=f.html.HTMLBase,r="k-button",c="k-button-icon",a="k-button-text",t=function(e,t){if(arguments[0]===i||u.isPlainObject(arguments[0])){t=e;e=u("<button></button>")}return new o(e,t).html()},o=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i.wrapper=i.element.addClass(r);if(!i.element.attr("type"))i.element.attr("type",i.options.type);i._addClasses();i.iconElement();i._textElement()},options:{name:"HTMLButton",type:"button",icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base",stylingOptions:["size","rounded","fillMode","themeColor"]},iconElement:function(){var e=this,t=e.element,i=e.options,n=i.icon,r=i.iconClass,a=i.spriteCssClass,o=i.imageUrl,s,l,d;if(a||o||n||r){d=true;t.contents().filter(function(){return!u(this).hasClass("k-sprite")&&!u(this).hasClass("k-icon")&&!u(this).hasClass("k-image")}).each(function(e,t){if(t.nodeType==1||t.nodeType==3&&f.trim(t.nodeValue).length>0)d=false})}if(d)e.element.addClass("k-icon-button");if(o){l=t.children("img.k-image").first();if(!l[0])l=u('<img alt="icon" class="k-image" />').prependTo(t);l.attr("src",o);l.addClass(c)}else if(n||r){s=t.children("span.k-icon").first();if(!s[0])s=u("<span></span>").prependTo(t);s.attr("class",n?"k-icon k-i-"+n:r);s.addClass(c)}else if(a){s=t.children("span.k-sprite").first();if(!s[0])s=u('<span class="k-sprite"></span>').prependTo(t);s.addClass(a+" "+c)}},_textElement:function(){var e=this.element;e.contents().filter(function(){return!u(this).hasClass(c)&&!u(this).hasClass("k-sprite")&&!u(this).hasClass("k-icon")&&!u(this).hasClass("k-image")}).each(function(e,t){if(t.nodeType==1||t.nodeType==3&&f.trim(t.nodeValue).length>0){if(t.nodeType===3){var i=document.createElement("span");t.parentNode.insertBefore(i,t);i.appendChild(t);t=i}t.classList.add(a)}})}});return u.extend(f.html,{renderButton:t,HTMLButton:o}),f.cssProperties.registerPrefix("HTMLButton","k-button-"),f.cssProperties.registerValues("HTMLButton",[{prop:"fillMode",values:f.cssProperties.fillModeValues.concat(["link"])},{prop:"rounded",values:f.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.combobox.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.button.min"],function(){var e={id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},o=window.kendo.jQuery,l=void 0,a=window.kendo,t=a.ui,u=a.html,d=t.List,s=t.Select,f=a.caret,c=a.support,p=c.placeholder,h=a._activeElement,m=a.keys,g=".kendoComboBox",i=g+"FocusEvent",v="click"+g,b="mousedown"+g,_="disabled",k="readonly",w="change",n="k-i-loading k-input-loading-icon",y="k-focus",x="k-disabled",C="aria-disabled",T="aria-readonly",S="off",D="filter",r="accept",F="rebind",I="mouseenter"+g+" mouseleave"+g,E=/(\r\n|\n|\r)/gm,z=[16,17,18,19,20,33,34,37,39,45,91,92,144,145],A=s.extend({init:function(e,t){var i=this,n,r;i.ns=g;t=Array.isArray(t)?{dataSource:t}:t;s.fn.init.call(i,e,t);t=i.options;e=i.element.on("focus"+g,i._focusHandler.bind(i));t.placeholder=t.placeholder||e.attr("placeholder");i._reset();i._wrapper();i._input();i._clearButton();i._tabindex(i.input);i._popup();i._dataSource();i._ignoreCase();i._enable();i._attachFocusEvents();i._oldIndex=i.selectedIndex=-1;i._aria();i._initialIndex=t.index;i.requireValueMapper(i.options);i._initList();i._cascade();if(t.autoBind)i._filterSource();else{n=t.text;if(!n&&i._isSelect)n=e.children(":selected").text();if(n)i._setText(n)}if(!n)i._placeholder();r=o(i.element).parents("fieldset").is(":disabled");if(r)i.enable(false);a.notify(i);i._toggleCloseVisibility();i._applyCssClasses()},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:false,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},virtual:false,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:true,syncValueAndText:true,autoWidth:false,popup:null,size:"medium",fillMode:"solid",rounded:"medium"},events:["open","close",w,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){var t=this._listOptions(e);s.fn.setOptions.call(this,e);this.listView.setOptions(t);this._accessors();this._aria();this._clearButton()},destroy:function(){var e=this;e.input.off(g);e.input.off(i);e.element.off(g);e.wrapper.off(g);clearTimeout(e._pasteTimeout);e._arrow.off(v+" "+b);e._clear.off(v+" "+b);s.fn.destroy.call(e)},_isValueChanged:function(e){return e!==d.unifyType(this._old,typeof e)&&e!==d.unifyType(this._oldText,typeof e)},_change:function(){var e=this;var t=e.text();var i=t&&t!==e._oldText&&t!==e.options.placeholder;var n=e.selectedIndex;var r=n===-1;if(!e.options.syncValueAndText&&!e.value()&&r&&i){e._old="";e._oldIndex=n;e._oldText=t;if(!e._typing)e.element.trigger(w);e.trigger(w);e._typing=false;return}s.fn._change.call(e);e._oldText=e.text&&e.text();e._toggleCloseVisibility()},_attachFocusEvents:function(){var e=this;e.input.on("focus"+i,e._inputFocus.bind(e)).on("focusout"+i,e._inputFocusout.bind(e))},_focusHandler:function(e){if(e.target===this.element[0])this.input.trigger("focus")},_arrowClick:function(){this._toggle()},_inputFocus:function(){this.wrapper.addClass(y);this._placeholder(false)},_inputFocusout:function(e){var t=this;var i=t.value();var n=!o(e.relatedTarget).closest(".k-clear-value").length;t._userTriggered=true;t.wrapper.removeClass(y);clearTimeout(t._typingTimeout);t._typingTimeout=null;if(n)t.text(t.text());var r=t._focus();var a=this.listView.dataItemByIndex(this.listView.getElementIndex(r));if(i!==t.value()&&t.trigger("select",{dataItem:a,item:r})){t.value(i);return}t._placeholder();t._valueBeforeCascade=t._old;if(n){t._blur();t.element.trigger("blur")}},_inputPaste:function(){var e=this;clearTimeout(e._pasteTimeout);e._pasteTimeout=null;e._pasteTimeout=setTimeout(function(){e.search()})},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t.wrapper.off(g),a=t.element.add(t.input.off(g)),o=t._arrow.off(v+" "+b),s=t._clear;if(!n&&!i){r.removeClass(x).on(I,t._toggleHover);a.prop(_,false).prop(k,false).attr(C,false).attr(T,false);o.on(v,t._arrowClick.bind(t)).on(b,function(e){e.preventDefault()});s.on(v+" touchend"+g,t._clearValue.bind(t));t.input.on("keydown"+g,t._keydown.bind(t)).on("input"+g,t._search.bind(t)).on("paste"+g,t._inputPaste.bind(t));t.wrapper.on(v+g,t._focusHandler.bind(t))}else{r.addClass(i?x:"").removeClass(i?"":x);a.attr(_,i).attr(k,n).attr(C,i).attr(T,n)}t._toggleCloseVisibility()},open:function(){var e=this;var t=e._state;var i=e.dataSource.filter()?e.dataSource.filter().filters.length>0:false;var n=!e.ul.find(e.listView.focus()).length;if(e.popup.visible())return;if(!e.listView.bound()&&t!==D||t===r){e._open=true;e._state=F;if(e.options.minLength!==1&&!i||i&&e.value()&&e.selectedIndex===-1){e.refresh();e._openPopup();if(!this.options.virtual)e.listView.bound(false)}else e._filterSource()}else if(e._allowOpening()){e.popup._hovered=true;e._openPopup();if(e.options.virtual)e._focusItem();else if(n&&e.options.highlightFirst)e.listView.focus(0)}},_scrollToFocusedItem:function(){var e=this.listView;e.scrollToIndex(e.getElementIndex(e.focus()))},_openPopup:function(){this.popup.one("activate",this._scrollToFocusedItem.bind(this));this.popup.open()},_updateSelectionState:function(){var e=this;var t=e.options.text;var i=e.options.value;if(e.listView.isFiltered())return;if(e.selectedIndex===-1){if(t===l||t===null)t=i;e._accessor(i);e.input.val(t||e.input.val());e._placeholder()}else if(e._oldIndex===-1)e._oldIndex=e.selectedIndex},_buildOptions:function(e){var t=this;if(!t._isSelect)return;var i=t._customOption;if(t._state===F)t._state="";t._customOption=l;t._options(e,"",t.value());if(i&&i[0].selected&&!t.listView._emptySearch)t._custom(i.val())},_updateSelection:function(){var e=this;var t=e.listView;var i=e._initialIndex;var n=i!==null&&i>-1;var r=e._state===D;if(r){o(t.focus()).removeClass("k-selected");return}if(e._fetch)return;if(!t.value().length)if(n)e.select(i);else if(e._accessor())t.value(e._accessor());e._initialIndex=null;var a=t.selectedDataItems()[0];if(!a)return;if(e._value(a)!==e.value())e._custom(e._value(a));else if(e._value(a)!==e.element[0].value)e._accessor(e._value(a));if(e.text()&&e.text()!==e._text(a))e._selectValue(a)},_updateItemFocus:function(){var e=this.listView;if(!this.options.highlightFirst)e.focus(-1);else if(!e.focus()&&!e.focusIndex())e.focus(0)},_listBound:function(){var e=this;var t=e.input[0]===h();var i=e.dataSource.flatView();var n=e.listView.skip();var r=i.length;var a=e.dataSource._group?e.dataSource._group.length:0;var o=n===l||n===0;e._presetValue=false;e._renderFooter();e._renderNoData();e._toggleNoData(!r);e._toggleHeader(!!a&&!!r);e._resizePopup();e.popup.position();e._buildOptions(i);e._updateSelection();if(i.length&&o){e._updateItemFocus();if(e.options.suggest&&t&&e.input.val())e.suggest(i[0])}if(e._open){e._open=false;if(e._typingTimeout&&!t)e.popup.close();else e.toggle(e._allowOpening());e._typingTimeout=null}e._hideBusy();e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue)this._oldIndex=this.selectedIndex},_get:function(e){var t,i,n;if(typeof e==="function"){t=this.dataSource.flatView();for(n=0;n<t.length;n++)if(e(t[n])){e=n;i=true;break}if(!i)e=-1}if(!this.dataSource.total()&&!e)e=-1;return e},_select:function(e,t){var i=this;e=i._get(e);if(e===-1){i.input[0].value="";i._accessor("")}return i.listView.select(e).done(function(){if(!t&&i._state===D)i._state=r;i._toggleCloseVisibility()})},_selectValue:function(e){var t=this.listView.select();var i="";var n="";t=t[t.length-1];if(t===l)t=-1;this.selectedIndex=t;if(this.listView.isFiltered()&&t!==-1)this._valueBeforeCascade=this._old;if(t===-1&&!e){if(this.options.syncValueAndText){if(this.options.dataTextField===this.options.dataValueField)n=this._accessor();else n=this.input[0].value;i=n}else n=this.text();this.listView.focus(-1)}else{if(e||e===0){i=this._dataValue(e);n=this._text(e)}if(i===null)i=""}this._setDomInputValue(n);this._accessor(i!==l?i:n,t);this._placeholder();this._triggerCascade()},_setDomInputValue:function(e){var t=this;var i=f(this.input);var n;if(i&&i.length)n=i[0];this._prev=this.input[0].value=e;if(n&&this.selectedIndex===-1){var r=c.mobileOS;if(r.wp||r.android)setTimeout(function(){t.input[0].setSelectionRange(n,n)},0);else this.input[0].setSelectionRange(n,n)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");if(this.text()&&!e)this._showClear();else this._hideClear()},suggest:function(e){var t=this;var i=t.input[0];var n=t.text();var r=f(i)[0];var a=t._last;var o;var s=t.dataSource.options.accentFoldingFiltering;if(a==m.BACKSPACE||a==m.DELETE){t._last=l;return}e=e||"";if(typeof e!=="string"){if(e[0])e=t.dataSource.view()[d.inArray(e[0],t.ul[0])];e=e?t._text(e):""}if(r<=0)r=(s?n.toLocaleLowerCase(s):n.toLowerCase()).indexOf(s?e.toLocaleLowerCase(s):e.toLowerCase())+1;if(e){e=e.toString();o=(s?e.toLocaleLowerCase(s):e.toLowerCase()).indexOf(s?n.toLocaleLowerCase(s):n.toLowerCase());if(o>-1)n+=e.substring(o+n.length)}else n=n.substring(0,r);if(n.length!==r||!e){i.value=n;if(i===h())f(i,r,n.length)}},text:function(e){e=e===null?"":e;var t=this;var i=t.input[0];var n=t.options.ignoreCase;var r=e;var a;var o;if(e===l)return i.value;if(t.options.autoBind===false&&!t.listView.bound()){t._setText(e);return}a=t.dataItem();if(a&&t._text(a).replace&&t._text(a).replace(E,"")===e){o=t._value(a);if(o===d.unifyType(t._old,typeof o)){t._triggerCascade();return}}if(n)r=r.toLowerCase();if(t.dataItem()&&t._text(t.dataItem())===e)return;t._select(function(e){e=t._text(e);if(n)e=(e+"").toLowerCase();return e===r}).done(function(){if(t.selectedIndex<0){i.value=e;if(t.options.syncValueAndText)t._accessor(e);t._cascadeTriggered=true;t._triggerCascade()}t._prev=i.value});t._toggleCloseVisibility()},toggle:function(e){this._toggle(e,true)},value:function(e){var t=this;var i=t.options;var n=t.listView;if(e===l){e=t._accessor()||t.listView.value()[0];return e===l||e===null?"":e}t.requireValueMapper(t.options,e);t.trigger("set",{value:e});if(e===i.value&&t.input.val()===i.text&&!t.options.cascadeFrom)return;t._accessor(e);if(t._isFilterEnabled()&&n.bound()&&n.isFiltered())t._clearFilter();else t._fetchData();n.value(e).done(function(){if(t.selectedIndex===-1&&(!n._selectedDataItems||!n._selectedDataItems.length)){t._accessor(e);t.input.val(e);t._placeholder(true)}if(t._userTriggered)t._old=t._accessor();else t._old=t._valueBeforeCascade=t._accessor();t._oldIndex=t.selectedIndex;t._prev=t._oldText=t.input.val();if(t._state===D)t._state=r;t._toggleCloseVisibility()})},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._arrowIcon.removeClass(n);e._focused.attr("aria-busy",false);e._busy=null;e._toggleCloseVisibility()},_click:function(e){var t=this;var i=e.item;var n=t.listView.dataItemByIndex(t.listView.getElementIndex(i));var r=true;e.preventDefault();if(n){r=t._value(n)!==d.unifyType(t.value(),typeof t._value(n));if(!r)t.input.val(t._text(n))}if(r&&t.trigger("select",{dataItem:n,item:i})){t.close();return}t._userTriggered=true;t._select(i).done(function(){t._blur()})},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(i){var n=this;var e=n.options;var t=n.dataSource;var r=e.ignoreCase;var a=function(e){var t=n._text(e);if(t!==l){t=t+"";if(t!==""&&i==="")return false;if(r)t=t.toLowerCase();return t.indexOf(i)===0}};if(r)i=i.toLowerCase();if(!n.ul[0].firstChild){t.one(w,function(){if(t.view()[0])n.search(i)}).fetch();return}this.listView.focus(this._get(a));var o=this.listView.focus();if(o){if(e.suggest)n.suggest(o);this.open()}if(this.options.highlightFirst&&!i)this.listView.focusFirst()},_input:function(){var e=this,t=e.element.removeClass("k-input-inner")[0],i=t.accessKey,n=e.wrapper,r="input.k-input-inner",a=t.name||"",o=e.options,s,l,d;if(a)a='name="'+a+'_input" ';s=n.find(r);if(!s[0]){d=u.renderButton('<button type="button" class="k-input-button" aria-label="expand combobox"></button>',{icon:"arrow-s",size:o.size,fillMode:o.fillMode,shape:"none",rounded:"none"});n.append("<input "+a+'class="k-input-inner" type="text" autocomplete="'+S+'"/>').append(d).append(e.element);s=n.find(r)}s[0].style.cssText=t.style.cssText;s[0].title=t.title;l=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10);if(l>-1)s[0].maxLength=l;s.addClass(t.className).css({width:"",height:t.style.height,position:""}).attr({role:"combobox","aria-expanded":false}).show();if(p)s.attr("placeholder",e.options.placeholder);if(i){t.accessKey="";s[0].accessKey=i}e._focused=e.input=s;e._arrow=n.find(".k-input-button").attr({role:"button",tabIndex:-1});e._arrowIcon=e._arrow.find(".k-icon")},_clearButton:function(){d.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.input);this.wrapper.addClass("k-combobox-clearable")}},_keydown:function(e){var t=this,i=e.keyCode,n=t.options.dataTextField||"text",r=i>=112&&i<=135,a=z.indexOf(i)>-1;t._last=i;clearTimeout(t._typingTimeout);t._typingTimeout=null;if(i===m.HOME)t._firstItem();else if(i===m.END)t._lastItem();else if(i===m.ENTER||i===m.TAB&&t.popup.visible()){var o=t.listView.focus();var s=t.dataItem();var l=true;if(!t.popup.visible()&&(!s||t.text()!==t._text(s)))o=null;if(o){if(t.popup.visible())e.preventDefault();s=t.listView.dataItemByIndex(t.listView.getElementIndex(o));if(s)l=t._value(s)!==d.unifyType(t.value(),typeof t._value(s));if(l&&t.trigger("select",{dataItem:s,item:o}))return;t._userTriggered=true;t._select(o).done(function(){t._blur();t._valueBeforeCascade=t._old=t.value()})}else{if(t._syncValueAndText()||t._isSelect)if(!t.dataItem()||t.dataItem()[n]!==t.input.val())t._accessor(t.input.val());if(t.options.highlightFirst){t.listView.value(t.input.val());t._blur()}else t._oldText=t.text()}}else if(i!=m.TAB&&!t._move(e)&&!a&&!r&&!e.ctrlKey)t._search();else if(i===m.ESC&&!t.popup.visible()&&t.text())t._clearValue()},_placeholder:function(e){if(p)return;var t=this,i=t.input,n=t.options.placeholder,r;if(n){r=t.value();if(e===l)e=!r;i.toggleClass("k-readonly",e);if(!e)if(!r)n="";else return;i.val(n);if(!n&&i[0]===h())f(i[0],0,0)}},_search:function(){var t=this;clearTimeout(t._typingTimeout);t._typingTimeout=setTimeout(function(){var e=t.text();if(e!==""&&t._prev!==e){t._prev=e;if(t.options.filter==="none"&&t.options.virtual)t.listView.select(-1);t.search(e);t._toggleCloseVisibility()}else if(e===""&&t._prev!==""&&t._prev!==l){t._clearValue();t._open=true;t._state=F}t._typingTimeout=null},t.options.delay)},_setText:function(e){this.input.val(e);this._prev=e},_wrapper:function(){var e=this,t=e.element,i=t.parent();if(!i.is("span.k-input")){i=t.hide().wrap("<span />").parent();i[0].style.cssText=t[0].style.cssText}e.wrapper=i.addClass("k-input k-combobox").addClass(t[0].className).removeClass("input-validation-error").css("display","")},_clearSelection:function(e,t){var i=this;var n=e.value();var r=n&&e.selectedIndex===-1;if(this.selectedIndex==-1&&this.value())return;if(t||!n||r){i.options.value="";i.value("")}},_preselect:function(e,t){this.input.val(t);this._accessor(e);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(e);this._placeholder();this._initialIndex=null;this._presetValue=true;this._toggleCloseVisibility()},_clearText:function(){this._old=this.value();this.text("")},_clearValue:function(){s.fn._clearValue.call(this);this.input.trigger("focus")}});return t.plugin(A),a.cssProperties.registerPrefix("ComboBox","k-input-"),a.cssProperties.registerValues("ComboBox",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dropdownlist.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.button.min"],function(){var e={id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},s=window.kendo.jQuery,l=void 0,d=window.kendo,t=d.ui,u=d.html,a=t.List,f=t.Select,o=d.support,c=d._activeElement,p=d.data.ObservableObject,h=d.keys,m=".kendoDropDownList",i=m+"FocusEvent",g="disabled",v="readonly",b="change",n="k-focus",_="k-disabled",k="aria-disabled",w="aria-readonly",r="click"+m+" touchend"+m,y="mouseenter"+m+" mouseleave"+m,x="tabindex",C="filter",T="accept",S="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",D="open",F="close",I=f.extend({init:function(e,t){var i=this;var n=t&&t.index;var r,a,o;i.ns=m;t=Array.isArray(t)?{dataSource:t}:t;f.fn.init.call(i,e,t);t=i.options;e=i.element.on("focus"+m,i._focusHandler.bind(i));i._focusInputHandler=i._focusInput.bind(i);i.optionLabel=s();i._optionLabel();i._inputTemplate();i._reset();i._prev="";i._word="";i._wrapper();i._tabindex();i.wrapper.data(x,i.wrapper.attr(x));i._span();i._popup();i._mobile();i._dataSource();i._ignoreCase();i._filterHeader();i._aria();i._enable();i._attachFocusHandlers();i._oldIndex=i.selectedIndex=-1;if(n!==l)t.index=n;i._initialIndex=t.index;i.requireValueMapper(i.options);i._initList();i.listView.one("dataBound",i._attachAriaActiveDescendant.bind(i));i._cascade();i.one("set",function(e){if(!e.sender.listView.bound()&&i.hasOptionLabel())i._textAccessor(i._optionLabelText())});if(t.autoBind)i.dataSource.fetch();else if(i.selectedIndex===-1){a=t.text||"";if(!a){r=t.optionLabel;if(r&&t.index===0)a=r;else if(i._isSelect)a=e.children(":selected").text()}i._textAccessor(a)}o=s(i.element).parents("fieldset").is(":disabled");if(o)i.enable(false);i.listView.bind("click",function(e){e.preventDefault()});d.notify(i);i._applyCssClasses()},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,enforceMinLength:false,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:false,popup:null,filterTitle:null,size:"medium",fillMode:"solid",rounded:"medium"},events:["open","close",b,"select","filtering","dataBinding","dataBound","cascade","set","kendoKeydown"],setOptions:function(e){f.fn.setOptions.call(this,e);this.listView.setOptions(this._listOptions(e));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.hasOptionLabel())this.select(0)},destroy:function(){var e=this;f.fn.destroy.call(e);e.wrapper.off(m);e.wrapper.off(i);e.element.off(m);e._arrow.off();e._arrow=null;e._arrowIcon=null;e.optionLabel.off();if(e.filterInput)e.filterInput.off(i)},open:function(){var e=this;var t=e.dataSource.filter()?e.dataSource.filter().filters.length>0:false;var i=this.listView;if(e.popup.visible())return;if(!e.listView.bound()||e._state===T){e._open=true;e._state="rebind";if(e.filterInput){e.filterInput.val("");e._prev=""}if(e.filterInput&&e.options.minLength!==1&&!t){e.refresh();e.popup.one("activate",e._focusInputHandler);e.wrapper.attr("aria-activedescendant",i._optionID);e.popup.open();e._resizeFilterInput()}else e._filterSource()}else if(e._allowOpening()){e._focusFilter=true;e.popup.one("activate",e._focusInputHandler);e.popup._hovered=true;e.wrapper.attr("aria-activedescendant",i._optionID);e.popup.open();e._resizeFilterInput();e._focusItem()}},close:function(){this._attachAriaActiveDescendant();this.popup.close()},_attachAriaActiveDescendant:function(){var e=this.wrapper,t=e.find(".k-input-inner").attr("id");e.attr("aria-describedby",t)},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e=this.filterInput;var t=this._prevent;if(!e)return;var i=this.filterInput[0]===c();var n=d.caret(this.filterInput[0])[0];this._prevent=true;e.addClass("k-hidden");e.closest(".k-list-filter").css("width",this.popup.element.css("width"));e.removeClass("k-hidden");if(i){e.trigger("focus");d.caret(e[0],n)}this._prevent=t},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||f.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,true)},current:function(e){var t;if(e===l){t=this.listView.focus();if(!t&&this.selectedIndex===0&&this.hasOptionLabel())return this.optionLabel;return t}this._focus(e)},dataItem:function(e){var t=this;var i=null;if(e===null)return e;if(e===l)i=t.listView.selectedDataItems()[0];else{if(typeof e!=="number"){if(t.options.virtual)return t.dataSource.getByUid(s(e).data("uid"));if(e.hasClass("k-list-optionlabel"))e=-1;else e=s(t.items()).index(e)}else if(t.hasOptionLabel())e-=1;i=t.dataSource.flatView()[e]}if(!i)i=t._optionLabelDataItem();return i},refresh:function(){this.listView.refresh()},text:function(e){var t=this;var i;var n=t.options.ignoreCase;e=e===null?"":e;if(e!==l){if(typeof e!=="string"){t._textAccessor(e);return}i=n?e.toLowerCase():e;t._select(function(e){e=t._text(e);if(n)e=(e+"").toLowerCase();return e===i}).done(function(){t._textAccessor(t.dataItem()||e)})}else return t._textAccessor()},_clearFilter:function(){s(this.filterInput).val("");f.fn._clearFilter.call(this)},value:function(e){var t=this;var i=t.listView;var n=t.dataSource;var r=function(){t.value(e)};if(e===l){e=t._accessor()||t.listView.value()[0];return e===l||e===null?"":e}t.requireValueMapper(t.options,e);if(e||!t.hasOptionLabel())t._initialIndex=null;this.trigger("set",{value:e});if(t._request&&t.options.cascadeFrom&&t.listView.bound()){if(t._valueSetter)n.unbind(b,t._valueSetter);t._valueSetter=r.bind(t);n.one(b,t._valueSetter);return}if(t._isFilterEnabled()&&i.bound()&&i.isFiltered())t._clearFilter();else t._fetchData();i.value(e).done(function(){t._old=t._valueBeforeCascade=t._accessor();t._oldIndex=t.selectedIndex})},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this;var t=e.options;var i=t.optionLabel;var n=t.optionLabelTemplate;if(!i){e.optionLabel.off().remove();e.optionLabel=s();return}if(!n){n="#:";if(typeof i==="string")n+="data";else n+=d.expr(t.dataTextField,"data");n+="#"}if(typeof n!=="function")n=d.template(n);e.optionLabelTemplate=n;if(!e.hasOptionLabel())e.optionLabel=s('<div role="option" class="k-list-optionlabel"></div>').prependTo(e.list);e.optionLabel.html(n(i)).off().on(r,e._click.bind(e)).on(y,e._toggleHover);e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})},_optionLabelText:function(){var e=this.options.optionLabel;return typeof e==="string"?e:this._text(e)},_optionLabelDataItem:function(){var e=this;var t=e.options.optionLabel;if(e.hasOptionLabel())return s.isPlainObject(t)?new p(t):e._assignInstance(e._optionLabelText(),"");return l},_buildOptions:function(e){var t=this;if(!t._isSelect)return;var i=t.listView.value()[0];var n=t._optionLabelDataItem();var r=n&&t._value(n);if(i===l||i===null)i="";if(n){if(r===l||r===null)r="";n='<option value="'+r+'">'+t._text(n)+"</option>"}t._options(e,n,i);if(i!==a.unifyType(t._accessor(),typeof i)){t._customOption=null;t._custom(i)}},_listBound:function(){var e=this;var t=e._initialIndex;var i=e._state===C;var n=e.dataSource.flatView();var r;e._presetValue=false;e._renderFooter();e._renderNoData();e._toggleNoData(!n.length);e._resizePopup(true);e.popup.position();e._buildOptions(n);if(!i){if(e._open)e.toggle(e._allowOpening());e._open=false;if(!e._fetch)if(n.length){if(!e.listView.value().length&&t>-1&&t!==null)e.select(t);e._initialIndex=null;r=e.listView.selectedDataItems()[0];if(r&&e.text()!==e._text(r))e._selectValue(r)}else if(e._textAccessor()!==e._optionLabelText()){e.listView.value("");e._selectValue(null);e._oldIndex=e.selectedIndex}}e._hideBusy();e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||this._old&&this._oldIndex===-1)this._oldIndex=this.selectedIndex},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var e=this;var t=e.wrapper;t.on("focusin"+i,e._focusinHandler.bind(e)).on("focusout"+i,e._focusoutHandler.bind(e));if(e.filterInput)e.filterInput.on("focusin"+i,e._focusinHandler.bind(e)).on("focusout"+i,e._focusoutHandler.bind(e))},_focusHandler:function(){this.wrapper.trigger("focus")},_focusinHandler:function(){this.wrapper.addClass(n);this._prevent=false},_focusoutHandler:function(){var e=this;var t=window.self!==window.top;if(!e._prevent){clearTimeout(e._typingTimeout);if(o.mobileOS.ios&&t)e._change();else e._blur();e.wrapper.removeClass(n);e._prevent=true;e._open=false;e.element.trigger("blur")}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._prevent=false;this._toggle()},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;var a=t.wrapper.add(t.filterInput).off(m);var o=t.wrapper.off(y);if(!r&&!n){i.prop(g,false).prop(v,false);o.removeClass(_).on(y,t._toggleHover);a.attr(x,a.data(x)).attr(k,false).attr(w,false).on("keydown"+m,t,t._keydown.bind(t)).on(d.support.mousedown+m,t._wrapperMousedown.bind(t)).on("paste"+m,t._filterPaste.bind(t));t.wrapper.on("click"+m,t._wrapperClick.bind(t));if(!t.filterInput)a.on("keypress"+m,t._keypress.bind(t));else a.on("input"+m,t._search.bind(t))}else if(n){a.removeAttr(x);o.addClass(_)}else o.removeClass(_);i.attr(g,n).attr(v,r);a.attr(k,n).attr(w,r)},_keydown:function(e){var t=this;var i=e.keyCode;var n=e.altKey;var r;var a;var o=t.popup.visible();if(t.filterInput)r=t.filterInput[0]===c();if(i===h.LEFT){i=h.UP;a=true}else if(i===h.RIGHT){i=h.DOWN;a=true}if(a&&r)return;e.keyCode=i;if(n&&i===h.UP||i===h.ESC)t._focusElement(t.wrapper);if(t._state===C&&i===h.ESC){t._clearFilter();t._open=false;t._state=T}if(i===h.ENTER&&t._typingTimeout&&t.filterInput&&o){e.preventDefault();return}if(i===h.SPACEBAR&&!r){t.toggle(!o);e.preventDefault()}a=t._move(e);if(a)return;if(!o||!t.filterInput){var s=t._focus();if(i===h.HOME){a=true;t._firstItem()}else if(i===h.END){a=true;t._lastItem()}if(a){if(t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()})){t._focus(s);return}t._select(t._focus(),true).done(function(){if(!o)t._blur()});e.preventDefault()}}if(!n&&!a&&t.filterInput)t._search()},_matchText:function(e,t){var i=this.options.ignoreCase;if(e===l||e===null)return false;e=e+"";if(i)e=e.toLowerCase();return e.indexOf(t)===0},_shuffleData:function(e,t){var i=this._optionLabelDataItem();if(i)e=[i].concat(e);return e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var t=this;var e=t.dataSource.flatView();var i=e.length+(t.hasOptionLabel()?1:0);var n=A(t._word,t._last);var r=t.selectedIndex;var a;var o;if(r===-1)r=0;else{r+=n?1:0;r=z(r,i)}e=e.toJSON?e.toJSON():e.slice();e=t._shuffleData(e,r);for(var s=0;s<i;s++){o=t._text(e[s]);if(n&&t._matchText(o,t._last))break;else if(t._matchText(o,t._word))break}if(s!==i){a=t._focus();t._select(z(r+s,i)).done(function(){var e=function(){if(!t.popup.visible())t._change()};if(t.trigger("select",{dataItem:t._getElementDataItem(t._focus()),item:t._focus()}))t._select(a).done(e);else e()})}},_keypress:function(e){var t=this;if(e.which===0||e.keyCode===d.keys.ENTER)return;var i=String.fromCharCode(e.charCode||e.keyCode);if(t.options.ignoreCase)i=i.toLowerCase();if(i===" ")e.preventDefault();t._word+=i;t._last=i;t._search()},_popupOpen:function(){var e=this.popup;e.wrapper=d.wrap(e.element);if(e.element.closest(".km-root")[0]){e.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){f.fn._popup.call(this);this.popup.one("open",this._popupOpen.bind(this))},_getElementDataItem:function(e){if(!e||!e[0])return null;if(e[0]===this.optionLabel[0])return this._optionLabelDataItem();return this.listView.dataItemByIndex(this.listView.getElementIndex(e))},_click:function(e){var t=this;var i=e.item||s(e.currentTarget);e.preventDefault();if(t.trigger("select",{dataItem:t._getElementDataItem(i),item:i})){t.close();return}t._userTriggered=true;t._select(i).done(function(){t._blur();t._focusElement(t.wrapper)})},_focusElement:function(e){var t=c();var i=this.wrapper;var n=this.filterInput;var r=e===n?i:n;var a=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);if(n&&n[0]===e[0]&&a)return;if(n&&(r[0]===t||this._focusFilter)){this._focusFilter=false;this._prevent=true;this._focused=e.trigger("focus")}},_searchByWord:function(t){if(!t)return;var i=this;var e=i.options.ignoreCase;if(e)t=t.toLowerCase();i._select(function(e){return i._matchText(i._text(e),t)})},_inputValue:function(){return this.text()},_search:function(){var t=this;var e=t.dataSource;clearTimeout(t._typingTimeout);if(t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();if(t._prev!==e){t._prev=e;t.search(e);t._resizeFilterInput()}t._typingTimeout=null},t.options.delay);else{t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay);if(!t.listView.bound()){e.fetch().done(function(){t._selectNext()});return}t._selectNext()}},_get:function(e){var t,i,n;var r=typeof e==="function";var a=!r?s(e):s();if(this.hasOptionLabel())if(typeof e==="number"){if(e>-1)e-=1}else if(a.hasClass("k-list-optionlabel"))e=-1;if(r){t=this.dataSource.flatView();for(n=0;n<t.length;n++)if(e(t[n])){e=n;i=true;break}if(!i)e=-1}return e},_firstItem:function(){if(this.hasOptionLabel())this._focus(this.optionLabel);else this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel();this.listView.focusLast()},_nextItem:function(){var e;if(this.optionLabel.hasClass("k-focus")){this._resetOptionLabel();this.listView.focusFirst();e=1}else e=this.listView.focusNext();return e},_prevItem:function(){var e;if(this.optionLabel.hasClass("k-focus"))return;e=this.listView.focusPrev();if(!this.listView.focus()&&!this.options.virtual)this._focus(this.optionLabel);return e},_focusItem:function(){var e=this.options;var t=this.listView;var i=t.focus();var n=t.select();n=n[n.length-1];if(n===l&&e.highlightFirst&&!i)n=0;if(n!==l)t.focus(n);else if(e.optionLabel&&(!e.virtual||e.virtual.mapValueTo!=="dataItem")){this._focus(this.optionLabel);this._select(this.optionLabel);this.listView.content.scrollTop(0)}else t.scrollToIndex(0)},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-focus"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView;var i=this.optionLabel;if(e===l){e=t.focus();if(!e&&i.hasClass("k-focus"))e=i;return e}this._resetOptionLabel();e=this._get(e);t.focus(e);if(e===-1){i.addClass("k-focus").attr("id",t._optionID);if(this.filterInput)this.filterInput.removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID)}},_select:function(e,t){var i=this;e=i._get(e);return i.listView.select(e).done(function(){if(!t&&i._state===C)i._state=T;if(e===-1)i._selectValue(null)})},_selectValue:function(e){var t=this;var i=t.options.optionLabel;var n=t.listView.select();var r="";var a="";n=n[n.length-1];if(n===l)n=-1;this._resetOptionLabel(" k-selected");if(e||e===0){a=e;r=t._dataValue(e);if(i)n+=1}else if(i){t._focus(t.optionLabel.addClass("k-selected"));a=t._optionLabelText();if(typeof i==="string")r="";else r=t._value(i);n=0}t.selectedIndex=n;if(r===null)r="";t._textAccessor(a);t._accessor(r,n);t._triggerCascade()},_mobile:function(){var e=this,t=e.popup,i=o.mobileOS,n=t.element.parents(".km-root").eq(0);if(n.length&&i)t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios||i.wp?"slideIn:up":t.options.animation.open.effects},_filterHeader:function(){var e='<div class="k-list-filter">'+'<span class="k-searchbox k-input k-input-md k-rounded-md k-input-solid" type="text" autocomplete="off">'+'<span class="k-input-icon k-icon k-i-search"></span>'+"</span>"+"</div>";if(this.filterInput){this.filterInput.off(m).closest(".k-list-filter").remove();this.filterInput=null}if(this._isFilterEnabled()){this.filterInput=s('<input class="k-input-inner" type="text" />').attr({placeholder:this.element.attr("placeholder"),title:this.options.filterTitle||this.element.attr("title"),role:"searchbox","aria-label":this.options.filterTitle,"aria-haspopup":"listbox","aria-autocomplete":"list"});this.list.parent().prepend(s(e)).find(".k-searchbox").append(this.filterInput)}},_span:function(){var e=this,t=e.wrapper,i="span.k-input-value-text",n=d.guid(),r=e.options,a,o;a=t.find(i);if(!a[0]){o=u.renderButton('<button type="button" tabindex="-1" unselectable="on" class="k-input-button" aria-label="select"></button>',{icon:"arrow-s",size:r.size,fillMode:r.fillMode,shape:"none",rounded:"none"});t.append('<span id="'+n+'" unselectable="on" class="k-input-inner">'+'<span class="k-input-value-text"></span>'+"</span>").append(o).append(e.element);a=t.find(i)}e.span=a;e._arrow=t.find(".k-input-button");e._arrowIcon=e._arrow.find(".k-icon")},_wrapper:function(){var e=this,t=e.element,i=t[0],n;n=t.parent();if(!n.is("span.k-picker")){n=t.wrap("<span />").parent();n[0].style.cssText=i.style.cssText;n[0].title=i.title}e._focused=e.wrapper=n.addClass("k-picker k-dropdownlist").addClass(i.className).removeClass("input-validation-error").css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"combobox","aria-expanded":false});t.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_openHandler:function(e){this._adjustListWidth();if(this.trigger(D))e.preventDefault();else{this.wrapper.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(e){if(this.trigger(F))e.preventDefault();else{this.wrapper.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_inputTemplate:function(){var e=this,t=e.options.valueTemplate;if(!t)t=d.template("#:this._text(data)#",{useWithBlock:false}).bind(e);else t=d.template(t);e.valueTemplate=t;if(e.hasOptionLabel()&&!e.options.optionLabelTemplate)try{e.valueTemplate(e._optionLabelDataItem())}catch(e){throw new Error(S)}},_textAccessor:function(e){var t=null;var i=this.valueTemplate;var n=this._optionLabelText();var r=this.span;if(e===l)return r.text();if(s.isPlainObject(e)||e instanceof p)t=e;else if(n&&n===e)t=this.options.optionLabel;if(!t)t=this._assignInstance(e,this._accessor());if(this.hasOptionLabel())if(t===n||this._text(t)===n){i=this.optionLabelTemplate;if(typeof this.options.optionLabel==="string"&&!this.options.optionLabelTemplate)t=n}var a=function(){return{elements:r.get(),data:[{dataItem:t}]}};this.angular("cleanup",a);try{r.html(i(t))}catch(e){r.html("")}this.angular("compile",a)},_preselect:function(e,t){if(!e&&!t)t=this._optionLabelText();this._accessor(e);this._textAccessor(t);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(e);this._initialIndex=null;this._presetValue=true},_assignInstance:function(e,t){var i=this.options.dataTextField;var n={};if(i){E(n,i.split("."),e);E(n,this.options.dataValueField.split("."),t);n=new p(n)}else n=e;return n}});function E(e,t,i){var n=0,r=t.length-1,a;for(;n<r;++n){a=t[n];if(!(a in e))e[a]={};e=e[a]}e[t[r]]=i}function z(e,t){if(e>=t)e-=t;return e}function A(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return false;return true}return t.plugin(I),d.cssProperties.registerPrefix("DropDownList","k-picker-"),d.cssProperties.registerValues("DropDownList",[{prop:"rounded",values:d.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.resizable.min",["kendo.core.min","kendo.draganddrop.min"],function(){var e={id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:true},r=window.kendo.jQuery,o=void 0,t=window.kendo,n=t.ui,a=n.Widget,s=t.isFunction,l=r.extend,d="horizontal",u="vertical",f="start",c="resize",i="resizeend",p=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i.orientation=i.options.orientation.toLowerCase()!=u?d:u;i._positionMouse=i.orientation==d?"x":"y";i._position=i.orientation==d?"left":"top";i._sizingDom=i.orientation==d?"outerWidth":"outerHeight";i.draggable=new n.Draggable(t.draggableElement||e,{distance:1,filter:t.handle,drag:i._resize.bind(i),dragcancel:i._cancel.bind(i),dragstart:i._start.bind(i),dragend:i._stop.bind(i)});i.userEvents=i.draggable.userEvents},events:[c,i,f],options:{name:"Resizable",orientation:d},resize:function(){},_max:function(e){var t=this,i=t.hint?t.hint[t._sizingDom]():0,n=t.options.max;return s(n)?n(e):n!==o?t._initialElementPosition+n-i:n},_min:function(e){var t=this,i=t.options.min;return s(i)?i(e):i!==o?t._initialElementPosition+i:i},_start:function(e){var t=this,i=t.options.hint,n=r(e.currentTarget);t._initialElementPosition=n.position()[t._position];t._initialMousePosition=e[t._positionMouse].startLocation;if(i){t.hint=s(i)?r(i(n)):i;t.hint.css({position:"absolute"}).css(t._position,t._initialElementPosition).appendTo(t.element)}t.trigger(f,e);t._maxPosition=t._max(e);t._minPosition=t._min(e);r(document.body).css("cursor",n.css("cursor"))},_resize:function(e){var t=this,i=t._maxPosition,n=t._minPosition,r=t._initialElementPosition+(e[t._positionMouse].location-t._initialMousePosition),a;a=n!==o?Math.max(n,r):r;t.position=a=i!==o?Math.min(i,a):a;if(t.hint)t.hint.toggleClass(t.options.invalidClass||"",a==i||a==n).css(t._position,a);t.resizing=true;t.trigger(c,l(e,{position:a}))},_stop:function(e){var t=this;if(t.hint)t.hint.remove();t.resizing=false;t.trigger(i,l(e,{position:t.position}));r(document.body).css("cursor","")},_cancel:function(e){var t=this;if(t.hint){t.position=o;t.hint.css(t._position,t._initialElementPosition);t._stop(e)}},destroy:function(){var e=this;a.fn.destroy.call(e);if(e.draggable)e.draggable.destroy()},press:function(e){if(!e)return;var t=e.position(),i=this;i.userEvents.press(t.left,t.top,e[0]);i.targetPosition=t;i.target=e},move:function(e){var t=this,i=t._position,n=t.targetPosition,r=t.position;if(r===o)r=n[i];n[i]=r+e;t.userEvents.move(n.left,n.top)},end:function(){this.userEvents.end();this.target=this.position=o}});return t.ui.plugin(p),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.window.min",["kendo.draganddrop.min","kendo.popup.min"],function(){var e={id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop","popup"],features:[{id:"window-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},w=window.kendo.jQuery,m=void 0,y=window.kendo,g=y.ui.Widget,B=y.ui.Popup.TabKeyTrap,n=y.ui.Draggable,v=w.isPlainObject,r=y._activeElement,o=y._outerWidth,t=y._outerHeight,l=w.extend,a=w.each,s=y.template,f="body",c,b=".kendoWindow",u=".kendoWindowModal",_=".k-window",k=".k-window-title",x=k+"bar",C=".k-window-content",V=".k-dialog-content",p=".k-resize-handle",h=".k-overlay",T="k-content-frame",U="k-i-loading",W="k-hover",j="k-state-focused",q="k-window-maximized",S="k-display-inline-flex",D=":visible",F="hidden",I="cursor",E="open",z="activate",G="deactivate",$="close",d="refresh",Y,K,Q="resizeStart",X,J="resizeEnd",Z="dragstart",ee="dragend",te="restore",ie,ne="error",A="overflow",i="original-overflow-rule",R="zIndex",re=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",ae=".k-i-pin",oe=".k-i-unpin",se=ae+","+oe,N=".k-window-titlebar .k-window-action",le=".k-window-titlebar .k-i-refresh",de="WindowEventsHandled",ue=/^0[a-z]*$/i,fe=y.isLocalUrl,P={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function H(e){return typeof e!="undefined"}function M(e,t){return parseInt(e.css(t),10)||0}function O(e,t,i){var n;if(e&&isNaN(e)&&e.toString().indexOf("px")<0)n=e;else n=Math.max(Math.min(parseInt(e,10),i===Infinity?i:parseInt(i,10)),t===-Infinity?t:parseInt(t,10));return n}function ce(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function L(e){var t={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;while(i){t.top+=i.offsetTop;t.left+=i.offsetLeft;var n=w(i).css("overflowX");var r=w(i).css("overflowY");if(r==="auto"||r==="scroll")t.top-=i.scrollTop;if(n==="auto"||n==="scroll")t.left-=i.scrollLeft;i=i.offsetParent}return t}var pe=g.extend({init:function(e,t){var i=this,n,r={},a,o,s,l=false,d,u,f,c,p=t&&t.actions&&!t.actions.length,h;g.fn.init.call(i,e,t);t=i.options;s=t.position;e=i.element;d=t.content;c=w(window);if(p)t.actions=[];i.appendTo=w(t.appendTo);i.containment=t.draggable.containment?w(t.draggable.containment).first():null;if(d&&!v(d))d=t.content={url:d};e.find("script").filter(ce).remove();if(!e.parent().is(i.appendTo)&&!i.containment&&(s.top===m||s.left===m)){if(e.is(D)){r=e.offset();l=true}else{a=e.css("visibility");o=e.css("display");e.css({visibility:F,display:""});if(document.body.contains(e[0]))r=e.offset();else r={top:0,left:0};e.css({visibility:a,display:o})}if(s.top===m)s.top=r.top;if(s.left===m)s.left=r.left}if(!H(t.visible)||t.visible===null)t.visible=e.is(D);n=i.wrapper=e.closest(_);if(!e.is(".k-window-content")||!n[0]){e.addClass("k-window-content");e.attr("tabindex",0);i._createWindow(e,t);n=i.wrapper=e.closest(_);i.title(i.options.title);i._dimensions()}i.minTop=i.minLeft=-Infinity;i.maxTop=i.maxLeft=Infinity;i._position();if(d)i.refresh(d);if(t.visible)i.toFront(null,!t.modal);u=n.children(C);if(t.visible&&t.modal)i._overlay(n.is(D)).css({opacity:.5});n.on("mouseenter"+b,N,i._buttonEnter.bind(i)).on("mouseleave"+b,N,i._buttonLeave.bind(i)).on("click"+b,"> "+N,i._windowActionHandler.bind(i)).on("keydown"+b,i,i._keydown.bind(i)).on("focus"+b,i._focus.bind(i)).on("blur"+b,i._blur.bind(i));u.on("keydown"+b,i,i._keydownContent.bind(i));f=u.find("."+T)[0];if(f&&!c.data(de)){c.on("blur"+b,function(){var e=w(document.activeElement).parent(C);if(e.length){var t=y.widgetInstance(e);t._focus()}});c.on("focus"+b,function(){w(C).not(V).each(function(e,t){y.widgetInstance(w(t))._blur()})});c.data(de,true)}this._resizable();this._draggable();if(t.pinned&&this.wrapper.is(":visible"))i.pin();h=e.attr("id");if(h){h=h+"_wnd_title";n.attr({role:"dialog","aria-labelledby":h}).children(x).children(k).attr("id",h)}n.add(n.children(".k-resize-handle,"+x)).on(y.support.mousedown+b,i.toFront.bind(i));i.touchScroller=y.touchScroller(e);i._resizeHandler=i._onDocumentResize.bind(i);i._marker=y.guid().substring(0,8);w(window).on("resize"+b+i._marker,i._resizeHandler);if(t.visible){i.trigger(E);i.trigger(z)}y.notify(i);if(this.options.modal){this._tabKeyTrap=new B(n);this._tabKeyTrap.trap();this._tabKeyTrap.shouldTrap=function(){return n.data("isFront")}}},_buttonEnter:function(e){w(e.currentTarget).addClass(W)},_buttonLeave:function(e){w(e.currentTarget).removeClass(W)},_focus:function(){this.wrapper.addClass(j)},_blur:function(){this.wrapper.removeClass(j)},_dimensions:function(){var e=this.wrapper;var t=this.options;var i=t.width;var n=t.height;var r=t.maxHeight;var a=t.size;var o=["minWidth","minHeight","maxWidth","maxHeight"];var s=e.css("box-sizing")=="content-box";var l=s?M(e,"border-left-width")+M(e,"border-right-width"):0;var d=s?M(e,"border-top-width")+M(e,"border-bottom-width"):0;var u=s?M(e,"padding-top"):0;if(this.containment&&!this._isPinned){this._updateBoundaries();t.maxHeight=Math.min(this.containment.height-(d+u),r);t.maxWidth=Math.min(this.containment.width-l,t.maxWidth)}for(var f=0;f<o.length;f++){var c=t[o[f]]||"";if(c!=Infinity)e.css(o[f],c)}if(r!=Infinity)this.element.css("maxHeight",r);if(i)e.outerWidth(O(i,t.minWidth,t.maxWidth));else e.outerWidth("");if(n)e.outerHeight(O(n,t.minHeight,t.maxHeight));else e.outerHeight("");if(!t.visible)e.removeClass(S).hide();if(a&&P[a])e.addClass(P[a])},_position:function(){var e=this.wrapper,t=this.options.position,i,n;this._updateBoundaries();if(this.containment){t.top=t.top||0;t.left=t.left||0;i=t.top.toString().indexOf("%")>0?parseInt(this.containment.height*(parseFloat(t.top)/100),10):t.top;n=t.left.toString().indexOf("%")>0?parseInt(this.containment.width*(parseFloat(t.left)/100),10):t.left;t.top=O(i,this.minTop,this.maxTop);t.left=O(n,this.minLeft,this.maxLeft)}if(t.top&&t.top.toString().indexOf("px")>0)t.top=Number(t.top.replace("px",""));if(t.left&&t.left.toString().indexOf("px")>0)t.left=Number(t.left.replace("px",""));if(t.top===0)t.top=t.top.toString();if(t.left===0)t.left=t.left.toString();e.css({top:t.top||"",left:t.left||""})},_updateBoundaries:function(){var e=this.containment;if(!e)return null;e.width=e.innerWidth();e.height=e.innerHeight();if(parseInt(e.width,10)>e[0].clientWidth)e.width-=y.support.scrollbar();if(parseInt(e.height,10)>e[0].clientHeight)e.height-=y.support.scrollbar();e.position=L(e[0]);if(this._isPinned){this.minTop=this.minLeft=-Infinity;this.maxTop=this.maxLeft=Infinity}else{this.minTop=e.scrollTop();this.minLeft=e.scrollLeft();this.maxLeft=this.minLeft+e.width-o(this.wrapper,true);this.maxTop=this.minTop+e.height-t(this.wrapper,true)}},_animationOptions:function(e){var t=this.options.animation;var i={open:{effects:{}},close:{hide:true,effects:{}}};return t&&t[e]||i[e]},_resize:function(){y.resize(this.element.children())},_resizable:function(){var e=this.options.resizable;var i=this.wrapper;if(this.resizing){i.off("dblclick"+b).children(p).remove();this.resizing.destroy();this.resizing=null}if(e){i.on("dblclick"+b,x,function(e){if(!w(e.target).closest(".k-window-action").length)this.toggleMaximization()}.bind(this));a("n e s w se sw ne nw".split(" "),function(e,t){i.append(c.resizeHandle(t))});this.resizing=new he(this)}i=null},_draggable:function(){var e=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(e)this.dragging=new me(this,e.dragHandle||x)},_actions:function(){var e=this.options;var t=e.actions;var i=e.pinned;var n=this.wrapper.children(x);var r=n.find(".k-window-actions");var a=["maximize","minimize"];t=w.map(t,function(e){e=i&&e.toLowerCase()==="pin"?"unpin":e;return{name:a.indexOf(e.toLowerCase())>-1?"window-"+e:e}});r.html(y.render(c.action,t))},setOptions:function(e){var t=this;var i=t.options.size;var n=this.containment&&!t._isPinned?this.containment:w(document);var r=JSON.parse(JSON.stringify(e));l(e.position,t.options.position);l(e.position,r.position);t._containerScrollTop=n.scrollTop();t._containerScrollLeft=n.scrollLeft();g.fn.setOptions.call(t,e);var a=t.options.scrollable!==false;t.restore();if(typeof e.title!=="undefined")t.title(e.title);t.wrapper.removeClass(P[i]);t._dimensions();t._position();t._resizable();t._draggable();t._actions();if(typeof e.modal!=="undefined"){var o=t.options.visible!==false;t._enableDocumentScrolling();t._overlay(e.modal&&o)}t.element.css(A,a?"":"hidden")},events:[E,z,G,$,"minimize","maximize",d,te,Q,"resize",J,Z,ee,"kendoKeydown",ne],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,size:"auto",resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,scrollable:true,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:false,isMinimized:false},_closable:function(){return w.inArray("close",w.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydownContent:function(e){var t=this,i=y.keys,n=e.keyCode;if(n==i.ESC&&t._closable()){e.stopPropagation();t._close(false)}},_keydown:function(e){var t=this,i=t.options,n=y.keys,r=e.keyCode,a=t.wrapper,o,s,l=10,d=i.isMaximized,u=i.isMinimized,f,c,p,h;if(r==n.ESC&&t._closable()){e.stopPropagation();t._close(false)}if(e.target!=e.currentTarget||t._closing)return;if(e.altKey&&r==82)t.refresh();if(e.altKey&&r==80)if(t.options.pinned)t.unpin();else t.pin();if(e.altKey&&r==n.UP){if(u){t.restore();t.wrapper.trigger("focus")}else if(!d){t.maximize();t.wrapper.trigger("focus")}}else if(e.altKey&&r==n.DOWN)if(!u&&!d){t.minimize();t.wrapper.trigger("focus")}else if(d){t.restore();t.wrapper.trigger("focus")}o=y.getOffset(a);if(t.containment&&!t._isPinned)o=t.options.position;if(i.draggable&&!e.ctrlKey&&!e.altKey&&!d){t._updateBoundaries();if(r==n.UP){o.top=O(o.top-l,t.minTop,t.maxTop);s=a.css("top",o.top)}else if(r==n.DOWN){o.top=O(o.top+l,t.minTop,t.maxTop);s=a.css("top",o.top)}else if(r==n.LEFT){o.left=O(o.left-l,t.minLeft,t.maxLeft);s=a.css("left",o.left)}else if(r==n.RIGHT){o.left=O(o.left+l,t.minLeft,t.maxLeft);s=a.css("left",o.left)}}if(i.resizable&&e.ctrlKey&&!d&&!u){if(r==n.UP){s=true;c=a.outerHeight()-l}else if(r==n.DOWN){s=true;if(t.containment&&!t._isPinned)c=Math.min(a.outerHeight()+l,t.containment.height-o.top-M(a,"padding-top")-M(a,"borderBottomWidth")-M(a,"borderTopWidth"));else c=a.outerHeight()+l}if(r==n.LEFT){s=true;f=a.outerWidth()-l}else if(r==n.RIGHT){s=true;if(t.containment&&!t._isPinned)f=Math.min(a.outerWidth()+l,t.containment.width-o.left-M(a,"borderLeftWidth")-M(a,"borderRightWidth"));else f=a.outerWidth()+l}if(s){p=O(f,i.minWidth,i.maxWidth);h=O(c,i.minHeight,i.maxHeight);if(!isNaN(p)){a.outerWidth(p);t.options.width=p+"px"}if(!isNaN(h)){a.outerHeight(h);t.options.height=h+"px"}t.resize()}}if(s)e.preventDefault()},_overlay:function(e){var t=this.containment?this.containment.children(h):this.appendTo.children(h),i=this.wrapper,n=e?"block":"none",r=parseInt(i.css(R),10)-1;if(!t.length)t=w("<div class='k-overlay' />");t.insertBefore(i[0]).css({zIndex:r,display:n});if(this.options.modal.preventScroll&&!this.containment)this._stopDocumentScrolling();return t},_actionForIcon:function(e){var t=/\bk-i(-\w+)+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(e){if(this._closing)return;var t=w(e.target).closest(".k-window-action").find(".k-icon");var i=this._actionForIcon(t);if(i){e.preventDefault();this[i]();return false}},_modals:function(){var e=this,t=w(_+D),i,n=[];for(var r=0;r<t.length;r+=1){i=e._object(w(t[r]));if(i&&i.options&&i.options.modal&&i.options.visible&&i.options.appendTo===e.options.appendTo&&(!i.containment||e.containment&&i.containment[0]===e.containment[0]))n.push(i.wrapper[0])}n.sort(function(e,t){return e.style.zIndex-t.style.zIndex});e=null;return w(n)},_object:function(e){var t=e.children(C);var i=y.widgetInstance(t);if(i)return i;return m},center:function(){var e=this,t=e.options.position,i=e.wrapper,n=w(window),r=0,a=0,o,s;if(e.options.isMaximized)return e;if(e.options.pinned&&!e._isPinned)e.pin();if(!e.options.pinned){r=n.scrollTop();a=n.scrollLeft()}if(this.containment&&!e.options.pinned){o=this.minTop+(this.maxTop-this.minTop)/2;s=this.minLeft+(this.maxLeft-this.minLeft)/2}else{e._scrollIsAppended=true;s=a+Math.max(0,(n.width()-i.outerWidth())/2);o=r+Math.max(0,(n.height()-i.outerHeight()-M(i,"paddingTop"))/2)}i.css({left:s,top:o});t.top=o;t.left=s;return e},title:function(e){var t=this,i,n=true,r=t.wrapper,a=r.children(x),o=a.children(k);if(!arguments.length)return o.html();if(w.isPlainObject(e)){i=typeof e.text!=="undefined"?e.text:"";n=e.encoded!==false}else i=e;if(i===false){r.addClass("k-window-titleless");r.css("padding-top",0);a.remove()}else if(!a.length){r.prepend(c.titlebar({title:n?y.htmlEncode(i):i}));t._actions();a=r.children(x)}else o.html(n?y.htmlEncode(i):i);t.options.title=i;return t},content:function(e,i){var n=this.wrapper.children(C),t=n.children(".km-scroll-container");n=t[0]?t:n;if(!H(e))return n.html();this.angular("cleanup",function(){return{elements:n.children()}});y.destroy(this.element.children());n.empty().html(e);this.angular("compile",function(){var e=[];for(var t=n.length;--t>=0;)e.push({dataItem:i});return{elements:n.children(),data:e}});return this},open:function(){var e=this,t=e.wrapper,i=e.options,n=this._animationOptions("open"),r=t.children(C),a,o,s=this.containment&&!e._isPinned,l=s?this.containment:w(document);if(!e.trigger(E)){if(e._closing)t.kendoStop(true,true);e._closing=false;e.toFront();if(i.autoFocus)e.wrapper.trigger("focus");i.visible=true;if(i.modal){o=!!e._modals().length;a=e._overlay(o);a.kendoStop(true,true);if(n.duration&&y.effects.Fade&&!o){var d=y.fx(a).fadeIn();d.duration(n.duration||0);d.endValue(.5);d.play()}else a.css("opacity",.5);a.show();w(window).on("focus"+u,function(){if(t.data("isFront")&&!w(document.activeElement).closest(t).length)e.wrapper.trigger("focus")})}if(!t.is(D)){r.css(A,F);e.wrapper.find(N).addClass("k-button-flat");t.addClass(S).kendoStop().kendoAnimate({effects:n.effects,duration:n.duration,complete:this._activate.bind(this)})}}if(i.isMaximized){e._containerScrollTop=l.scrollTop();e._containerScrollLeft=l.scrollLeft();e._stopDocumentScrolling()}if(this.options.pinned&&!this._isPinned)this.pin();return e},_activate:function(){var e=this.options.scrollable!==false;if(this.options.autoFocus)this.wrapper.trigger("focus");this.element.css(A,e?"":"hidden");y.resize(this.element.children());this.trigger(z)},_removeOverlay:function(e){var t=this._modals();var i=this.options;var n=i.modal&&!t.length;var r=this._animationOptions("close");if(n){if(!e&&r.duration&&y.effects.Fade){var a=y.fx(i.modal?this._overlay(true):w(m)).fadeOut();a.duration(r.duration||0);a.startValue(.5);a.play()}else this._overlay(false).remove();if(i.modal.preventScroll)this._enableDocumentScrolling()}else if(t.length){this._object(t.last())._overlay(true);if(i.modal.preventScroll)this._stopDocumentScrolling()}},_close:function(e){var t=this,n=t.wrapper,i=t.options,r=this._animationOptions("open"),a=this._animationOptions("close"),o=this.containment&&!t._isPinned,s=o?this.containment:w(document),l;if(t._closing)return;l=t.trigger($,{userTriggered:!e});t._closing=!l;if(n.is(D)&&!l){i.visible=false;w(_).each(function(e,t){var i=w(t).children(C);if(t!=n&&i.find("> ."+T).length>0)i.children(h).remove()});this._removeOverlay();t.wrapper.find(N).removeClass("k-button-flat");n.kendoStop().kendoAnimate({effects:a.effects||r.effects,reverse:a.reverse===true,duration:a.duration,complete:this._deactivate.bind(this)});w(window).off(u)}if(t.options.isMaximized){t._enableDocumentScrolling();if(t._containerScrollTop&&t._containerScrollTop>0)s.scrollTop(t._containerScrollTop);if(t._containerScrollLeft&&t._containerScrollLeft>0)s.scrollLeft(t._containerScrollLeft)}if(t.options.iframe)t.wrapper.trigger("blur")},_deactivate:function(){var e=this;e.wrapper.removeClass(S).hide().css("opacity","");e.trigger(G);if(e.options.modal){var t=e._object(e._modals().last());if(t)t.toFront()}},close:function(){this._close(true);return this},_actionable:function(e){return w(e).is(N+","+N+" .k-icon, :input, a, .k-input, .k-icon, [role='gridcell'], .k-input-value-text")},_shouldFocus:function(e){var t=r(),i=this.wrapper;return this.options.autoFocus&&!w(t).is(i)&&!this._actionable(e)&&(!i.find(t).length||!i.find(e).length)},toFront:function(e,t){var i=this,a=i.wrapper,o=a[0],n=i.containment&&!i._isPinned,r=this._animationOptions("open"),s=+a.css(R),l=s,d=e&&e.target||null;w(_).each(function(e,t){var i=w(t),n=i.css(R),r=i.children(C);if(!isNaN(n))s=Math.max(+n,s);a.data("isFront",t==o);if(t!=o&&r.find("."+T).length&&!r.find(h).length)r.append(c.overlay)});if(!a[0].style.zIndex||l<s)a.css(R,s+2);i.element.find("> .k-overlay").remove();if(i._shouldFocus(d)){if(!t)setTimeout(function(){i.wrapper.focus()},r?r.duration:0);var u=n?i.containment.scrollTop():w(window).scrollTop(),f=parseInt(a.position().top,10);if(!i.options.pinned&&f>0&&f<u)if(u>0)w(window).scrollTop(f);else a.css("top",u)}a=null;return i},toggleMaximization:function(){if(this._closing)return this;return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this;var t=e.options;var i=t.minHeight;var n=e.restoreOptions;var r;var a=e.containment&&!e._isPinned?e.containment:w(document);if(!t.isMaximized&&!t.isMinimized)return e;if(i&&i!=Infinity)e.wrapper.css("min-height",i);if(n&&!t.isMaximized){n.height=O(n.height,e.options.minHeight,e.options.maxHeight);r=t.position.top+parseInt(n.height,10)>e.maxTop;if(r){t.position.top=O(t.position.top,e.minTop,e.maxTop-parseInt(n.height,10));l(n,{left:t.position.left,top:t.position.top})}}e.wrapper.css({position:t.pinned?"fixed":"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).removeClass(q).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(re).parent().show().end().end().find(se).parent().show();if(t.isMaximized)e.wrapper.find(".k-i-window-maximize").parent().trigger("focus");else if(t.isMinimized)e.wrapper.find(".k-i-window-minimize").parent().trigger("focus");e.options.width=n.width;e.options.height=n.height;if(!e.options.modal.preventScroll)e._enableDocumentScrolling();if(e._containerScrollTop&&e._containerScrollTop>0)a.scrollTop(e._containerScrollTop);if(e._containerScrollLeft&&e._containerScrollLeft>0)a.scrollLeft(e._containerScrollLeft);t.isMaximized=t.isMinimized=false;e.wrapper.removeAttr("aria-labelled-by");e.resize();e.trigger(te);return e},_sizingAction:function(e,t){var i=this,n=i.wrapper,r=n[0].style,a=i.options;if(a.isMaximized||a.isMinimized)return i;i.restoreOptions={width:r.width,height:r.height};n.children(p).hide().end().children(x).find(re).parent().hide().eq(0).before(c.action({name:"window-restore"}));t.call(i);i.wrapper.children(x).find(se).parent().toggle(e!=="maximize");i.trigger(e);n.find(".k-i-window-restore").parent().trigger("focus");return i},maximize:function(){this._sizingAction("maximize",function(){var e=this,t=e.wrapper,i=this.containment&&!e._isPinned,n=t.position(),r=w(document);l(e.restoreOptions,{left:n.left+(i?this.containment.scrollLeft():0),top:n.top+(i?this.containment.scrollTop():0)});this._containerScrollTop=i?this.containment.scrollTop():r.scrollTop();this._containerScrollLeft=i?this.containment.scrollLeft():r.scrollLeft();e._stopDocumentScrolling();t.css({top:i?this.containment.scrollTop():0,left:i?this.containment.scrollLeft():0,position:i?"absolute":"fixed"}).addClass(q);e.options.isMaximized=true;e._onDocumentResize()});return this},_stopDocumentScrolling:function(){var e=this;var t=e.containment;if(t&&!e._isPinned){e._storeOverflowRule(t);t.css(A,F);e.wrapper.css({maxWidth:t.innerWidth(),maxHeight:t.innerHeight()});return}var i=w("body");e._storeOverflowRule(i);i.css(A,F);var n=w("html");e._storeOverflowRule(n);n.css(A,F)},_enableDocumentScrolling:function(){var e=this;var t=e.containment;if(t&&!e._isPinned){e._restoreOverflowRule(t);e.wrapper.css({maxWidth:t.width,maxHeight:t.height});return}e._restoreOverflowRule(w(document.body));e._restoreOverflowRule(w("html"))},_storeOverflowRule:function(e){if(this._isOverflowStored(e))return;var t=e.get(0).style.overflow;if(typeof t==="string")e.data(i,t)},_isOverflowStored:function(e){return typeof e.data(i)==="string"},_restoreOverflowRule:function(e){var t=e.data(i);if(t!==null&&t!==m){e.css(A,t);e.removeData(i)}else e.css(A,"")},isMaximized:function(){return this.options.isMaximized},minimize:function(){this._sizingAction("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""});e.element.hide();e.options.isMinimized=true});this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by"));this._updateBoundaries();return this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=this,t=w(window),i=e.wrapper,n=e.options,r=n.position,a=this.containment?L(i[0]).top+M(this.containment,"borderTopWidth"):M(i,"top"),o=this.containment?L(i[0]).left+M(this.containment,"borderLeftWidth"):M(i,"left");if(!e.options.isMaximized){r.top=a;r.left=o;if(e._scrollIsAppended&&(!this.containment||this.containment.css("position")!=="fixed")){r.top-=t.scrollTop();r.left-=t.scrollLeft();e._scrollIsAppended=false}i.css(l(r,{position:"fixed"}));i.children(x).find(ae).addClass("k-i-unpin").removeClass("k-i-pin");e._isPinned=true;e.options.pinned=true;if(this.containment){n.maxWidth=n.maxHeight=Infinity;i.css({maxWidth:"",maxHeight:""})}}},unpin:function(){var e=this,t=w(window),i=e.wrapper,n=e.options,r=e.options.position,a=e.containment,o=parseInt(i.css("top"),10)+t.scrollTop(),s=parseInt(i.css("left"),10)+t.scrollLeft();if(!e.options.isMaximized){e._isPinned=false;e._scrollIsAppended=true;e.options.pinned=false;if(a){e._updateBoundaries();n.maxWidth=Math.min(a.width,n.maxWidth);n.maxHeight=Math.min(a.height-M(i,"padding-top"),n.maxHeight);i.css({maxWidth:n.maxWidth,maxHeight:n.maxHeight});if(o<a.position.top)o=e.minTop;else if(o>a.position.top+a.height)o=e.maxTop;else o=o+a.scrollTop()-(a.position.top+M(a,"border-top-width"));if(s<a.position.left)s=e.minLeft;else if(s>a.position.left+a.width)s=e.maxLeft;else s=s+a.scrollLeft()-(a.position.left+M(a,"border-left-width"))}r.top=O(o,e.minTop,e.maxTop);r.left=O(s,e.minLeft,e.maxLeft);i.css(l(r,{position:""}));i.children(x).find(oe).addClass("k-i-pin").removeClass("k-i-unpin")}},_onDocumentResize:function(){var e=this,t=e.wrapper,i=w(window),n=y.support.zoomLevel(),r=t.css("box-sizing")=="content-box",a,o;if(!e.options.isMaximized)return;var s=r?M(t,"border-left-width")+M(t,"border-right-width"):0;var l=r?M(t,"border-top-width")+M(t,"border-bottom-width"):0;var d=r?M(t,"padding-top"):0;if(e.containment&&!e._isPinned){a=e.containment.innerWidth()-s;o=e.containment.innerHeight()-(l+d)}else{a=i.width()/n-s;o=i.height()/n-(l+d)}t.css({width:a,height:o});e.options.width=a;e.options.height=o;e.resize()},refresh:function(e){var t=this,i=t.options,n=w(t.element),r,a,o;if(!v(e))e={url:e};e=l(i.content,e);a=H(i.iframe)?i.iframe:e.iframe;o=e.url;if(o){if(!H(a))a=!fe(o);if(!a)t._ajaxRequest(e);else{r=n.find("."+T)[0];if(r)r.src=o||r.src;else n.html(c.contentFrame(l({},i,{content:e})));n.find("."+T).off("load"+b).on("load"+b,this._triggerRefresh.bind(this))}}else{if(e.template)t.content(s(e.template)({}));t.trigger(d)}n.toggleClass("k-window-iframecontent",!!a);return t},_triggerRefresh:function(){this.trigger(d)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(le).removeClass(U)},_ajaxError:function(e,t){this.trigger(ne,{status:t,xhr:e})},_ajaxSuccess:function(i){return function(e){var t=e;if(i)t=s(i)(e||{});this.content(t,e);this.element.prop("scrollTop",0);this.trigger(d)}},_showLoading:function(){this.wrapper.find(le).addClass(U)},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(this._showLoading.bind(this),100);w.ajax(l({type:"GET",dataType:"html",cache:false,error:this._ajaxError.bind(this),complete:this._ajaxComplete.bind(this),success:this._ajaxSuccess(e.template).bind(this)},e))},_destroy:function(){if(this.resizing)this.resizing.destroy();if(this.dragging)this.dragging.destroy();this.wrapper.off(b).children(C).off(b).end().find(".k-resize-handle,.k-window-titlebar").off(b);w(window).off("resize"+b+this._marker);w(window).off(u);w(window).off(b);clearTimeout(this._loadingIconTimeout);g.fn.destroy.call(this);this.unbind(m);y.destroy(this.wrapper)},destroy:function(){this._destroy();if(this.options.modal)this._removeOverlay(true);this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=w()},_createWindow:function(){var e=this.element,t=this.options,i,n,r=y.support.isRtl(e);if(t.scrollable===false)e.css("overflow","hidden");n=w(c.wrapper(t));i=e.find("iframe:not(.k-content-frame)").map(function(){var e=this.getAttribute("src");this.src="";return e});n.toggleClass("k-rtl",r).attr("tabindex",0).append(e).find("iframe:not(.k-content-frame)").each(function(e){this.src=i[e]});if(this.containment)this.containment.prepend(n);else if(this.appendTo)n.appendTo(this.appendTo);n.find(".k-window-title").css(r?"left":"right",o(n.find(".k-window-actions"))+10);e.css("visibility","").show();e.find("[data-role=editor]").each(function(){var e=w(this).data("kendoEditor");if(e)e.refresh()});n=e=null}});function he(e){var t=this;t.owner=e;t._preventDragging=false;t._draggable=new n(e.wrapper,{filter:">"+p,group:e.wrapper.id+"-resizing",dragstart:t.dragstart.bind(t),drag:t.drag.bind(t),dragend:t.dragend.bind(t)});t._draggable.userEvents.bind("press",t.addOverlay.bind(t));t._draggable.userEvents.bind("release",t.removeOverlay.bind(t))}function me(e,t){var i=this;i.owner=e;i._preventDragging=false;i._draggable=new n(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:i.dragstart.bind(i),drag:i.drag.bind(i),dragend:i.dragend.bind(i),dragcancel:i.dragcancel.bind(i)});i._draggable.userEvents.stopPropagation=false}return c={wrapper:s("<div class='k-widget k-window'></div>"),action:s("<a role='button' href='\\#' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-window-action' aria-label='#= name #'>"+"<span class='k-button-icon k-icon k-i-#= name.toLowerCase() #'></span>"+"</a>"),titlebar:s("<div class='k-window-titlebar k-hstack'>"+"<span class='k-window-title'>#= title #</span>"+"<div class='k-window-actions k-hstack'></div>"+"</div>"),overlay:"<div class='k-overlay'></div>",contentFrame:s("<iframe frameborder='0' title='#= title #' class='"+T+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:s("<div aria-hidden='true' class='k-resize-handle k-resize-#= data #'></div>")},he.prototype={addOverlay:function(){this.owner.wrapper.append(c.overlay)},removeOverlay:function(){this.owner.wrapper.find(h).remove()},dragstart:function(e){var t=this;var i=t.owner;var n=i.wrapper;t._preventDragging=i.trigger(Q);if(t._preventDragging)return;t.elementPadding=parseInt(n.css("padding-top"),10);t.initialPosition=y.getOffset(n,"position");t.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-","");t.initialSize={width:n.outerWidth(),height:n.outerHeight()};i._updateBoundaries();t.containerOffset=i.containment?i.containment.position:y.getOffset(i.appendTo);var r=n.offsetParent();if(r.is("html"))t.containerOffset.top=t.containerOffset.left=0;else{var a=r.css("margin-top");var o=r.css("margin-left");var s=!ue.test(a)||!ue.test(o);if(s){var l=L(n[0]);var d=l.left-t.containerOffset.left-t.initialPosition.left;var u=l.top-t.containerOffset.top-t.initialPosition.top;t._relativeElMarginLeft=d>1?d:0;t._relativeElMarginTop=u>1?u:0;t.initialPosition.left+=t._relativeElMarginLeft;t.initialPosition.top+=t._relativeElMarginTop}}n.children(p).not(e.currentTarget).hide();w(f).css(I,e.currentTarget.css(I))},drag:function(e){if(this._preventDragging)return;var t=this,i=t.owner,n=i.wrapper,r=i.options,a=r.position,o=t.resizeDirection,s=t.containerOffset,l=t.initialPosition,d=t.initialSize,u=i.containment&&!i._isPinned,f=y.support.isRtl(i.containment),c=u&&f&&i.containment.innerWidth()>i.containment.width?y.support.scrollbar():0,p=u?{top:i.containment.scrollTop(),left:i.containment.scrollLeft()}:{top:0,left:0},h,m,g,v,b=Math.max(e.x.location,0),_=Math.max(e.y.location,0);if(o.indexOf("e")>=0){if(i.containment&&b-d.width>=i.maxLeft-p.left+s.left+c)h=i.maxLeft+c-l.left+d.width-p.left;else h=b-l.left-s.left;n.outerWidth(O(h,r.minWidth,r.maxWidth))}else if(o.indexOf("w")>=0){v=l.left+d.width+s.left;h=O(v-b,r.minWidth,r.maxWidth);a.left=v-h-s.left-c-(t._relativeElMarginLeft||0)+p.left;if(i.containment&&a.left<=i.minLeft){a.left=i.minLeft;h=O(v-c-a.left-s.left+p.left,r.minWidth,r.maxWidth)}n.css({left:a.left,width:h})}var k=_;if(i.options.pinned)k-=w(window).scrollTop();if(o.indexOf("s")>=0){m=k-l.top-t.elementPadding-s.top;if(k-d.height-t.elementPadding>=i.maxTop+s.top-p.top)m=i.maxTop-l.top+d.height-p.top;n.outerHeight(O(m,r.minHeight,r.maxHeight))}else if(o.indexOf("n")>=0){g=l.top+d.height+s.top;m=O(g-k,r.minHeight,r.maxHeight);a.top=g-m-s.top-(t._relativeElMarginTop||0)+p.top;if(a.top<=i.minTop&&i.containment){a.top=i.minTop;m=O(g-a.top-s.top+p.top,r.minHeight,r.maxHeight)}n.css({top:a.top,height:m})}if(h)i.options.width=h+"px";if(m)i.options.height=m+"px";i.resize()},dragend:function(e){if(this._preventDragging)return;var t=this,i=t.owner,n=i.wrapper;n.children(p).not(e.currentTarget).show();w(f).css(I,"");if(i.touchScroller)i.touchScroller.reset();if(e.keyCode==27)n.css(t.initialPosition).css(t.initialSize);i.trigger(J);return false},destroy:function(){if(this._draggable)this._draggable.destroy();this._draggable=this.owner=null}},me.prototype={dragstart:function(e){var t=this.owner,i=t.options.draggable,n=t.element,r=n.find(".k-window-actions"),a=y.getOffset(t.appendTo);this._preventDragging=t.trigger(Z)||!i;if(this._preventDragging||t.isMaximized())return;t.initialWindowPosition=y.getOffset(t.wrapper,"position");t.initialPointerPosition={left:t.options.position.left,top:t.options.position.top};t.startPosition={left:e.x.client-t.initialWindowPosition.left,top:e.y.client-t.initialWindowPosition.top};t._updateBoundaries();if(!t.containment){if(r.length>0)t.minLeft=o(r)+parseInt(r.css("right"),10)-o(n);else t.minLeft=20-o(n);t.minLeft-=a.left;t.minTop=-a.top}w(c.overlay).appendTo(t.wrapper).css({opacity:0});t.wrapper.children(p).hide();w(f).css(I,e.currentTarget.css(I))},drag:function(e){var t=this.owner;var i=t.options.position;var n=t.options.draggable.axis;var r;var a;if(this._preventDragging||t.isMaximized())return;if(!n||n.toLowerCase()==="x"){r=e.x.client-t.startPosition.left;if(t.containment&&!t._isPinned)r+=t.containment.scrollLeft();i.left=O(r,t.minLeft,t.maxLeft)}if(!n||n.toLowerCase()==="y"){a=e.y.client-t.startPosition.top;if(t.containment&&!t._isPinned)a+=t.containment.scrollTop();i.top=O(a,t.minTop,t.maxTop)}if(y.support.transforms)w(t.wrapper).css("transform","translate("+(i.left-t.initialPointerPosition.left)+"px, "+(i.top-t.initialPointerPosition.top)+"px)");else w(t.wrapper).css(i)},_finishDrag:function(){var e=this.owner;e.wrapper.children(p).toggle(!e.options.isMinimized).end().find(h).remove();w(f).css(I,"")},dragcancel:function(e){if(this._preventDragging)return;this._finishDrag();e.currentTarget.closest(_).css(this.owner.initialWindowPosition)},dragend:function(){var e=this.owner;if(this._preventDragging||e.isMaximized())return;w(e.wrapper).css(e.options.position).css("transform","");this._finishDrag();e.trigger(ee);return false},destroy:function(){if(this._draggable)this._draggable.destroy();this._draggable=this.owner=null}},y.ui.plugin(pe),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.color.min",["kendo.core.min"],function(){var e={id:"color",name:"Color utils",category:"framework",advanced:true,description:"Color utilities used across components",depends:["core"]},t=(window.kendo=window.kendo||{},kendo.Class),i=kendo.support,a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},n=i.browser,o=function(e){var t=Object.keys(a);t.push("transparent");var i=new RegExp("^("+t.join("|")+")(\\W|$)","i");o=function(e){return i.exec(e)};return i.exec(e)},s=t.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(e){return this.toBytes().toHex(e)},toBytes:function(){return this},toCss:function(e){return"#"+this.toHex(e)},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){if(n.msie&&n.version<9)return this.toCss();return this.toCssRgba()},equals:function(e){return e===this||e!==null&&this.toCssRgba()===h(e).toCssRgba()},diff:function(e){if(e===null)return NaN;var t=this.toBytes();var i=e.toBytes();return Math.sqrt(Math.pow((t.r-i.r)*.3,2)+Math.pow((t.g-i.g)*.59,2)+Math.pow((t.b-i.b)*.11,2))},clone:function(){var e=this.toBytes();if(e===this)e=new l(e.r,e.g,e.b,e.a);return e}}),c=s.extend({init:function(e,t,i,n){s.fn.init.call(this);this.r=e;this.g=t;this.b=i;this.a=n},toHSV:function(){var e=this;var t=e.r;var i=e.g;var n=e.b;var r=Math.min(t,i,n);var a=Math.max(t,i,n);var o=a-r;var s=a;var l,d;if(o===0)return new u(0,0,s,this.a);if(a!==0){d=o/a;if(t===a)l=(i-n)/o;else if(i===a)l=2+(n-t)/o;else l=4+(t-i)/o;l*=60;if(l<0)l+=360}else{d=0;l=-1}return new u(l,d,s,this.a)},toHSL:function(){var e=this;var t=e.r;var i=e.g;var n=e.b;var r=Math.max(t,i,n);var a=Math.min(t,i,n);var o,s,l=(r+a)/2;if(r===a)o=s=0;else{var d=r-a;s=l>.5?d/(2-r-a):d/(r+a);switch(r){case t:o=(i-n)/d+(i<n?6:0);break;case i:o=(n-t)/d+2;break;case n:o=(t-i)/d+4;break;default:break}}return new f(o*60,s*100,l*100,this.a)},toBytes:function(){return new l(this.r*255,this.g*255,this.b*255,this.a)}}),l=c.extend({init:function(e,t,i,n){c.fn.init.call(this,Math.round(e),Math.round(t),Math.round(i),n)},toRGB:function(){return new c(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(e){var t=r(this.r,2)+r(this.g,2)+r(this.b,2);if(e&&e.alpha)t+=r(Math.round(this.a*255),2);return t},toBytes:function(){return this}});function r(e,t,i){if(i===void 0)i="0";var n=e.toString(16);while(t>n.length)n=i+n;return n}var u=s.extend({init:function(e,t,i,n){s.fn.init.call(this);this.h=e;this.s=t;this.v=i;this.a=n},toRGB:function(){var e=this;var t=e.h;var i=e.s;var n=e.v;var r,a,o;if(i===0)r=a=o=n;else{t/=60;var s=Math.floor(t);var l=t-s;var d=n*(1-i);var u=n*(1-i*l);var f=n*(1-i*(1-l));switch(s){case 0:r=n;a=f;o=d;break;case 1:r=u;a=n;o=d;break;case 2:r=d;a=n;o=f;break;case 3:r=d;a=u;o=n;break;case 4:r=f;a=d;o=n;break;default:r=n;a=d;o=u;break}}return new c(r,a,o,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),f=s.extend({init:function(e,t,i,n){s.fn.init.call(this);this.h=e;this.s=t;this.l=i;this.a=n},toRGB:function(){var e=this.h/360;var t=this.s/100;var i=this.l/100;var n,r,a;if(t===0)n=r=a=i;else{var o=i<.5?i*(1+t):i+t-i*t;var s=2*i-o;n=d(s,o,e+1/3);r=d(s,o,e);a=d(s,o,e-1/3)}return new c(n,r,a,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function d(e,t,i){var n=i;if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}function p(e){return parseFloat(parseFloat(parseInt(e,16)/255).toFixed(3))}function h(e,t){var i,n;if(e==null||e==="none")return null;if(e instanceof s)return e;var r=e.toLowerCase();if(i=o(r)){if(i[1]==="transparent")r=new c(1,1,1,0);else r=h(a[i[1]],t);r.match=[i[1]];return r}if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))n=new l(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1);else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))n=new l(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1);else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))n=new l(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),p(i[4]+i[4]));else if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))n=new l(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),p(i[4]));else if(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r))n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),1);else if(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r))n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));else if(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r))n=new c(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1);else if(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r))n=new c(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]));if(n)n.match=i;else if(!t)throw new Error("Cannot parse color: "+r);return n}var m=180,g=t.extend({init:function(e){var t=this;if(arguments.length===1){var i=g.formats;var n=this.resolveColor(e);for(var r=0;r<i.length;r++){var a=i[r].re;var o=i[r].process;var s=a.exec(n);if(s){var l=o(s);t.r=l[0];t.g=l[1];t.b=l[2]}}}else{this.r=arguments[0];this.g=arguments[1];this.b=arguments[2]}this.r=this.normalizeByte(this.r);this.g=this.normalizeByte(this.g);this.b=this.normalizeByte(this.b)},toHex:function(){var e=this.padDigit;var t=this.r.toString(16);var i=this.g.toString(16);var n=this.b.toString(16);return"#"+e(t)+e(i)+e(n)},resolveColor:function(e){var t=e||"black";if(t.charAt(0)==="#")t=t.substr(1,6);t=t.replace(/ /g,"");t=t.toLowerCase();t=g.namedColors[t]||t;return t},normalizeByte:function(e){if(e<0||isNaN(e))return 0;return e>255?255:e},padDigit:function(e){return e.length===1?"0"+e:e},brightness:function(e){var t=Math.round;this.r=t(this.normalizeByte(this.r*e));this.g=t(this.normalizeByte(this.g*e));this.b=t(this.normalizeByte(this.b*e));return this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},isDark:function(){return this.percBrightness()<m}});g.fromBytes=function(e,t,i,n){return new l(e,t,i,n!=null?n:1)},g.fromRGB=function(e,t,i,n){return new c(e,t,i,n!=null?n:1)},g.fromHSV=function(e,t,i,n){return new u(e,t,i,n!=null?n:1)},g.fromHSL=function(e,t,i,n){return new f(e,t,i,n!=null?n:1)},g.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],g.namedColors=a,kendo.deepExtend(kendo,{parseColor:h,namedColors:a,Color:g})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.slider.min",["kendo.draganddrop.min"],function(){var e={id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]},m=window.kendo.jQuery,c=void 0,g=window.kendo,r=g.ui.Widget,L=g.ui.Draggable,v=g._outerWidth,b=g._outerHeight,B=m.extend,l=g.format,n=g.parseFloat,V=Array.isArray,p=Math,U=g.support,t=U.pointers,W=U.msPointers,a="change",h="slide",o=".slider",s="touchstart"+o+" mousedown"+o,f=t?"pointerdown"+o:W?"MSPointerDown"+o:s,_="touchend"+o+" mouseup"+o,k=t?"pointerup":W?"MSPointerUp"+o:_,i="moveSelection",w="keydown"+o,y="click"+o,d="mouseover"+o,x="focus"+o,C="blur"+o,T=".k-draghandle",S=".k-slider-track",D=".k-tick",F="k-state-selected",I="k-state-focused",E="k-state-disabled",z="disabled",j="undefined",A="tabindex",q=g.getTouches,G="aria-valuetext",$="aria-valuenow",u=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);t=i.options;i._isHorizontal=t.orientation=="horizontal";i._isRtl=i._isHorizontal&&g.support.isRtl(e);i._position=i._isHorizontal?"left":"bottom";i._sizeFn=i._isHorizontal?"width":"height";i._outerSize=i._isHorizontal?v:b;t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}";if(t.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");i._createHtml();i._trackDiv=i.wrapper.find(S);i._maxSelection=i._trackDiv[i._sizeFn]();i._sliderItemsInit();i._reset();i._tabindex(i.wrapper.find(T));i[t.enabled?"enable":"disable"]();var n=g.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:R(-1*n*t.smallStep),40:R(-t.smallStep),39:R(+1*n*t.smallStep),38:R(+t.smallStep),35:J(t.max),36:J(t.min),33:R(+t.largeStep),34:R(-t.largeStep)};g.notify(i)},events:[a,h],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_distance:function(){return P(this.options.max-this.options.min)},_resize:function(){this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh();if(this.options.enabled)this.enable(true)},_sliderItemsInit:function(){var e=this,t=e.options;var i=(e._maxSelection-2)/((t.max-t.min)/t.smallStep);var n=e._calculateItemsWidth(p.floor(M(e._distance())/M(t.smallStep)));if(t.tickPlacement!="none"&&i>=2){m(this.element).parent().find(".k-slider-items").remove();e._trackDiv.before(Q(t,e._distance()));e._setItemsTitle()}e._calculateSteps(n);if(t.tickPlacement!="none"&&i>=2&&t.largeStep>=t.smallStep){e._setItemsLargeTick();e.wrapper.find(D).first().addClass("k-first");e.wrapper.find(D).last().addClass("k-last")}},getSize:function(){return g.dimensions(this.wrapper)},_setItemsTitle:function(){var e=this,t=e.options,i=e.wrapper.find(D),n=t.min,r=i.length;for(var a=0;a<=r;a+=1){m(i[a]).attr("title",l(t.tooltip.format,P(n)));n+=t.smallStep}},_setItemsLargeTick:function(){var e=this,t=e.options,i=e.wrapper.find(D),n=0,r,a;if(M(t.largeStep)%M(t.smallStep)===0||e._distance()/t.largeStep>=3){if(!e._isHorizontal&&!e._isRtl)i=m.makeArray(i).reverse();for(n=0;n<i.length;n++){r=m(i[n]);a=e._values[n];var o=P(M(a-this.options.min));if(o%M(t.smallStep)===0&&o%M(t.largeStep)===0){r.addClass("k-tick-large").html("<span class='k-label'>"+r.attr("title")+"</span>");if(n!==0&&n!==i.length-1)r.css("line-height",r[e._sizeFn]()+"px")}}}},_calculateItemsWidth:function(e){var t=this,i=t.options,n=parseFloat(t._trackDiv.css(t._sizeFn))+1,r=t._distance(),a=M(r)/M(i.smallStep),o=n/M(r),s,l,d;if(a-e>0)n-=M(r)%M(i.smallStep)*o;s=n/e;l=[];for(d=0;d<e-1;d++)l[d]=s;l[e-1]=l[e]=s/2;return t._roundWidths(l)},_roundWidths:function(e){var t=0,i=e.length,n;for(n=0;n<i;n++){t+=e[n]-p.floor(e[n]);e[n]=p.floor(e[n])}t=p.round(t);return this._addAdditionalSize(t,e)},_addAdditionalSize:function(e,t){if(e===0)return t;var i=parseFloat(t.length-1)/parseFloat(e==1?e:e-1),n;for(n=0;n<e;n++)t[parseInt(p.round(i*n),10)]+=1;return t},_calculateSteps:function(e){var t=this,i=t.options,n=i.min,r=0,a=t._distance(),o=p.ceil(M(a)/M(i.smallStep)),s=1,l;o+=M(a)/M(i.smallStep)%1===0?1:0;e.splice(0,0,e[o-2]*2);e.splice(o-1,1,e.pop()*2);t._pixelSteps=[r];t._values=[n];if(o===0)return;while(s<o){r+=(e[s-1]+e[s])/2;t._pixelSteps[s]=r;n+=i.smallStep;t._values[s]=P(n);s++}l=M(a)%M(i.smallStep)===0?o-1:o;t._pixelSteps[l]=t._maxSelection;t._values[l]=i.max;if(t._isRtl){t._pixelSteps.reverse();t._values.reverse()}},_getValueFromPosition:function(e,t){var i=this,n=i.options,r=p.max(n.smallStep*(i._maxSelection/i._distance()),0),a=0,o=r/2,s;if(i._isHorizontal){a=e-t.startPoint;if(i._isRtl)a=i._maxSelection-a}else a=t.startPoint-e;if(i._maxSelection-(parseInt(i._maxSelection%r,10)-3)/2<a)return n.max;for(s=0;s<i._pixelSteps.length;s++)if(p.abs(i._pixelSteps[s]-a)-1<=o)return P(i._values[s])},_getFormattedValue:function(e,t){var i=this,n="",r=i.options.tooltip,a,o,s;if(V(e)){o=e[0];s=e[1]}else if(t&&t.type){o=t.selectionStart;s=t.selectionEnd}if(t)a=t.tooltipTemplate;if(!a&&r.template)a=g.template(r.template);if(V(e)||t&&t.type)if(a)n=a({selectionStart:o,selectionEnd:s});else{o=l(r.format,o);s=l(r.format,s);n=o+" - "+s}else{if(t)t.val=e;if(a)n=a({value:e});else n=l(r.format,e)}return n},_getDraggableArea:function(){var e=this,t=g.getOffset(e._trackDiv);return{startPoint:e._isHorizontal?t.left:t.top+e._maxSelection,endPoint:e._isHorizontal?t.left+e._maxSelection:t.top}},_createHtml:function(){var e=this,t=e.element,i=e.options,n=t.find("input");if(n.length==2){n.eq(0).prop("value",N(i.selectionStart));n.eq(1).prop("value",N(i.selectionEnd))}else t.prop("value",N(i.value));e.wrapper=t.wrap(Y(i,t,e._isHorizontal)).hide().parents(".k-slider");if(i.showButtons)e.wrapper.find(".k-slider-track-wrap").after(K(i,"increase",e._isHorizontal,e._isRtl)).before(K(i,"decrease",e._isHorizontal,e._isRtl));t.before(X(i,t,e._isHorizontal))},_focus:function(e){var t=this,i=e.target,n=t.value(),r=t._drag;if(!r){if(i==t.wrapper.find(T).eq(0)[0]){r=t._firstHandleDrag;t._activeHandle=0}else{r=t._lastHandleDrag;t._activeHandle=1}n=n[t._activeHandle]}m(i).addClass(I+" "+F);if(r){t._activeHandleDrag=r;r.selectionStart=t.options.selectionStart;r.selectionEnd=t.options.selectionEnd;r._updateTooltip(n)}},_focusWithMouse:function(e){e=m(e);var t=this,i=e.is(T)?e.index():0;window.setTimeout(function(){t.wrapper.find(T)[i==2?1:0].focus()},1);t._setTooltipTimeout()},_blur:function(e){var t=this,i=t._activeHandleDrag;m(e.target).removeClass(I+" "+F);if(i){i._removeTooltip();delete t._activeHandleDrag;delete t._activeHandle}},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;if(e)e._removeTooltip()},300)},_clearTooltipTimeout:function(){var e=this;window.clearTimeout(this._tooltipTimeout);var t=e._drag||e._activeHandleDrag;if(t&&t.tooltipDiv)t.tooltipDiv.stop(true,false).css("opacity",1)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form");if(n[0])e._form=n.on("reset",e._formResetHandler.bind(e))},min:function(e){if(!e)return this.options.min;this.setOptions({min:e})},max:function(e){if(!e)return this.options.max;this.setOptions({max:e})},setOptions:function(e){r.fn.setOptions.call(this,e);this._sliderItemsInit();this._refresh()},destroy:function(){if(this._form)this._form.off("reset",this._formResetHandler);r.fn.destroy.call(this)}});function Y(e,t,i){var n=i?" k-slider-horizontal":" k-slider-vertical",r=e.style?e.style:t.attr("style"),a=t.attr("class")?" "+t.attr("class"):"",o="";if(e.tickPlacement=="bottomRight")o=" k-slider-bottomright";else if(e.tickPlacement=="topLeft")o=" k-slider-topleft";r=r?" style='"+r+"'":"";return"<div class='k-widget k-slider"+n+a+"'"+r+">"+"<div class='k-slider-track-wrap"+o+"'></div></div>"}function K(e,t,i){var n="";if(i)if(t==="increase")n="k-i-arrow-e";else n="k-i-arrow-w";else if(t=="increase")n="k-i-arrow-n";else n="k-i-arrow-s";return"<a role='button' class='k-button k-button-md k-rounded-full k-button-solid k-button-solid-base k-icon-button k-button-"+t+"' "+"title='"+e[t+"ButtonTitle"]+"' "+"aria-label='"+e[t+"ButtonTitle"]+"'>"+"<span class='k-button-icon k-icon "+n+"'></span></a>"}function Q(e,t){var i="<ul class='k-reset k-slider-items' role='presentation'>",n=p.floor(P(t/e.smallStep))+1,r;for(r=0;r<n;r++)i+="<li class='k-tick'></li>";i+="</ul>";return i}function X(e,t,i){var n=t.is("input")?1:2,r=n==2?e.leftDragHandleTitle:e.dragHandleTitle,a=e.value,o=e.selectionStart,s=e.selectionEnd,l,d,u;if(n===1){l=t.val();if(l!==null&&l!==c&&l!=="null")if(a===null||a===c)a=l}else{d=t.find("input").eq(0).val();u=t.find("input").eq(1).val();if(d!==null&&d!==c&&d!=="null")if(o===null||o===c)o=d;if(u!==null&&u!==c&&u!=="null")if(s===null||s===c)s=u}var f="<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div>"+"<span tabindex='0' class='k-draghandle' title='"+r+"' role='slider' "+(i===false?"aria-orientation='vertical' ":"")+"aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?o||e.min:a||e.min)+"'></span>"+(n>1?"<span tabindex='0' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' "+(i===false?"aria-orientation='vertical' ":"")+"aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(s||e.max)+"'></span>":"")+"</div>";return f}function R(t){return function(e){return e+t}}function J(e){return function(){return e}}function N(e){return(e+"").replace(".",g.cultures.current.numberFormat["."])}function Z(e){var t=e.toString();var i=0;t=t.split(".");if(t[1])i=t[1].length;i=i>10?10:i;return i}function P(e){var t,i;e=parseFloat(e,10);t=Z(e);i=p.pow(10,t||0);return p.round(e*i)/i}function H(e,t){var i=n(e.getAttribute(t));if(i===null)i=c;return i}function ee(e){return typeof e!==j}function M(e){return e*1e4}var O=u.extend({init:function(e,t){var i=this,n;e.type="text";t=B({},{value:H(e,"value"),min:H(e,"min"),max:H(e,"max"),smallStep:H(e,"step")},t);e=m(e);if(t&&t.enabled===c)t.enabled=!e.is("[disabled]");u.fn.init.call(i,e,t);t=i.options;if(!ee(t.value)||t.value===null){t.value=t.min;e.prop("value",N(t.min))}t.value=p.max(p.min(t.value,t.max),t.min);n=i.wrapper.find(T);i._selection=new O.Selection(n,i,t);i._drag=new O.Drag(n,"",i,t);i._refreshAriaAttr(t.value)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(e){var a=this,t=a.options,i,n;a.disable();if(e===false)return;a.wrapper.removeClass(E);a.wrapper.find("input").prop(z,false);i=function(e){var t=q(e)[0];if(!t)return;var i=a._isHorizontal?t.location.pageX:t.location.pageY,n=a._getDraggableArea(),r=m(e.target);if(r.hasClass("k-draghandle")){r.addClass(I+" "+F);return}a._update(a._getValueFromPosition(i,n));a._focusWithMouse(e.target);a._drag.dragstart(e);e.preventDefault()};a.wrapper.find(D+", "+S).on(f,i).end().on(f,function(){m(document.documentElement).one("selectstart",g.preventDefault)}).on(k,function(){a._drag._end()});a.wrapper.find(T).attr(A,0).on(_,function(){a._setTooltipTimeout()}).on(y,function(e){a._focusWithMouse(e.target);e.preventDefault()}).on(x,a._focus.bind(a)).on(C,a._blur.bind(a));n=function(e){var t=a._nextValueByIndex(a._valueIndex+e*1);a._setValueInRange(t);a._drag._updateTooltip(t)};if(t.showButtons){var r=function(e,t){this._clearTooltipTimeout();if(e.which===1||U.touch&&e.which===0){n(t);this.timeout=setTimeout(function(){this.timer=setInterval(function(){n(t)},60)}.bind(this),200)}}.bind(a);a.wrapper.find(".k-button").on(_,function(e){this._clearTimer();a._focusWithMouse(e.target)}.bind(a)).on(d,function(e){m(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+o,function(e){m(e.currentTarget).removeClass("k-state-hover");this._clearTimer()}.bind(a)).on(s,function(e){var t=m(e.target).closest(".k-button").is(".k-button-increase")?1:-1;r(e,t)}).on("click",g.preventDefault)}a.wrapper.find(T).off(w,false).on(w,this._keydown.bind(a));t.enabled=true},disable:function(){var e=this;e.wrapper.addClass(E);m(e.element).prop(z,z);e.wrapper.find(".k-button").off(s).on(s,function(e){e.preventDefault();m(this).addClass("k-state-active")}).off(_).on(_,function(e){e.preventDefault();m(this).removeClass("k-state-active")}).off("mouseleave"+o).on("mouseleave"+o,g.preventDefault).off(d).on(d,g.preventDefault);e.wrapper.find(D+", "+S).off(f).off(k);e.wrapper.find(T).attr(A,-1).off(_).off(w).off(y).off(x).off(C);e.options.enabled=false},_update:function(e){var t=this,i=t.value()!=e;t.value(e);if(i)t.trigger(a,{value:t.options.value})},value:function(e){var t=this,i=t.options;e=P(e);if(isNaN(e))return i.value;if(e>=i.min&&e<=i.max)if(i.value!=e){t.element.prop("value",N(e));i.value=e;t._refreshAriaAttr(e);t._refresh()}},_refresh:function(){this.trigger(i,{value:this.options.value})},_refreshAriaAttr:function(e){var t=this,i=t._drag,n;if(i&&i._tooltipDiv)n=i._tooltipDiv.text();else n=t._getFormattedValue(e,null);this.wrapper.find(T).attr($,e).attr(G,n)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(e){var t=this;if(e.keyCode in t._keyMap){t._clearTooltipTimeout();t._setValueInRange(t._keyMap[e.keyCode](t.options.value));t._drag._updateTooltip(t.value());e.preventDefault()}},_setValueInRange:function(e){var t=this,i=t.options;e=P(e);if(isNaN(e)){t._update(i.min);return}e=p.max(p.min(e,i.max),i.min);t._update(e)},_nextValueByIndex:function(e){var t=this._values.length;if(this._isRtl)e=t-1-e;return this._values[p.max(0,p.min(e,t-1))]},_formResetHandler:function(){var t=this,i=t.options.min;setTimeout(function(){var e=t.element[0].value;t.value(e===""||isNaN(e)?i:e)})},destroy:function(){var e=this;u.fn.destroy.call(e);e.wrapper.off(o).find(".k-button").off(o).end().find(T).off(o).end().find(D+", "+S).off(o).end();e._drag.draggable.destroy();e._drag._removeTooltip(true)}}),te=(O.Selection=function(o,s,l){function t(e){var t=e-l.min,i=s._valueIndex=p.ceil(P(t/l.smallStep)),n=parseInt(s._pixelSteps[i],10),r=s._trackDiv.find(".k-slider-selection"),a=s._isRtl?2:0;r[s._sizeFn](s._isRtl?s._maxSelection-n:n);o.css(s._position,n-a)}t(l.value);s.bind([h,i],function(e){t(parseFloat(e.value,10))});s.bind(a,function(e){t(parseFloat(e.sender.value(),10))})},O.Drag=function(e,t,i,n){var r=this;r.owner=i;r.options=n;r.element=e;r.type=t;r.draggable=new L(e,{distance:0,dragstart:r._dragstart.bind(r),drag:r.drag.bind(r),dragend:r.dragend.bind(r),dragcancel:r.dragcancel.bind(r)});e.click(false);e.on("dragstart",function(e){e.preventDefault()})},O.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this._dragstart(e);this.dragend()},_dragstart:function(e){var t=this,i=t.owner,n=t.options;if(!n.enabled){e.preventDefault();return}this.owner._activeDragHandle=this;i.element.off(d);i.wrapper.find("."+I).removeClass(I+" "+F);t.element.addClass(I+" "+F);m(document.documentElement).css("cursor","pointer");t.draggableArea=i._getDraggableArea();t.step=p.max(n.smallStep*(i._maxSelection/i._distance()),0);if(t.type){t.selectionStart=n.selectionStart;t.selectionEnd=n.selectionEnd;i._setZIndex(t.type)}else t.oldVal=t.val=n.value;t._removeTooltip(true);t._createTooltip()},_createTooltip:function(){var e=this,t=e.owner,i=e.options.tooltip,n="",r=m(window),a,o;if(!i.enabled)return;if(i.template)a=e.tooltipTemplate=g.template(i.template);m(".k-slider-tooltip").remove();e.tooltipDiv=m("<div class='k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body);n=t._getFormattedValue(e.val||t.value(),e);if(!e.type){o="k-callout-"+(t._isHorizontal?"s":"e");e.tooltipInnerDiv="<div class='k-callout "+o+"'>\x3c!-- --\x3e</div>";n+=e.tooltipInnerDiv}e.tooltipDiv.html(n);e._scrollOffset={top:r.scrollTop(),left:g.scrollLeft(r)};e.moveTooltip()},drag:function(e){var t=this,i=t.owner,n=e.x.location,r=e.y.location,a=t.draggableArea.startPoint,o=t.draggableArea.endPoint,s;e.preventDefault();if(i._isHorizontal)if(i._isRtl)t.val=t.constrainValue(n,a,o,n<o);else t.val=t.constrainValue(n,a,o,n>=o);else t.val=t.constrainValue(r,o,a,r<=o);if(t.oldVal!=t.val){t.oldVal=t.val;if(t.type){if(t.type=="firstHandle")if(t.val<t.selectionEnd)t.selectionStart=t.val;else t.selectionStart=t.selectionEnd=t.val;else if(t.val>t.selectionStart)t.selectionEnd=t.val;else t.selectionStart=t.selectionEnd=t.val;s={values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}}else s={value:t.val};i.trigger(h,s)}t._updateTooltip(t.val)},_updateTooltip:function(e){var t=this,i=t.options,n=i.tooltip,r="";if(!n.enabled)return;if(!t.tooltipDiv)t._createTooltip();r=t.owner._getFormattedValue(P(e),t);if(!t.type)r+=t.tooltipInnerDiv;t.tooltipDiv.html(r);t.moveTooltip()},dragcancel:function(){this.owner._refresh();m(document.documentElement).css("cursor","");return this._end()},dragend:function(){var e=this,t=e.owner;m(document.documentElement).css("cursor","");if(e.type)t._update(e.selectionStart,e.selectionEnd);else{t._update(e.val);e.draggable.userEvents._disposeAll()}e.draggable.userEvents.cancel();return e._end()},_end:function(){var e=this,t=e.owner;t._focusWithMouse(e.element);t.element.on(d);return false},_removeTooltip:function(e){var t=this,i=t.owner;if(t.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled)if(e){t.tooltipDiv.remove();t.tooltipDiv=null}else t.tooltipDiv.fadeOut("slow",function(){m(this).remove();t.tooltipDiv=null})},moveTooltip:function(){var e=this,t=e.owner,i=0,n=0,r=e.element,a=g.getOffset(r),o=8,s=m(window),l=e.tooltipDiv.find(".k-callout"),d=v(e.tooltipDiv),u=b(e.tooltipDiv),f,c,p,h;if(e.type){f=t.wrapper.find(T);a=g.getOffset(f.eq(0));c=g.getOffset(f.eq(1));if(t._isHorizontal){i=c.top;n=a.left+(c.left-a.left)/2}else{i=a.top+(c.top-a.top)/2;n=c.left}h=v(f.eq(0))+2*o}else{i=a.top;n=a.left;h=v(r)+2*o}if(t._isHorizontal){n-=parseInt((d-t._outerSize(r))/2,10);i-=u+o+(l.length?l.height():0)}else{i-=parseInt((u-t._outerSize(r))/2,10);n-=d+o+(l.length?l.width():0)}if(t._isHorizontal){p=e._flip(i,u,h,b(s)+e._scrollOffset.top);i+=p;n+=e._fit(n,d,v(s)+e._scrollOffset.left)}else{p=e._flip(n,d,h,v(s)+e._scrollOffset.left);i+=e._fit(i,u,b(s)+e._scrollOffset.top);n+=p}if(p>0&&l){l.removeClass();l.addClass("k-callout k-callout-"+(t._isHorizontal?"n":"w"))}e.tooltipDiv.css({top:i,left:n})},_fit:function(e,t,i){var n=0;if(e+t>i)n=i-(e+t);if(e<0)n=-e;return n},_flip:function(e,t,i,n){var r=0;if(e+t>n)r+=-(i+t);if(e+r<0)r+=i+t;return r},constrainValue:function(e,t,i,n){var r=this,a=0;if(t<e&&e<i)a=r.owner._getValueFromPosition(e,r.draggableArea);else if(n)a=r.options.max;else a=r.options.min;return a}},g.ui.plugin(O),u.extend({init:function(e,t){var i=this,n=m(e).find("input"),r=n.eq(0)[0],a=n.eq(1)[0];r.type="text";a.type="text";if(t&&t.showButtons){if(window.console)window.console.warn("showbuttons option is not supported for the range slider, ignoring");t.showButtons=false}t=B({},{selectionStart:H(r,"value"),min:H(r,"min"),max:H(r,"max"),smallStep:H(r,"step")},{selectionEnd:H(a,"value"),min:H(a,"min"),max:H(a,"max"),smallStep:H(a,"step")},t);if(t&&t.enabled===c)t.enabled=!n.is("[disabled]");u.fn.init.call(i,e,t);t=i.options;if(!ee(t.selectionStart)||t.selectionStart===null){t.selectionStart=t.min;n.eq(0).prop("value",N(t.min))}if(!ee(t.selectionEnd)||t.selectionEnd===null){t.selectionEnd=t.max;n.eq(1).prop("value",N(t.max))}var o=i.wrapper.find(T);this._selection=new te.Selection(o,i,t);i._firstHandleDrag=new O.Drag(o.eq(0),"firstHandle",i,t);i._lastHandleDrag=new O.Drag(o.eq(1),"lastHandle",i,t);i._refreshAriaAttr(t.selectionStart,t.selectionEnd)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(e){var d=this,u=d.options,t;d.disable();if(e===false)return;d.wrapper.removeClass(E);d.wrapper.find("input").prop(z,false);t=function(e){var t=q(e)[0];if(!t)return;var i=d._isHorizontal?t.location.pageX:t.location.pageY,n=d._getDraggableArea(),r=d._getValueFromPosition(i,n),a=m(e.target),o,s,l;if(a.hasClass("k-draghandle")){d.wrapper.find("."+I).removeClass(I+" "+F);a.addClass(I+" "+F);return}if(r<u.selectionStart){o=r;s=u.selectionEnd;l=d._firstHandleDrag}else if(r>d.selectionEnd){o=u.selectionStart;s=r;l=d._lastHandleDrag}else if(r-u.selectionStart<=u.selectionEnd-r){o=r;s=u.selectionEnd;l=d._firstHandleDrag}else{o=u.selectionStart;s=r;l=d._lastHandleDrag}l.dragstart(e);d._setValueInRange(o,s);d._focusWithMouse(l.element)};d.wrapper.find(D+", "+S).on(f,t).end().on(f,function(){m(document.documentElement).one("selectstart",g.preventDefault)}).on(k,function(){if(d._activeDragHandle)d._activeDragHandle._end()});d.wrapper.find(T).attr(A,0).on(_,function(){d._setTooltipTimeout()}).on(y,function(e){d._focusWithMouse(e.target);e.preventDefault()}).on(x,d._focus.bind(d)).on(C,d._blur.bind(d));d.wrapper.find(T).off(w,g.preventDefault).eq(0).on(w,function(e){this._keydown(e,"firstHandle")}.bind(d)).end().eq(1).on(w,function(e){this._keydown(e,"lastHandle")}.bind(d));d.options.enabled=true},disable:function(){var e=this;e.wrapper.addClass(E);e.wrapper.find("input").prop(z,z);e.wrapper.find(D+", "+S).off(f).off(k);e.wrapper.find(T).attr(A,-1).off(_).off(w).off(y).off(x).off(C);e.options.enabled=false},_keydown:function(e,t){var i=this,n=i.options.selectionStart,r=i.options.selectionEnd,a,o,s;if(e.keyCode in i._keyMap){i._clearTooltipTimeout();if(t=="firstHandle"){s=i._activeHandleDrag=i._firstHandleDrag;n=i._keyMap[e.keyCode](n);if(n>r)r=n}else{s=i._activeHandleDrag=i._lastHandleDrag;r=i._keyMap[e.keyCode](r);if(n>r)n=r}i._setValueInRange(P(n),P(r));a=Math.max(n,i.options.selectionStart);o=Math.min(r,i.options.selectionEnd);s.selectionEnd=Math.max(o,i.options.selectionStart);s.selectionStart=Math.min(a,i.options.selectionEnd);s._updateTooltip(i.value()[i._activeHandle]);e.preventDefault()}},_update:function(e,t){var i=this,n=i.value();var r=n[0]!=e||n[1]!=t;i.value([e,t]);if(r)i.trigger(a,{values:[e,t],value:[e,t]})},value:function(e){if(e&&e.length)return this._value(e[0],e[1]);else return this._value()},_value:function(e,t){var i=this,n=i.options,r=n.selectionStart,a=n.selectionEnd;if(isNaN(e)&&isNaN(t))return[r,a];else{e=P(e);t=P(t)}if(e>=n.min&&e<=n.max&&t>=n.min&&t<=n.max&&e<=t)if(r!=e||a!=t){i.element.find("input").eq(0).prop("value",N(e)).end().eq(1).prop("value",N(t));n.selectionStart=e;n.selectionEnd=t;i._refresh();i._refreshAriaAttr(e,t)}},values:function(e,t){if(V(e))return this._value(e[0],e[1]);else return this._value(e,t)},_refresh:function(){var e=this,t=e.options;e.trigger(i,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]});if(t.selectionStart==t.max&&t.selectionEnd==t.max)e._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var i=this,n=i.wrapper.find(T),r=i._activeHandleDrag,a;a=i._getFormattedValue([e,t],r);n.eq(0).attr($,e);n.eq(1).attr($,t);n.attr(G,a)},_setValueInRange:function(e,t){var i=this.options;e=p.max(p.min(e,i.max),i.min);t=p.max(p.min(t,i.max),i.min);if(e==i.max&&t==i.max)this._setZIndex("firstHandle");this._update(p.min(e,t),p.max(e,t))},_setZIndex:function(t){this.wrapper.find(T).each(function(e){m(this).css("z-index",t=="firstHandle"?1-e:e)})},_formResetHandler:function(){var n=this,r=n.options;setTimeout(function(){var e=n.element.find("input");var t=e[0].value;var i=e[1].value;n.values(t===""||isNaN(t)?r.min:t,i===""||isNaN(i)?r.max:i)})},destroy:function(){var e=this;u.fn.destroy.call(e);e.wrapper.off(o).find(D+", "+S).off(o).end().find(T).off(o);e._firstHandleDrag.draggable.destroy();e._lastHandleDrag.draggable.destroy()}}));return te.Selection=function(l,d,u){function t(e){e=e||[];var t=e[0]-u.min,i=e[1]-u.min,n=p.ceil(P(t/u.smallStep)),r=p.ceil(P(i/u.smallStep)),a=d._pixelSteps[n],o=d._pixelSteps[r],s=d._isRtl?2:0;l.eq(0).css(d._position,a-s).end().eq(1).css(d._position,o-s);f(a,o)}function f(e,t){var i,n,r=d._trackDiv.find(".k-slider-selection");i=p.abs(e-t);r[d._sizeFn](i);if(d._isRtl){n=p.max(e,t);r.css("right",d._maxSelection-n-1)}else{n=p.min(e,t);r.css(d._position,n-1)}}t(d.value());d.bind([a,h,i],function(e){t(e.values)})},g.ui.plugin(te),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.badge.min",["kendo.core.min"],function(){var e={id:"badge",name:"Badge",category:"web",description:"The Badge decorates avatars, navigation menus, or other components in the application when visual notification is needed",depends:["core"]},t=window.kendo.jQuery,p=void 0,a=window.kendo,n=a.ui.Widget,i=a.ui,h="k-hidden",r="<span class='k-badge-icon k-icon k-i-#= icon #'></span>",o="<span class='k-badge-icon k-svg-icon'>#= icon #</span>",s=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i._content();i._appearance();a.notify(i)},destroy:function(){var e=this;n.fn.destroy.call(e)},options:{name:"Badge",cutoutBorder:false,data:{},fill:"solid",icon:"",max:Infinity,position:"inline",align:"",sizes:{small:"sm",medium:"md",large:"lg"},size:"medium",shape:"rounded",template:null,text:"",themeColor:"secondary",visible:true,_classNames:[]},_content:function(){var e=this;var t=e.options.text;var i=e.options.template;var n=e.options.data;var r=e.options.icon;if(i!==null){e._text=t;e._template=a.template(i).bind(e);e.element.html(e._template(n));return}if(r!==""){e.icon(r);return}if(t!==""){e.text(t);return}e.text(e.element.html())},_appearance:function(){var e=this;e._themeColor=e.options.themeColor;e._shape=e.options.shape;e._sizes=e.options.sizes;e._size=e.options.size;e._fill=e.options.fill;e._cutoutBorder=e.options.cutoutBorder;e._align=e.options.align;e._position=e.options.position;e._visible=e.options.visible;e._updateClassNames()},_updateClassNames:function(){var i=this;var e=["k-badge"];var n=i.options._classNames;var t=i._themeColor;var r=i._shape;var a=i._sizes;var o=i._size;var s=a[o]===p?o:a[o];var l=i._fill;var d=i._cutoutBorder;var u=i._align;var f=i._position;var c=i._visible;i.element.removeClass(function(e,t){if(t.indexOf("k-")===0&&n.indexOf(t)===-1)i.element.removeClass(t)});if(typeof l==="string"&&l!=="")e.push("k-badge-"+l);if(typeof t==="string"&&t!=="")e.push("k-badge-"+t);if(typeof o==="string"&&o!=="")e.push("k-badge-"+s);if(typeof r==="string"&&r!=="")e.push("k-badge-"+r);if(typeof d==="boolean"&&d===true)e.push("k-badge-border-cutout");if(typeof f==="string"&&f!=="")e.push("k-badge-"+f);if(typeof f==="string"&&f!==""&&f!=="inline"&&typeof u==="string"&&u.split(" ").length==2)e.push("k-"+u.replace(" ","-"));if(c===false)e.push(h);i.element.addClass(e.join(" "))},setOptions:function(e){var i=this;i.element.removeClass(function(e,t){if(t.indexOf("k-")>=0)i.element.removeClass(t)});n.fn.setOptions.call(i,e);i._content();i._appearance()},text:function(e){var t=this;var i=t.options.max;if(arguments.length===0||e===p)return t._text;t._text=e;if(e===true||e===false||e===null){t.element.html("");return}if(typeof e==="string"){t.element.html(e);return}if(typeof e==="number"){if(e>i)t.element.html(i+"+");else t.element.html(e);return}if(typeof e==="object"&&"toString"in e){t.element.html(e.toString());return}},icon:function(e){var t=this;var i;if(arguments.length===0||e===p)return t._icon;t._icon=e;if(e.indexOf("<svg")===0){i=a.template(o);t.element.html(i({icon:e}));return}i=a.template(r);t.element.html(i({icon:e}))},themeColor:function(e){var t=this;if(arguments.length===0||e===p)return t._themeColor;t._themeColor=e;t._updateClassNames()},shape:function(e){var t=this;if(arguments.length===0||e===p)return t._shape;t._shape=e;t._updateClassNames()},hide:function(){var e=this;e._visible=false;e._updateClassNames()},show:function(){var e=this;e._visible=true;e._updateClassNames()}});return i.plugin(s),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.button.min",["kendo.core.min","kendo.badge.min","kendo.html.button.min"],function(){var e={id:"button",name:"Button",category:"web",description:"The Button widget displays styled buttons.",depends:["core","badge","html.button"]},n=window.kendo.jQuery,r=void 0,a=window.kendo,o=a.ui.Widget,s=a.html,l=a.ui,i=a.keys,d="click",u=a.support.mousedown,f=a.support.mouseup,c="mouseout",p=".kendoButton",h="disabled",m="k-disabled",t="k-focus",g="k-active",v,b=(a.setDefaults("button",{icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",badge:null}),o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);e=i.wrapper=i.element;t=i.options;s.renderButton(e,n.extend({},t));e.attr("role","button");t.enable=t.enable&&t.enabled&&!e.attr(h);i.enable(t.enable);if(t.enable)i._tabindex();i._badge();e.on(d+p,i._click.bind(i)).on("focus"+p,i._focus.bind(i)).on("blur"+p,i._blur.bind(i)).on("keydown"+p,i._keydown.bind(i)).on("keyup"+p,i._removeActive.bind(i)).on(u+p,i._addActive.bind(i)).on(f+p+" "+c+p,i._removeActive.bind(i));a.notify(i)},destroy:function(){var e=this;e.wrapper.off(p);if(e.badge)e.badge.destroy();o.fn.destroy.call(e)},events:[d],options:{name:"Button",enable:true,enabled:true,icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",badge:null,size:"medium",shape:"rectangle",rounded:"medium",fillMode:"solid",themeColor:"base"},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(e){if(this.options.enable)if(this.trigger(d,{event:e}))e.preventDefault()},_focus:function(){if(this.options.enable)this.element.addClass(t)},_blur:function(){var e=this;e.element.removeClass(t);setTimeout(function(){e.element.removeClass(g)})},_keydown:function(e){var t=this;if(e.keyCode==i.ENTER||e.keyCode==i.SPACEBAR){t._addActive();if(!t._isNativeButton()){if(e.keyCode==i.SPACEBAR)e.preventDefault();t._click(e)}}},_removeActive:function(){this.element.removeClass(g)},_addActive:function(){if(this.options.enable)this.element.addClass(g)},enable:function(e){var t=this,i=t.element;if(e===r)e=true;e=!!e;t.options.enable=e;i.toggleClass(m,!e).attr("aria-disabled",!e).attr(h,!e);if(e)t._tabindex();try{i.trigger("blur")}catch(e){}},_badge:function(){var e=this;var t=e.options.badge;var i;if(t===null||t===r)return;if(t.constructor!==Object)t={text:t};if(t.position===r||t.position===""){t.position="edge";if(t.align===r||t.align==="")t.align="top end"}t._classNames=["k-button-badge"];e.element.addClass("k-badge-container");i=n("<span />").appendTo(e.element);e.badge=new l.Badge(i,t)}}));if(b.fn.hasOwnProperty("defaults")===false)Object.defineProperty(b.fn,"defaults",{get:function(){return a.defaults.button}});return a.cssProperties.registerPrefix("Button","k-button-"),a.cssProperties.registerValues("Button",[{prop:"fillMode",values:a.cssProperties.fillModeValues.concat(["link"])},{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),a.ui.plugin(b),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.binder.min",["kendo.core.min","kendo.data.min"],function(){var H={id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]},f=window.kendo.jQuery,g=void 0,p=window.kendo,n=p.Observable,c=p.data.ObservableObject,v=p.data.ObservableArray,h={}.toString,s={},e=p.Class,b="value",d="source",u="events",m="checked",_="css",r=true,a="function",k="change",t=document.createElement("a");try{delete t.test}catch(e){r=false}var w=n.extend({init:function(e,t){var i=this;n.fn.init.call(i);i.source=e[0];i.parents=e;i.path=t;i.dependencies={};i.dependencies[t]=true;i.observable=i.source instanceof n;i._access=function(e){i.dependencies[e.field]=true};if(i.observable){i._change=function(e){i.change(e)};i.source.bind(k,i._change)}},_parents:function(){var e=this.parents;var t=this.get();if(t&&typeof t.parent=="function"){var i=t.parent();if(f.inArray(i,e)<0)e=[i].concat(e)}return e},change:function(e){var t,i,n=e.field,r=this;if(r.path==="this")r.trigger(k,e);else for(t in r.dependencies)if(t.indexOf(n)===0){i=t.charAt(n.length);if(!i||i==="."||i==="["){r.trigger(k,e);break}}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,t=e.source,i=0,n=e.path,r=t;if(!e.observable)return r;e.start(e.source);r=t.get(n);while(r===g&&t){t=e.parents[++i];if(t instanceof c)r=t.get(n)}if(r===g){t=e.source;while(r===g&&t){t=t.parent();if(t instanceof c)r=t.get(n)}}if(typeof r==="function"){i=n.lastIndexOf(".");if(i>0)t=t.get(n.substring(0,i));e.start(t);if(t!==e.source)r=r.call(t,e.source);else r=r.call(t);e.stop(t)}if(t&&t!==e.source){e.currentSource=t;t.unbind(k,e._change).bind(k,e._change)}e.stop(e.source);return r},set:function(e){var t=this.currentSource||this.source;var i=p.getter(this.path)(t);if(typeof i==="function")if(t!==this.source)i.call(t,this.source,e);else i.call(t,e);else t.set(this.path,e)},destroy:function(){if(this.observable){this.source.unbind(k,this._change);if(this.currentSource)this.currentSource.unbind(k,this._change)}this.unbind()}}),y=w.extend({get:function(){var e=this.source,t=this.path,i=0,n;n=e.get(t);while(!n&&e){e=this.parents[++i];if(e instanceof c)n=e.get(t)}if(!n)return;return n.bind(e)}}),x=w.extend({init:function(e,t,i){var n=this;w.fn.init.call(n,e,t);n.template=i},render:function(e){var t;this.start(this.source);t=p.render(this.template,e);this.stop(this.source);return t}}),o=e.extend({init:function(e,t,i){this.element=e;this.bindings=t;this.options=i},bind:function(e,t){var i=this;e=t?e[t]:e;e.bind(k,function(e){i.refresh(t||e)});i.refresh(t)},destroy:function(){}}),l=o.extend({dataType:function(){var e=this.element.getAttribute("data-"+p.ns+"type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){if(t=="date")e=p.parseDate(e,"yyyy-MM-dd");else if(t=="datetime-local")e=p.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]);else if(t=="number")e=p.parseFloat(e);else if(t=="boolean"){e=e.toLowerCase();if(p.parseFloat(e)!==null)e=Boolean(p.parseFloat(e));else e=e.toLowerCase()==="true"}return e}});function i(d,u,s){return o.extend({init:function(e,t,i){var n=this;o.fn.init.call(n,e.element[0],t,i);n.widget=e;n._dataBinding=n.dataBinding.bind(n);n._dataBound=n.dataBound.bind(n);n._itemChange=n.itemChange.bind(n)},itemChange:function(e){E(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[d]._parents()))},dataBinding:function(e){var t,i,n=this.widget,r=e.removedItems||n.items();for(t=0,i=r.length;t<i;t++)R(r[t],false)},_ns:function(e){e=e||p.ui;var t=[p.ui,p.dataviz.ui,p.mobile.ui];t.splice(f.inArray(e,t),1);t.unshift(e);return p.rolesFromNamespaces(t)},dataBound:function(e){var t,i,n=this.widget,r=e.addedItems||n.items(),a=n[u],o,s,l=p.data.HierarchicalDataSource;if(l&&a instanceof l)return;if(r.length){o=e.addedDataItems||a.flatView();s=this.bindings[d]._parents();for(t=0,i=o.length;t<i;t++)if(r[t])E(r[t],o[t],this._ns(e.ns),[o[t]].concat(s))}},refresh:function(e){var t=this,i,n=t.widget,r,a,o;e=e||{};if(!e.action){t.destroy();n.bind("dataBinding",t._dataBinding);n.bind("dataBound",t._dataBound);n.bind("itemChange",t._itemChange);i=t.bindings[d].get();if(n[u]instanceof p.data.DataSource&&n[u]!=i)if(i instanceof p.data.DataSource)n[s](i);else if(i&&i._dataSource)n[s](i._dataSource);else{r=p.ui.Select&&n instanceof p.ui.Select;a=p.ui.MultiSelect&&n instanceof p.ui.MultiSelect;o=p.ui.DropDownTree&&n instanceof p.ui.DropDownTree;if(!o)n[u].data(i);else n.treeview[u].data(i);if(t.bindings.value&&(r||a))n.value(P(t.bindings.value.get(),n.options.dataValueField))}}},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding);e.unbind("dataBound",this._dataBound);e.unbind("itemChange",this._itemChange)}})}s.attr=o.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),s.css=o.extend({init:function(e,t,i){o.fn.init.call(this,e,t,i);this.classes={}},refresh:function(e){var t=f(this.element),i=this.bindings.css[e],n=this.classes[e]=i.get();if(n)t.addClass(e);else t.removeClass(e)}}),s.style=o.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),s.enabled=o.extend({refresh:function(){if(this.bindings.enabled.get())this.element.removeAttribute("disabled");else this.element.setAttribute("disabled","disabled")}}),s.readonly=o.extend({refresh:function(){if(this.bindings.readonly.get())this.element.setAttribute("readonly","readonly");else this.element.removeAttribute("readonly")}}),s.disabled=o.extend({refresh:function(){if(this.bindings.disabled.get())this.element.setAttribute("disabled","disabled");else this.element.removeAttribute("disabled")}}),s.events=o.extend({init:function(e,t,i){o.fn.init.call(this,e,t,i);this.handlers={}},refresh:function(e){var t=f(this.element),i=this.bindings.events[e],n=this.handlers[e];if(n)t.off(e,n);n=this.handlers[e]=i.get();t.on(e,i.source,n)},destroy:function(){var e=f(this.element),t;for(t in this.handlers)e.off(t,this.handlers[t])}}),s.text=o.extend({refresh:function(){var e=this.bindings.text.get();var t=this.element.getAttribute("data-"+p.ns+"format")||"";if(e==null)e="";f(this.element).text(p.toString(e,t))}}),s.visible=o.extend({refresh:function(){if(this.bindings.visible.get())this.element.style.display="";else this.element.style.display="none"}}),s.invisible=o.extend({refresh:function(){if(!this.bindings.invisible.get())this.element.style.display="";else this.element.style.display="none"}}),s.html=o.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),s.value=l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);this._change=this.change.bind(this);this.eventName=i.valueUpdate||k;f(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=k;this.bindings[b].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){var e=this.bindings[b].get();if(e==null)e="";var t=this.dataType();if(t=="date")e=p.toString(e,"yyyy-MM-dd");else if(t=="datetime-local")e=p.toString(e,"yyyy-MM-ddTHH:mm:ss");this.element.value=e}this._initChange=false},destroy:function(){f(this.element).off(this.eventName,this._change)}}),s.source=o.extend({init:function(e,t,i){o.fn.init.call(this,e,t,i);var n=this.bindings.source.get();if(n instanceof p.data.DataSource&&i.autoBind!==false)n.fetch()},refresh:function(e){var t=this,i=t.bindings.source.get();if(i instanceof v||i instanceof p.data.DataSource){e=e||{};if(e.action=="add")t.add(e.index,e.items);else if(e.action=="remove")t.remove(e.index,e.items);else if(e.action!="itemchange")t.render()}else t.render()},container:function(){var e=this.element;if(e.nodeName.toLowerCase()=="table"){if(!e.tBodies[0])e.appendChild(document.createElement("tbody"));e=e.tBodies[0]}return e},template:function(){var e=this.options,t=e.template,i=this.container().nodeName.toLowerCase();if(!t){if(i=="select")if(e.valueField||e.textField)t=p.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField);else t="<option>#:data#</option>";else if(i=="tbody")t="<tr><td>#:data#</td></tr>";else if(i=="ul"||i=="ol")t="<li>#:data#</li>";else t="#:data#";t=p.template(t)}return t},add:function(e,t){var i=this.container(),n,r,a,o,s=i.cloneNode(false),l=i.children[e];f(s).html(p.render(this.template(),t));if(s.children.length){n=this.bindings.source._parents();for(r=0,a=t.length;r<a;r++){o=s.children[0];i.insertBefore(o,l||null);E(o,t[r],this.options.roles,[t[r]].concat(n))}}},remove:function(e,t){var i,n=this.container();for(i=0;i<t.length;i++){var r=n.children[e];R(r,true);if(r.parentNode==n)n.removeChild(r)}},render:function(){var e=this.bindings.source.get(),t,i,n,r=this.container(),a=this.template();if(e==null)return;if(e instanceof p.data.DataSource)e=e.view();if(!(e instanceof v)&&h.call(e)!=="[object Array]")e=[e];if(this.bindings.template){N(r,true);f(r).html(this.bindings.template.render(e));if(r.children.length){t=this.bindings.source._parents();for(i=0,n=e.length;i<n;i++)E(r.children[i],e[i],this.options.roles,[e[i]].concat(t))}}else f(r).html(p.render(a,e))}}),s.input={checked:l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);this._change=this.change.bind(this);f(this.element).change(this._change)},change:function(){var e=this.element;var t=this.value();if(e.type=="radio"){t=this.parsedValue();this.bindings[m].set(t)}else if(e.type=="checkbox"){var i=this.bindings[m].get();var n;if(i instanceof v){t=this.parsedValue();if(t instanceof Date){for(var r=0;r<i.length;r++)if(i[r]instanceof Date&&+i[r]===+t){n=r;break}}else n=i.indexOf(t);if(n>-1)i.splice(n,1);else i.push(t)}else this.bindings[m].set(t)}},refresh:function(){var e=this.bindings[m].get(),t=e,i=this.dataType(),n=this.element;if(n.type=="checkbox")if(t instanceof v){var r=-1;e=this.parsedValue();if(e instanceof Date){for(var a=0;a<t.length;a++)if(t[a]instanceof Date&&+t[a]===+e){r=a;break}}else r=t.indexOf(e);n.checked=r>=0}else n.checked=t;else if(n.type=="radio"){if(i=="date")e=p.toString(e,"yyyy-MM-dd");else if(i=="datetime-local")e=p.toString(e,"yyyy-MM-ddTHH:mm:ss");if(e!==null&&typeof e!=="undefined"&&n.value===e.toString())n.checked=true;else n.checked=false}},value:function(){var e=this.element,t=e.value;if(e.type=="checkbox")t=e.checked;return t},destroy:function(){f(this.element).off(k,this._change)}})},s.select={source:s.source.extend({refresh:function(e){var t=this,i=t.bindings.source.get();if(i instanceof v||i instanceof p.data.DataSource){e=e||{};if(e.action=="add")t.add(e.index,e.items);else if(e.action=="remove")t.remove(e.index,e.items);else if(e.action=="itemchange"||e.action===g){t.render();if(t.bindings.value)if(t.bindings.value){var n=P(t.bindings.value.get(),f(t.element).data("valueField"));if(n===null)t.element.selectedIndex=-1;else t.element.value=n}}}else t.render()}}),value:l.extend({init:function(e,t,i){l.fn.init.call(this,e,t,i);this._change=this.change.bind(this);f(this.element).change(this._change)},parsedValue:function(){var e=this.dataType();var t=[];var i,n,r,a;for(r=0,a=this.element.options.length;r<a;r++){n=this.element.options[r];if(n.selected){i=n.attributes.value;if(i&&i.specified)i=n.value;else i=n.text;t.push(this._parseValue(i,e))}}return t},change:function(){var e=[],t=this.element,i,n=this.options.valueField||this.options.textField,r=this.options.valuePrimitive,a,o,s,l,d;for(l=0,d=t.options.length;l<d;l++){a=t.options[l];if(a.selected){s=a.attributes.value;if(s&&s.specified)s=a.value;else s=a.text;if(n)e.push(s);else e.push(this._parseValue(s,this.dataType()))}}if(n){i=this.bindings.source.get();if(i instanceof p.data.DataSource)i=i.view();for(o=0;o<e.length;o++)for(l=0,d=i.length;l<d;l++){var u=i[l].get(n);var f=String(u)===e[o];if(f){e[o]=i[l];break}}}s=this.bindings[b].get();if(s instanceof v)s.splice.apply(s,[0,s.length].concat(e));else if(!r&&(s instanceof c||s===null||s===g||!n))this.bindings[b].set(e[0]);else this.bindings[b].set(e[0].get(n))},refresh:function(){var e,t=this.element,i=t.options,n=this.bindings[b].get(),r=n,a=this.options.valueField||this.options.textField,o=false,s=this.dataType(),l;if(!(r instanceof v))r=new v([n]);t.selectedIndex=-1;for(var d=0;d<r.length;d++){n=r[d];if(a&&n instanceof c)n=n.get(a);if(s=="date")n=p.toString(r[d],"yyyy-MM-dd");else if(s=="datetime-local")n=p.toString(r[d],"yyyy-MM-ddTHH:mm:ss");for(e=0;e<i.length;e++){l=i[e].value;if(l===""&&n!=="")l=i[e].text;if(n!=null&&l==n.toString()){i[e].selected=true;o=true}}}},destroy:function(){f(this.element).off(k,this._change)}})},s.widget={events:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this.handlers={}},refresh:function(e){var t=this.bindings.events[e],i=this.handlers[e];if(i)this.widget.unbind(e,i);i=t.get();this.handlers[e]=function(e){e.data=t.source;i(e);if(e.data===t.source)delete e.data};this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.bind(k,this._change)},change:function(){this.bindings[m].set(this.value())},refresh:function(){if(this.element.type==="radio")this.widget.check(this.bindings[m].get().toString()===this.value());else this.widget.check(this.bindings[m].get()===true)},value:function(){var e=this.element,t=e.value;if(t=="on"||t=="off"||this.element.type=="checkbox")t=e.checked;return t},destroy:function(){this.widget.unbind(k,this._change)}}),start:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this._change=this.change.bind(this);this.widget=e;this.widget.bind(k,this._change)},change:function(){this.bindings.start.set(this.widget.range().start)},refresh:function(){var e=this;var t=this.bindings.start.get();var i=e.widget._range?e.widget._range.end:null;this.widget.range({start:t,end:i})},destroy:function(){this.widget.unbind(k,this._change)}}),end:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this._change=this.change.bind(this);this.widget=e;this.widget.bind(k,this._change)},change:function(){this.bindings.end.set(this.widget.range().end)},refresh:function(){var e=this;var t=this.bindings.end.get();var i=e.widget._range?e.widget._range.start:null;this.widget.range({start:i,end:t})},destroy:function(){this.widget.unbind(k,this._change)}}),visible:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),floatingLabel:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);if(!e.floatingLabel)return;e.floatingLabel.refresh()}}),enabled:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){if(this.widget.enable)this.widget.enable(this.bindings.enabled.get())}}),disabled:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){if(this.widget.enable)this.widget.enable(!this.bindings.disabled.get())}}),source:i("source","dataSource","setDataSource"),value:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.first(k,this._change);var n=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(n==null||n instanceof c);this._valueIsObservableArray=n instanceof v;this._initChange=false},_source:function(){var e;if(this.widget.dataItem){e=this.widget.dataItem();if(e&&e instanceof c)return[e]}if(this.bindings.source)e=this.bindings.source.get();if(!e||e instanceof p.data.DataSource)e=this.widget.dataSource.flatView();return e},change:function(){var e=this.widget.value(),t=this.options.dataValueField||this.options.dataTextField,i=h.call(e)==="[object Array]",n=this._valueIsObservableObject,r,a,o=[],s,l,d,u,f;this._initChange=true;if(t)if(e===""&&(n||this.options.valuePrimitive))e=null;else{f=this._source();if(i){a=e.length;o=e.slice(0)}for(d=0,u=f.length;d<u;d++){s=f[d];l=s.get(t);if(i){for(r=0;r<a;r++)if(l==o[r]){o[r]=s;break}}else if(l==e){e=n?s:l;break}}if(o[0])if(this._valueIsObservableArray)e=o;else if(n||!t)e=o[0];else e=o[0].get(t)}this.bindings.value.set(e);this._initChange=false},refresh:function(){if(!this._initChange){var e=this.widget;var t=e.options;var i=t.dataTextField;var n=t.dataValueField||i;var r=this.bindings.value.get();var a=t.text||"";var o=0,s;var l=[];if(r===g)r=null;if(n)if(r instanceof v){for(s=r.length;o<s;o++)l[o]=r[o].get(n);r=l}else if(r instanceof c){a=r.get(i);r=r.get(n)}if(t.autoBind===false&&!t.cascadeFrom&&e.listView&&!e.listView.bound()){if(i===n&&!a)a=r;if(!a&&(r||r===0)&&t.valuePrimitive)e.value(r);else e._preselect(r,a)}else e.value(r)}this._initChange=false},destroy:function(){this.widget.unbind(k,this._change)}}),dropdowntree:{value:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.first(k,this._change);this._initChange=false},change:function(){var e=this,t=e.bindings[b].get(),i=e.options.valuePrimitive,n=e.widget.treeview.select(),r=e.widget._isMultipleSelection()?e.widget._getAllChecked():e.widget.treeview.dataItem(n)||e.widget.value(),a=i||e.widget.options.autoBind===false?e.widget.value():r;var o=this.options.dataValueField||this.options.dataTextField;a=a.slice?a.slice(0):a;e._initChange=true;if(t instanceof v){var s=[];var l=a.length;var d=0,u=0;var f=t[d];var c=false;var p;var h;var m;while(f!==g){m=false;for(u=0;u<l;u++){if(i)c=a[u]==f;else{h=a[u];h=h.get?h.get(o):h;c=h==(f.get?f.get(o):f)}if(c){a.splice(u,1);l-=1;m=true;break}}if(!m){s.push(f);C(t,d,1);p=d}else d+=1;f=t[d]}C(t,t.length,0,a);if(s.length)t.trigger("change",{action:"remove",items:s,index:p});if(a.length)t.trigger("change",{action:"add",items:a,index:t.length-1})}else e.bindings[b].set(a);e._initChange=false},refresh:function(){if(!this._initChange){var e=this.options,t=this.widget,i=e.dataValueField||e.dataTextField,n=this.bindings.value.get(),r=n,a=0,o,s=[],l;if(i)if(n instanceof v){for(o=n.length;a<o;a++){l=n[a];s[a]=l.get?l.get(i):l}n=s}else if(n instanceof c)n=n.get(i);if(e.autoBind===false&&e.valuePrimitive!==true)t._preselect(r,n);else t.value(n)}},destroy:function(){this.widget.unbind(k,this._change)}})},gantt:{dependencies:i("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e;this._change=this.change.bind(this);this.widget.first(k,this._change);this._initChange=false},change:function(){var e=this,t=e.bindings[b].get(),i=e.options.valuePrimitive,n=i?e.widget.value():e.widget.dataItems();var r=this.options.dataValueField||this.options.dataTextField;n=n.slice(0);e._initChange=true;if(t instanceof v){var a=[];var o=n.length;var s=0,l=0;var d=t[s];var u=false;var f;var c;var p;while(d!==g){p=false;for(l=0;l<o;l++){if(i)u=n[l]==d;else{c=n[l];c=c.get?c.get(r):c;u=c==(d.get?d.get(r):d)}if(u){n.splice(l,1);o-=1;p=true;break}}if(!p){a.push(d);C(t,s,1);f=s}else s+=1;d=t[s]}C(t,t.length,0,n);if(a.length)t.trigger("change",{action:"remove",items:a,index:f});if(n.length)t.trigger("change",{action:"add",items:n,index:t.length-1})}else e.bindings[b].set(n);e._initChange=false},refresh:function(){if(!this._initChange){var e=this.options,t=this.widget,i=e.dataValueField||e.dataTextField,n=this.bindings.value.get(),r=n,a=0,o,s=[],l;if(n===g)n=null;if(i)if(n instanceof v){for(o=n.length;a<o;a++){l=n[a];s[a]=l.get?l.get(i):l}n=s}else if(n instanceof c)n=n.get(i);if(e.autoBind===false&&e.valuePrimitive!==true&&!t._isBound())t._preselect(r,n);else t.value(n)}},destroy:function(){this.widget.unbind(k,this._change)}})},scheduler:{source:i("source","dataSource","setDataSource").extend({dataBound:function(e){var t;var i;var n=this.widget;var r=e.addedItems||n.items();var a,o;if(r.length){a=e.addedDataItems||n.dataItems();o=this.bindings.source._parents();for(t=0,i=a.length;t<i;t++)E(r[t],a[t],this._ns(e.ns),[a[t]].concat(o))}}})},grid:{source:i("source","dataSource","setDataSource").extend({dataBound:function(e){var t,i,n=this.widget,r=e.addedItems||n.items(),a,o;if(r.length){o=e.addedDataItems||n.dataItems();a=this.bindings.source._parents();for(t=0,i=o.length;t<i;t++)E(r[t],o[t],this._ns(e.ns),[o[t]].concat(a))}}})},badge:{text:o.extend({init:function(e,t,i){o.fn.init.call(this,e.element[0],t,i);this.widget=e},refresh:function(){var e=this.bindings.text.get();if(e==null)e="";this.widget.text(e)}})}};var C=function(e,t,i,n){n=n||[];i=i||0;var r=n.length;var a=e.length;var o=[].slice.call(e,t+i);var s=o.length;var l;if(r){r=t+r;l=0;for(;t<r;t++){e[t]=n[l];l++}e.length=r}else if(i){e.length=t;i+=t;while(t<i)delete e[--i]}if(s){s=t+s;l=0;for(;t<s;t++){e[t]=o[l];l++}e.length=s}t=e.length;while(t<a){delete e[t];t++}},T=e.extend({init:function(e,t){this.target=e;this.options=t;this.toDestroy=[]},bind:function(e){var t,i,n,r,a,o,s=this instanceof S,l=this.binders();for(t in e)if(t==b)i=true;else if(t==d)n=true;else if(t==u&&!s)r=true;else if(t==m)a=true;else if(t==_)o=true;else this.applyBinding(t,e,l);if(n)this.applyBinding(d,e,l);if(i)this.applyBinding(b,e,l);if(a)this.applyBinding(m,e,l);if(r&&!s)this.applyBinding(u,e,l);if(o&&!s)this.applyBinding(_,e,l);if(s&&this.target&&this.target.floatingLabel)this.applyBinding("floatingLabel",e,l)},binders:function(){return s[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,i){var n=i[e]||s[e],r=this.toDestroy,a,o=t[e];if(n){n=new n(this.target,t,this.options);r.push(n);if(o instanceof w){n.bind(o);r.push(o)}else for(a in o){n.bind(o,a);r.push(o[a])}}else if(e!=="template")throw new Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,i=this.toDestroy;for(e=0,t=i.length;e<t;e++)i[e].destroy()}}),S=T.extend({binders:function(){return s.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,i){var n=i[e]||s.widget[e],r=this.toDestroy,a,o=t[e];if(n){n=new n(this.target,t,this.target.options);r.push(n);if(o instanceof w){n.bind(o);r.push(o)}else for(a in o){n.bind(o,a);r.push(o[a])}}else throw new Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget")}});function D(e,t){var i=p.initWidget(e,{},t);if(i)return new S(i)}var M=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,O=/\s/g;function F(e){var t={},i,n,r,a,o,s,l;l=e.match(M);for(i=0,n=l.length;i<n;i++){r=l[i];a=r.indexOf(":");o=r.substring(0,a);s=r.substring(a+1);if(s.charAt(0)=="{")s=F(s);t[o]=s}return t}function I(e,t,i){var n,r={};for(n in e)r[n]=new i(t,e[n]);return r}function E(e,t,i,n){if(!e||e.getAttribute("data-"+p.ns+"stop"))return;var r=e.getAttribute("data-"+p.ns+"role"),a,o=e.getAttribute("data-"+p.ns+"bind"),s=[],l=true,d,u={},f;n=n||[t];if(r||o)A(e,false);if(r)f=D(e,i);if(o){o=F(o.replace(O,""));if(!f){u=p.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:k,valuePrimitive:false,autoBind:true},t);u.roles=i;f=new T(e,u)}f.source=t;d=I(o,n,w);if(u.template)d.template=new x(n,"",u.template);if(d.click){o.events=o.events||{};o.events.click=o.click;d.click.destroy();delete d.click}if(d.source)l=false;if(o.attr)d.attr=I(o.attr,n,w);if(o.style)d.style=I(o.style,n,w);if(o.events)d.events=I(o.events,n,y);if(o.css)d.css=I(o.css,n,w);f.bind(d)}if(f)e.kendoBindingTarget=f;var c=e.children;if(l&&c&&!e.getAttribute("data-"+p.ns+"stop")){for(a=0;a<c.length;a++)s[a]=c[a];for(a=0;a<s.length;a++)E(s[a],t,i,n)}}function z(e,t){var i,n,r,a=p.rolesFromNamespaces([].slice.call(arguments,2));t=p.observable(t);e=f(e);for(i=0,n=e.length;i<n;i++){r=e[i];if(r.nodeType===1)E(r,t,a)}}function A(e,t){var i=e.kendoBindingTarget;if(i){i.destroy();if(r)delete e.kendoBindingTarget;else if(e.removeAttribute)e.removeAttribute("kendoBindingTarget");else e.kendoBindingTarget=null}if(t){var n=p.widgetInstance(f(e));if(n&&typeof n.destroy===a)n.destroy()}}function R(e,t){A(e,t);N(e,t)}function N(e,t){var i=e.children;if(i)for(var n=0,r=i.length;n<r;n++)R(i[n],t)}function L(e){var t,i;e=f(e);for(t=0,i=e.length;t<i;t++)R(e[t],false)}function B(e,t){var i=e.element,n=i[0].kendoBindingTarget;if(n)z(i,n.source,t)}function P(e,t){var i=[];var n=0;var r;var a;if(!t)return e;if(e instanceof v){for(r=e.length;n<r;n++){a=e[n];i[n]=a.get?a.get(t):a[t]}e=i}else if(e instanceof c)e=e.get(t);return e}return p.unbind=L,p.bind=z,p.data.binders=s,p.data.Binder=o,p.notify=B,p.observable=function(e){if(!(e instanceof c))e=new c(e);return e},p.observableHierarchy=function(e){var t=p.data.HierarchicalDataSource.create(e);function n(e){var t,i;for(t=0;t<e.length;t++){e[t]._initChildren();i=e[t].children;i.fetch();e[t].items=i.data();n(e[t].items)}}t.fetch();n(t.data());t._data._dataSource=t;return t._data},window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.floatinglabel.min",["kendo.core.min"],function(){var e={id:"floatinglabel",name:"FloatingLabel",category:"framework",depends:["core"],hidden:true},n=window.kendo.jQuery,r=void 0,a=window.kendo,o=a.ui.Widget,t=a.ui,s=".kendoFloatingLabel",l="k-floating-label-container",i="k-state-empty",d="k-focus",u="k-disabled",f="k-no-click",c="k-readonly",p=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);t=n.extend(true,{},t);i.refresh();i._editable({readonly:i.options.widget.options.readonly!==r?i.options.widget.options.readonly:false,disable:i.options.widget.options.enable!==r?!i.options.widget.options.enable:false});i.element.addClass(l);a.notify(i)},options:{name:"FloatingLabel",widget:null,useReadOnlyClass:false},readonly:function(e){this._editable({readonly:e===r?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===r?true:e)})},refresh:function(){var e=this;var t=e.element;t.removeClass(i).removeClass(d);if(!e.options.widget.element.val())t.addClass(i);if(document.activeElement===e.options.widget.element[0])t.addClass(d)},destroy:function(){var e=this;e.element.off(s);o.fn.destroy.call(e)},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;i.off(s);if(!r&&!n){i.removeClass(u).removeClass(t.options.useReadOnlyClass?c:f);i.on("focusin"+s,t.refresh.bind(t));i.on("focusout"+s,t.refresh.bind(t))}else i.toggleClass(u,n).toggleClass(t.options.useReadOnlyClass?c:f,r)}});return t.plugin(p),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.textbox.min",["kendo.core.min","kendo.floatinglabel.min"],function(){var e={id:"textbox",name:"TextBox",category:"web",description:"The TextBox widget enables you to style and provide a floating label functionality to input elements",depends:["core","floatinglabel"]},o=window.kendo.jQuery,n=void 0,s=window.kendo,r=s.ui.Widget,t=s.ui,l=o.isPlainObject,d=".kendoTextBox",a="change",u="disabled",f="readonly",c="k-input-inner",i="k-focus",p="k-label k-input-label",h="k-disabled",m="k-no-click",g="aria-disabled",v=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);t=o.extend(true,{},t);i.options.value=t.value||i.element.val();i.options.readonly=t.readonly!==n?t.readonly:Boolean(i.element.attr("readonly"));i.options.enable=t.enable!==n?t.enable:!Boolean(i.element.attr("disabled"));i.options.placeholder=t.placeholder||i.element.attr("placeholder");i.value(i.options.value);i._wrapper();i._label();i._editable({readonly:i.options.readonly,disable:!i.options.enable});i.element.addClass(c).attr("placeholder",i.options.placeholder).attr("autocomplete","off");s.notify(i);i._applyCssClasses()},events:[a],options:{name:"TextBox",value:"",readonly:false,enable:true,placeholder:"",label:null,rounded:"medium",size:"medium",fillMode:"solid"},value:function(e){var t=this;if(e===n)return t._value;t._value=e;t.element.val(e)},readonly:function(e){var t=this;this._editable({readonly:e===n?true:e,disable:false});if(t.floatingLabel)t.floatingLabel.readonly(e===n?true:e)},enable:function(e){var t=this;this._editable({readonly:false,disable:!(e=e===n?true:e)});if(t.floatingLabel)t.floatingLabel.enable(e=e===n?true:e)},focus:function(){var e=this;e.element[0].focus()},destroy:function(){var e=this;if(e.floatingLabel)e.floatingLabel.destroy();e.element.off(d);e.element[0].style.width="";e.element.removeClass(c);r.fn.destroy.call(e)},setOptions:function(e){this.destroy();this.element.unwrap();if(this._floatingLabelContainer){this._inputLabel.remove();this._inputLabel=null;this.element.unwrap();this._floatingLabelContainer=null}s.deepExtend(this.options,e);this.init(this.element,this.options)},_editable:function(e){var t=this;var i=t.element;var n=t.wrapper;var r=e.disable;var a=e.readonly;i.off(d);if(!a&&!r){i.prop(u,false).prop(f,false).attr(g,false);n.removeClass(h).removeClass(m);i.on("focusin"+d,t._focusin.bind(t));i.on("focusout"+d,t._focusout.bind(t));i.on("change"+d,t._change.bind(t))}else{i.attr(u,r).attr(f,a).attr(g,r);n.toggleClass(h,r).toggleClass(m,a)}},_label:function(){var e=this;var t=e.element;var i=e.options;var n=t.attr("id");var r;var a;if(i.label!==null){r=l(i.label)?i.label.floating:false;a=l(i.label)?i.label.content:i.label;if(r){e._floatingLabelContainer=e.wrapper.wrap("<span></span>").parent();e.floatingLabel=new s.ui.FloatingLabel(e._floatingLabelContainer,{widget:e})}if(s.isFunction(a))a=a.call(e);if(!a)a="";if(!n){n=i.name+"_"+s.guid();t.attr("id",n)}e._inputLabel=o("<label class='"+p+"' for='"+n+"'>"+a+"</label>'").insertBefore(e.wrapper)}},_focusin:function(){var e=this;e.wrapper.addClass(i)},_focusout:function(){var e=this;e.wrapper.removeClass(i)},_change:function(e){var t=this;var i=t.element.val();t._value=i;t.trigger(a,{value:i,originalEvent:e})},_wrapper:function(){var e=this;var t=e.element;var i=t[0];var n;n=t.wrap("<span class='k-input k-textbox'></span>").parent();n[0].style.cssText=i.style.cssText;i.style.width="100%";e.wrapper=n.addClass(i.className).removeClass("input-validation-error")}});return s.cssProperties.registerPrefix("TextBox","k-input-"),s.cssProperties.registerValues("TextBox",[{prop:"rounded",values:s.cssProperties.roundedValues.concat([["full","full"]])}]),t.plugin(v),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.numerictextbox.min",["kendo.core.min","kendo.userevents.min","kendo.floatinglabel.min","kendo.html.button.min"],function(){var H={id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents","floatinglabel","html.button"]},u=window.kendo.jQuery,f=void 0,c=window.kendo,p=c.caret,n=c.keys,a=c.html,e=c.ui,h=e.Widget,o=c._activeElement,m=c._extractFormat,i=c.parseFloat,r=c.support.placeholder,t=c.getCulture,s="change",l="disabled",d="readonly",g="k-input-inner",v="spin",b=".kendoNumericTextBox",_="touchend",M,k="mouseenter"+b+" "+("mouseleave"+b),w="k-focus",y="k-hover",x="focus",C=".",T="symbol",S="k-icon",D="k-label k-input-label",F="k-selected",I="k-disabled",E="k-invalid",z="aria-disabled",O=/^(-)?(\d*)$/,A=null,R=u.isPlainObject,N=u.extend,L=h.extend({init:function(e,t){var i=this,n=t&&t.step!==f,r,a,o,s,l;var d;h.fn.init.call(i,e,t);t=i.options;e=i.element.on("focusout"+b,i._focusout.bind(i)).attr("role","spinbutton");t.placeholder=t.placeholder||e.attr("placeholder");r=i.min(e.attr("min"));a=i.max(e.attr("max"));o=i._parse(e.attr("step"));if(t.min===A&&r!==A)t.min=r;if(t.max===A&&a!==A)t.max=a;if(!n&&o!==A)t.step=o;i._initialOptions=N({},t);d=e.attr("type");i._reset();i._wrapper();i._arrows();i._validation();i._input();if(!c.support.mobileOS)i._text.on(x+b,i._click.bind(i));else i._text.on(_+b+" "+x+b,function(){if(c.support.browser.edge)i._text.one(x+b,function(){i._focusin()});else i._focusin();i.selectValue()});e.attr("aria-valuemin",t.min!==A?t.min*t.factor:t.min).attr("aria-valuemax",t.max!==A?t.max*t.factor:t.max);t.format=m(t.format);s=t.value;if(s==A)if(d=="number")s=parseFloat(e.val());else s=e.val();i.value(s);l=!t.enable||e.is("[disabled]")||u(i.element).parents("fieldset").is(":disabled");if(l)i.enable(false);else i.readonly(e.is("[readonly]"));i.angular("compile",function(){return{elements:i._text.get()}});i._label();i._ariaLabel(i._text);i._applyCssClasses();c.notify(i)},options:{name:"NumericTextBox",decimals:A,enable:true,restrictDecimals:false,min:A,max:A,value:A,step:1,round:true,culture:"",format:"n",spinners:true,placeholder:"",selectOnFocus:false,factor:1,upArrowText:"Increase value",downArrowText:"Decrease value",label:null,size:"medium",fillMode:"solid",rounded:"medium"},events:[s,v],_editable:function(e){var t=this,i=t.element,n=e.disable,r=e.readonly,a=t._text.add(i),o=t.wrapper.off(k);t._toggleText(true);t._upArrowEventHandler.unbind("press");t._downArrowEventHandler.unbind("press");i.off("keydown"+b).off("keyup"+b).off("input"+b).off("paste"+b);if(t._inputLabel)t._inputLabel.off(b);if(!r&&!n){o.removeClass(I).on(k,t._toggleHover);a.prop(l,false).prop(d,false).attr(z,false);t._upArrowEventHandler.bind("press",function(e){e.preventDefault();t._spin(1);t._upArrow.addClass(F)});t._downArrowEventHandler.bind("press",function(e){e.preventDefault();t._spin(-1);t._downArrow.addClass(F)});t.element.on("keydown"+b,t._keydown.bind(t)).on("keyup"+b,t._keyup.bind(t)).on("paste"+b,t._paste.bind(t)).on("input"+b,t._inputHandler.bind(t));if(t._inputLabel)t._inputLabel.on("click"+b,t.focus.bind(t))}else{o.addClass(n?I:"").removeClass(n?"":I);a.attr(l,n).attr(d,r).attr(z,n)}},readonly:function(e){var t=this;this._editable({readonly:e===f?true:e,disable:false});if(t.floatingLabel)t.floatingLabel.readonly(e===f?true:e)},enable:function(e){var t=this;this._editable({readonly:false,disable:!(e=e===f?true:e)});if(t.floatingLabel)t.floatingLabel.enable(e=e===f?true:e)},setOptions:function(e){var t=this;h.fn.setOptions.call(t,e);t.wrapper.toggleClass("k-expand-padding",!t.options.spinners);t._text.prop("placeholder",t.options.placeholder);t._placeholder(t.options.placeholder);t.element.attr({"aria-valuemin":t.options.min!==A?t.options.min*t.options.factor:t.options.min,"aria-valuemax":t.options.max!==A?t.options.max*t.options.factor:t.options.max});t.options.format=m(t.options.format);t._upArrowEventHandler.destroy();t._downArrowEventHandler.destroy();t._arrowsWrap.remove();t._arrows();t._applyCssClasses();if(e.value!==f)t.value(e.value)},destroy:function(){var e=this;if(e._inputLabel){e._inputLabel.off(b);if(e.floatingLabel)e.floatingLabel.destroy()}e.element.add(e._text).add(e._upArrow).add(e._downArrow).off(b);e._upArrowEventHandler.destroy();e._downArrowEventHandler.destroy();if(e._form)e._form.off("reset",e._resetHandler);h.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var t=this,i;if(e===f)return t._value;e=t._parse(e);i=t._adjust(e);if(e!==i)return;t._update(e);t._old=t._value},focus:function(){this._focusin()},_adjust:function(e){var t=this,i=t.options,n=i.min,r=i.max;if(e===A)return e;if(n!==A&&e<n)e=n;else if(r!==A&&e>r)e=r;return e},_arrows:function(){var e=this,t,i=function(){clearTimeout(e._spinning);t.removeClass(F)},n=e.options,r=n.spinners,a=e.element;t=a.siblings(".k-icon-button");if(!t[0]){t=u(P("increase",n.upArrowText,n)+P("decrease",n.downArrowText,n)).appendTo(e.wrapper);e._arrowsWrap=t.wrapAll('<span class="k-input-spinner k-spin-button"/>').parent()}if(!r){t.parent().toggle(r);e.wrapper.addClass("k-expand-padding")}e._upArrow=t.eq(0);e._upArrowEventHandler=new c.UserEvents(e._upArrow,{release:i});e._downArrow=t.eq(1);e._downArrowEventHandler=new c.UserEvents(e._downArrow,{release:i})},_validation:function(){var e=this;var t=e.element;e._validationIcon=u("<span class='k-input-validation-icon "+S+" k-i-warning k-hidden'></span>").insertAfter(t)},_blur:function(){var e=this;e._toggleText(true);e._change(e.element.val())},_click:function(d){var u=this;clearTimeout(u._focusing);u._focusing=setTimeout(function(){var e=d.target,t=p(e)[0],i=e.value.substring(0,t),n=u._format(u.options.format),r=n[","],a,o,s,l=0;if(r){o=new RegExp("\\"+r,"g");s=new RegExp("(-)?("+n[T]+")?([\\d\\"+r+"]+)(\\"+n[C]+")?(\\d+)?")}if(s)a=s.exec(i);if(a){l=a[0].replace(o,"").length;if(i.indexOf("(")!=-1&&u._value<0)l++}u._focusin();p(u.element[0],l);u.selectValue()})},selectValue:function(){if(this.options.selectOnFocus)this.element[0].select()},_getFactorValue:function(e){var t=this,i=t.options.factor;if(i&&i!==1){e=c.parseFloat(e);if(e!==null)e=e/i}return e},_change:function(e){var t=this;e=t._getFactorValue(e);t._update(e);e=t._value;if(t._old!=e){t._old=e;if(!t._typing)t.element.trigger(s);t.trigger(s)}t._typing=false},_culture:function(e){return e||t(this.options.culture)},_focusin:function(){var e=this;e.wrapper.addClass(w);e._toggleText(false);e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing);e.wrapper.removeClass(w).removeClass(y);e._blur();e._removeInvalidState()},_format:function(e,t){var i=this._culture(t).numberFormat;e=e.toLowerCase();if(e.indexOf("c")>-1)i=i.currency;else if(e.indexOf("p")>-1)i=i.percent;return i},_input:function(){var e=this,t=e.options,i=e.element.addClass(g).show()[0],n=i.accessKey,r=e.wrapper,a=r.find(C+g),o;o=a.first();if(o.length<2)o=u('<input type="text"/>').attr(c.attr("validate"),false).insertBefore(i);try{i.setAttribute("type","text")}catch(e){i.type="text"}o[0].title=i.title;o[0].tabIndex=i.tabIndex;o[0].style.cssText=i.style.cssText;o.prop("placeholder",t.placeholder);if(n){o.attr("accesskey",n);i.accessKey=""}e._text=o.addClass(i.className).attr({role:"spinbutton","aria-valuemin":t.min!==A?t.min*t.factor:t.min,"aria-valuemax":t.max!==A?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(e){var t=this,i=e.keyCode;if(i===n.NUMPAD_DOT)t._numPadDot=true;if(i==n.DOWN){t._step(-1);return}else if(i==n.UP){t._step(1);return}else if(i==n.ENTER){t._change(t.element.val());return}if(i!=n.TAB)t._typing=true;t._cachedCaret=p(t.element)},_keyup:function(){this._removeInvalidState()},_inputHandler:function(){var e=this.element;var t=e.val();var i=this.options.min;var n=this._format(this.options.format);var r=n[C];var a=i!==null&&i>=0&&t.charAt(0)==="-";if(this._numPadDot&&r!==C){t=t.replace(C,r);this.element.val(t);this._numPadDot=false}if(this._isPasted&&this._parse(t))t=this._parse(t).toString().replace(C,n[C]);if(this._numericRegex(n).test(t)&&!a)this._oldText=t;else{this._blinkInvalidState();this.element.val(this._oldText);if(this._cachedCaret){p(e,this._cachedCaret[0]);this._cachedCaret=null}}this._isPasted=false},_blinkInvalidState:function(){var e=this;e._addInvalidState();clearTimeout(e._invalidStateTimeout);e._invalidStateTimeout=setTimeout(e._removeInvalidState.bind(e),100)},_addInvalidState:function(){var e=this;e.wrapper.addClass(E);e._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(E);e._validationIcon.addClass("k-hidden");e._invalidStateTimeout=null},_numericRegex:function(e){var t=this;var i=e[C];var n=t.options.decimals;var r="*";if(i===C)i="\\"+i;if(n===A)n=e.decimals;if(n===0&&t.options.restrictDecimals)return O;if(t.options.restrictDecimals)r="{0,"+n+"}";if(t._separator!==i){t._separator=i;t._floatRegExp=new RegExp("^(-)?(((\\d+("+i+"\\d"+r+")?)|("+i+"\\d"+r+")))?$")}return t._floatRegExp},_paste:function(e){var t=this;var i=e.target;var n=i.value;var r=t._format(t.options.format);t._isPasted=true;setTimeout(function(){var e=t._parse(i.value);if(e===A)t._update(n);else{i.value=e.toString().replace(C,r[C]);if(t._adjust(e)!==e||!t._numericRegex(r).test(i.value)){n=t._getFactorValue(i.value);t._update(n)}}})},_option:function(e,t){var i=this,n=i.element,r=i.options;if(t===f)return r[e];t=i._parse(t);if(!t&&e==="step")return;r[e]=t;n.add(i._text).attr("aria-value"+e,t);n.attr(e,t)},_spin:function(e,t){var i=this;t=t||500;clearTimeout(i._spinning);i._spinning=setTimeout(function(){i._spin(e,50)},t);i._step(e)},_step:function(e){var t=this,i=t.element,n=t._value,r=t._parse(i.val())||0,a=t.options.decimals||2;if(o()!=i[0])t._focusin();if(t.options.factor&&r)r=r/t.options.factor;r=+(r+t.options.step*e).toFixed(a);r=t._adjust(r);t._update(r);t._typing=false;if(n!==r)t.trigger(v)},_toggleHover:function(e){u(e.currentTarget).toggleClass(y,e.type==="mouseenter")},_toggleText:function(e){var t=this;t._text.toggle(e);if(e)t._text.removeAttr("aria-hidden");else t._text.attr("aria-hidden","true");t.element.toggle(!e)},_parse:function(e,t){return i(e,this._culture(t),this.options.format)},_round:function(e,t){var i=this.options.round?c._round:B;return i(e,t)},_update:function(e){var t=this,i=t.options,n=i.factor,r=i.format,a=i.decimals,o=t._culture(),s=t._format(r,o),l,d;if(a===A)a=s.decimals;e=t._parse(e,o);d=e!==A;if(d)e=parseFloat(t._round(e,a),10);t._value=e=t._adjust(e);t._placeholder(c.toString(e,r,o));if(d){if(n)e=parseFloat(t._round(e*n,a),10);e=e.toString();if(e.indexOf("e")!==-1)e=t._round(+e,a);l=e;e=e.replace(C,s[C])}else{e=null;l=null}t.element.val(e);t._oldText=e;t.element.add(t._text).attr("aria-valuenow",l)},_placeholder:function(e){var t=this._text;t.val(e);if(!r&&!e)t.val(this.options.placeholder);t.attr("title",this.element.attr("title")||t.val())},_label:function(){var e=this;var t=e.element;var i=e.options;var n=t.attr("id");var r;var a;if(i.label!==null){r=R(i.label)?i.label.floating:false;a=R(i.label)?i.label.content:i.label;if(r){e._floatingLabelContainer=e.wrapper.wrap("<span></span>").parent();e.floatingLabel=new c.ui.FloatingLabel(e._floatingLabelContainer,{widget:e})}if(c.isFunction(a))a=a.call(e);if(!a)a="";if(!n){n=i.name+"_"+c.guid();t.attr("id",n)}e._inputLabel=u("<label class='"+D+"' for='"+n+"'>"+a+"</label>'").insertBefore(e.wrapper);if(e.element.attr("disabled")===f&&e.element.attr("readonly")===f)e._inputLabel.on("click"+b,e.focus.bind(e))}},_wrapper:function(){var e=this,t=e.element,i=t[0],n;n=t.parents(".k-numerictextbox");if(!n.is("span.k-numerictextbox"))n=t.hide().wrap("<span/>").parent();n[0].style.cssText=i.style.cssText;i.style.width="";e.wrapper=n.addClass("k-numerictextbox k-input").addClass(i.className).removeClass("input-validation-error").css("display","")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?u("#"+i):t.closest("form");if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(t[0].value);e.max(e._initialOptions.max);e.min(e._initialOptions.min)})};e._form=n.on("reset",e._resetHandler)}}});function P(e,t,i){var n=e==="increase"?"arrow-n":"arrow-s";var r=e==="increase"?"increase":"decrease";return a.renderButton('<button role="button" tabindex="-1" unselectable="on" class="k-spinner-'+r+'" aria-label="'+t+'" title="'+t+'"></button>',N({},i,{icon:n,shape:null,rounded:null}))}function B(e,t){var i=parseFloat(e,10).toString().split(C);if(i[1])i[1]=i[1].substring(0,t);return i.join(C)}return c.cssProperties.registerPrefix("NumericTextBox","k-input-"),c.cssProperties.registerValues("NumericTextBox",[{prop:"rounded",values:c.cssProperties.roundedValues.concat([["full","full"]])}]),e.plugin(L),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/colorselector.min",["kendo.core.min"],function(){var e=window.kendo.jQuery,t=void 0,i=window.kendo,n=i.ui,r=n.Widget,a=i.parseColor,o=e.extend,s=".kendoColorTools",l="k-disabled",d=r.extend({init:function(e,t){var i=this,n;r.fn.init.call(i,e,t);e=i.element;t=i.options;i._value=t.value=a(t.value);i._tabIndex=e.attr("tabIndex")||0;n=i._ariaId=t.ariaId;if(n)e.attr("aria-labelledby",n);if(t._standalone)i._triggerSelect=i._triggerChange},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","forceSelect","cancel"],color:function(e){if(e!==t){this._value=a(e);this._updateUI(this._value)}return this._value},value:function(e){e=this.color(e);if(e)if(this.options.opacity)e=e.toCssRgba();else e=e.toCss();return e||null},enable:function(e){if(arguments.length===0)e=true;this.wrapper.toggleClass(l,!e);this._onEnable(e)},_select:function(e,t){var i=this._value;e=this.color(e);if(!t)if(e&&!e.equals(i)||e===null&&e!==i){this.element.trigger("change");this.trigger("change",{value:this.value()})}else if(!this._standalone)this.trigger("cancel")},_triggerSelect:function(e){u(this,"select",e)},_triggerChange:function(e){u(this,"change",e)},destroy:function(){if(this.element)this.element.off(s);if(this.wrapper)this.wrapper.off(s).find("*").off(s);this.wrapper=null;r.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function u(e,t,i){i=a(i);if(i&&!i.equals(e.color())||i!==e.color()){if(t=="change")e._value=i;if(i&&i.a!=1)i=i.toCssRgba();else if(i)i=i.toCss();e.trigger(t,{value:i})}}return o(n,{colorpicker:{ColorSelector:d}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/contrastToolUtils.min",["kendo.core.min"],function(){var e=window.kendo.jQuery,t=void 0,i=kendo.ui.colorpicker,c=e.extend,a=kendo.Color,p=kendo.parseColor,n=4.5,r=7,h=16;function o(e,t){var i=Math.max(e,t);var n=Math.min(e,t);return(i+.05)/(n+.05)}function m(e,t){return o(s(l(e,t)),s(l(t,{r:0,g:0,b:0,a:1})))}function s(e){var t=[e.r,e.g,e.b].map(function(e){e/=255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return t[0]*.2126+t[1]*.7152+t[2]*.0722}function l(e,t){var i=d(e.r,0,255);var n=d(e.g,0,255);var r=d(e.b,0,255);var a=d(e.a,0,1);var o=d(t.r,0,255);var s=d(t.g,0,255);var l=d(t.b,0,255);return{r:Math.round((1-a)*o+a*i),g:Math.round((1-a)*s+a*n),b:Math.round((1-a)*l+a*r)}}function d(e,t,i){if(!u(e)||isNaN(e))return t;return e<=t?t:e>=i?i:e}function u(e){return e!==null&&e!==t}function f(l,d,u){var f=function(e,t,i,n,r){var a=(i+n)/2;var o=c({},d,{s:t/l.width,v:1-a/l.height});var s=m(p(k(o)).toBytes(),p(u).toBytes());if(i+.5>n)if(s<e+1&&s>e-1)return a;else return null;if(r(s,e))return f(e,t,i,n-(n-i)/2,r);return f(e,t,i+(n-i)/2,n,r)};var o=function(e,t){return e>t};var s=function(e,t){return e<t};var e=function(e,t,i){var n=[];for(var r=0;r<=l.width;r+=l.width/t){var a=f(e,r,0,l.height,i?s:o);if(a!==null)n.push([r,a])}return n};var t=v(b(_));var i=g(e(n,h,false),t)+g(e(n,h,true),t)+g(e(r,h,false),t)+g(e(r,h,true),t);return'<svg xmlns="http://www.w3.org/2000/svg" style="position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;" >'+i+"</svg>"}function g(e,r){if(e.length===0)return"";var t=function(e,t,i,n){return i===0?kendo.format("M {0},{1}",t[0],t[1]):kendo.format("{0} {1}",e,r(t,i,n))};var i=e.reduce(t,"");return kendo.format('<path d="{0}" fill="none" stroke="white" stroke-width="1"/>',i)}function v(a){return function(e,t,i){var n=a(i[t-1],i[t-2],e);var r=a(e,i[t-1],i[t+1],true);return kendo.format("C {0},{1} {2},{3} {4},{5}",n[0],n[1],r[0],r[1],e[0],e[1])}}function b(c){return function(e,t,i,n){var r=t||e;var a=i||e;var o=.1;var s=c(r,a);var l=s.angle+(n?Math.PI:0);var d=s.length*o;var u=e[0]+Math.cos(l)*d;var f=e[1]+Math.sin(l)*d;return[u,f]}}function _(e,t){var i=t[0]-e[0];var n=t[1]-e[1];return{length:Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),angle:Math.atan2(n,i)}}function k(e){var t=d(e.h,0,359.9);var i=d(e.s,0,1);var n=d(e.v,0,1);var r=d(e.a,0,1);return a.fromHSV(t,i,n,r).toCssRgba()}return c(i,{contrastToolUtils:{getContrastFromTwoRGBAs:m,renderSvgCurveLine:f}}),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/colorgradient.min",["kendo.core.min","./contrastToolUtils.min"],function(){var o=window.kendo.jQuery,e=void 0,l=window.kendo,t=l.ui,n=l.Observable,d=l.parseColor,r=o.extend,u=l.Color,a=l.keys,s="background-color",f="#ffffff",c="#000000",i,p="keydown"+".kendoColorTools",h=t.colorpicker.ColorSelector,m=t.colorpicker.contrastToolUtils;function g(e){e.preventDefault()}function v(e,t){return function(){return e.apply(t,arguments)}}var b=n.extend({init:function(e,t){var i=this;i.element=e;i.options=t;i._viewModel=l.observable({switchMode:i.switchMode.bind(i),keydown:i.keydown.bind(i),mode:function(e){return e===this.get("format")},format:t.format,formats:t.formats,rgb:null,hex:function(){return this.get("rgb")!==null&&this.get("rgb").toCss({alpha:t.opacity})}});i._changeHandler=i.change.bind(i);i._viewModel.bind("change",i._changeHandler);i._render();i.element.on(p,i.keydown.bind(i));n.fn.init.call(i)},_template:l.template("# if (options.formats && options.formats.length > 1) { #"+'<div class="k-vstack">'+'<button class="k-colorgradient-toggle-mode" data-#:ns#role="button" data-#:ns#icon="arrows-kpi" data data-#:ns#bind="click: switchMode" data-#:ns#fill-mode="flat" data-#:ns#size="#: options.size #" title="#: options.messages.toggleFormat #">'+"</button>"+"</div>"+"# } #"+'# if (options.formats && options.formats.indexOf("hex") >= 0) { #'+'<div class="k-vstack k-flex-1" data-#:ns#bind="visible: mode(\'hex\')">'+'<input type="text" data-#:ns#bind="value: hex" data-#:ns#role="textbox" data-#:ns#size="#: options.size #" tabindex="#:options.tabindex#"  aria-label="#: options.messages.hex #"/>'+'<label class="k-colorgradient-input-label">HEX</label>'+"</div>"+"# } #"+'# if (options.formats && options.formats.indexOf("rgb") >= 0) { #'+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.r" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.red #" />'+'<label class="k-colorgradient-input-label">R</label>'+"</div>"+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.g" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.green #" />'+'<label class="k-colorgradient-input-label">G</label>'+"</div>"+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.b" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.blue #"/>'+'<label class="k-colorgradient-input-label">B</label>'+"</div>"+"#if(options.opacity){#"+'<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')">'+'<input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.a" data-#:ns#role="numerictextbox" data-#:ns#size="#: options.size #" data-#:ns#step="0.1" data-#:ns#max="1" data-#:ns#min="0" data-#:ns#decimals="1" data-#:ns#spinners="false" data-#:ns#format="n1"  aria-label="#: options.messages.alpha #" />'+'<label class="k-colorgradient-input-label">A</label>'+"</div>"+"# } #"+"# } #"),destroy:function(){var e=this;e._viewModel.unbind("change",e._changeHandler);l.unbind(e.element);l.destroy(e.element);e.element.off(p);delete e._viewModel;delete e._changeHandler},_render:function(){var e=this;e.element.append(e._template({ns:l.ns,guid:l.guid(),options:e.options})).parent();l.bind(e.element,e._viewModel);e.element.attr("data-"+l.ns+"stop","stop")},value:function(e){var t=this;t._color=e&&e.toBytes()||d(c);t._preventChangeEvent=true;t._viewModel.set("rgb",t._color);delete t._preventChangeEvent},reset:function(){var e=this;e._preventChangeEvent=true;e._viewModel.set("rgb",d(c));delete e._preventChangeEvent},switchMode:function(){var e=this,t=e._viewModel,i=t.format,n=t.formats.indexOf(i)+1;n=n>=t.formats.length?0:n;e._preventChangeEvent=true;e._viewModel.set("format",t.formats[n]);delete e._preventChangeEvent},change:function(e){var t=this;if(e.field.indexOf("rgb")>=0){t._color=t._tryParseColor(t._viewModel.rgb.toCssRgba());t._viewModel.set("hex",t._color.toCss({alpha:t.options.opacity}))}else if(e.field==="hex"){t._color=t._tryParseColor(e.sender[e.field]);t._viewModel.set("rgb",t._color)}if(!t._preventChangeEvent)t.trigger("change",{value:t._color})},_tryParseColor:function(t){var i=this;try{t=d(t)||i._color}catch(e){t=i._color}return t},keydown:function(e){var t=this,i=o(e.target).data("kendoTextBox");if(e.keyCode===a.ENTER&&o(e.target).is("input")){if(i&&i._change)i._change();t.trigger("change",{value:t._color});t.trigger("select",{value:t._color})}}}),_=h.extend({init:function(e,t){var i=this,n;h.fn.init.call(i,e,t);t=i.options=l.deepExtend({},i.options,t);if(t.messages.previewInput)t.messages.hex=t.messages.previewInput;t.messages=t.messages?o.extend(i.options.messages,t.messages):i.options.messages;e=i.element;i.wrapper=e.addClass("k-colorgradient").append(i._template(t));i._hueElements=o(".k-hsv-rectangle, .k-alpha-slider .k-slider-track",e);i._colorgradientInputs=o(".k-colorgradient-inputs",e);i._contrastTool=o(".k-colorgradient-color-contrast",e);i._sliders();i._hsvArea();n=i._value;if(i._colorgradientInputs.length){i._colorInput=new b(i._colorgradientInputs,r({},t,{tabindex:this._tabIndex}));i._colorInput.bind("change",function(e){i._updateUI(e.value,true)});i._colorInput.bind("select",function(e){var t=d(e.value);i._select(t);i.trigger("forceSelect",{value:i.value()})})}i._updateUI(n)},options:{name:"ColorGradient",opacity:false,input:true,format:"hex",formats:["rgb","hex"],contrastTool:false,size:"medium",messages:{contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha"}},_template:l.template('<div class="k-colorgradient-canvas k-hstack">'+'<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-hsv-draghandle k-draghandle"></div></div>'+'<div class="k-hsv-controls k-hstack">'+'<input class="k-hue-slider k-colorgradient-slider" />'+"# if (opacity) { #"+'<input class="k-alpha-slider k-colorgradient-slider" />'+"# } #"+"</div>"+"</div>"+"# if (input) { #"+'<div class="k-colorgradient-inputs k-hstack">'+"</div>"+"# } #"+"# if (contrastTool) { #"+'<div class="k-colorgradient-color-contrast k-vbox">'+"</div>"+"# } #"),_onEnable:function(e){this._hueSlider.enable(e);if(this._opacitySlider)this._opacitySlider.enable(e);this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");if(e)t.attr("tabIndex",this._tabIndex);else t.removeAttr("tabIndex")},_sliders:function(){var t=this,e=t.element,i=e.find(".k-hue-slider"),n=e.find(".k-alpha-slider");function r(e){t._updateUI(t._getHSV(e.value,null,null,null))}i.attr("aria-label","hue saturation");t._hueSlider=i.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:false,orientation:"vertical",slide:r,change:r}).data("kendoSlider");function a(e){t._updateUI(t._getHSV(null,null,null,e.value/100))}n.attr("aria-label","opacity");t._opacitySlider=n.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,orientation:"vertical",slide:a,change:a}).data("kendoSlider")},_hsvArea:function(){var s=this,e=s.element,t=e.find(".k-hsv-rectangle"),i=t.find(".k-draghandle").attr("tabIndex",0).on(p,v(s._keydown,s));function n(e,t){var i=this.offset,n=e-i.left,r=t-i.top,a=this.width,o=this.height;n=n<0?0:n>a?a:n;r=r<0?0:r>o?o:r;s._svChange(n/a,1-r/o)}s._hsvEvents=new l.UserEvents(t,{global:true,press:function(e){this.offset=l.getOffset(t);this.width=t.width();this.height=t.height();i.focus();n.call(this,e.x.location,e.y.location)},start:function(){t.addClass("k-dragging");i.focus()},move:function(e){e.preventDefault();n.call(this,e.x.location,e.y.location)},end:function(){t.removeClass("k-dragging")}});s._hsvRect=t;s._hsvHandle=i},setBackgroundColor:function(e){var t=this;if(t.options.contrastTool){t.options.contrastTool=o.isPlainObject(t.options.contrastTool)?r({},t.options.contrastTool,{backgroundColor:e}):{backgroundColor:e};t._updateColorContrast(t.color()||d(f))}},_updateUI:function(e,t){var i=this;if(!e){i._reset();return}if(!t&&i._colorInput)i._colorInput.value(e);i._triggerSelect(e);i._updateHsv(e);if(i._contrastTool.length)i._updateColorContrast(e)},_reset:function(){var e=this;if(e._colorInput)e._colorInput.reset();e._resetHsv();e._resetColorContrast()},_resetHsv:function(){var e=this,t=d(c);e._updateHsv(t)},_updateHsv:function(e){var t=this,i=t._hsvRect;e=e.toHSV();t._hsvHandle.css({left:e.s*i.width()+"px",top:(1-e.v)*i.height()+"px"});t._hueElements.css(s,u.fromHSV(e.h,1,1,1).toCss());t._hueSlider.value(e.h);if(t._opacitySlider){t._opacitySlider.wrapper.find(".k-slider-track").css("background","linear-gradient(to top, transparent, "+u.fromHSV(e.h,1,1,1).toCss());t._opacitySlider.value(100*e.a)}},_resetColorContrast:function(){var e=this,t=e.options.contrastTool;if(e._contrastTool.length)e._updateColorContrast(t.backgroundColor?d(t.backgroundColor):d(f))},_updateColorContrast:function(e){var t=this,i=t.options.contrastTool,n=i.backgroundColor?d(i.backgroundColor):d(f),r=m.getContrastFromTwoRGBAs(d(e.toCssRgba()),n),a=l.template('<div class="k-contrast-ratio">'+'<span class="k-contrast-ratio-text">#:messages.contrastRatio# #:kendo.toString(ratio, "n2")#</span>'+'<span class="k-contrast-validation k-text-success">'+"#if (ratio > 4.5) {#"+'<span class="k-icon k-i-check"></span>'+"#}#"+"#if (ratio > 7) {#"+'<span class="k-icon k-i-check"></span>'+"#}#"+"</span></div>"),o=l.template("<div>"+"<span>#:level#: #:limit# </span>"+"#if (ratio > limit) {#"+'<span class="k-contrast-validation k-text-success">#:messages.pass# <span class="k-icon k-i-check"></span></span>'+"#} else {#"+'<span class="k-contrast-validation k-text-error">#:messages.fail# <span class="k-icon k-i-close"></span></span>'+"#}#"+"</div>"),s="";s+=a({messages:t.options.messages,ratio:r});s+=o({messages:t.options.messages,ratio:r,limit:4.5,level:"AA"});s+=o({messages:t.options.messages,ratio:r,limit:7,level:"AAA"});t._contrastTool.find(".k-contrast-ratio, div").remove();t._contrastTool.append(s);t._updateContrastSvg(n)},_updateContrastSvg:function(e){var t=this,i=t._hsvRect,n="k-color-contrast-svg",r={width:i.width(),height:i.height()},a;if(!r.width||!r.height)return;a=o(m.renderSvgCurveLine(r,t._getHSV(),e)).addClass(n);i.find("."+n).remove();i.append(a)},_keydown:function(n){var r=this;function e(e,t){var i=r._getHSV();i[e]+=t*(n.shiftKey?.01:.05);if(i[e]<0)i[e]=0;if(i[e]>1)i[e]=1;r._updateUI(i);g(n)}function t(e){var t=r._getHSV();t.h+=e*(n.shiftKey?1:5);if(t.h<0)t.h=0;if(t.h>359)t.h=359;r._updateUI(t);g(n)}switch(n.keyCode){case a.LEFT:if(n.ctrlKey)t(-1);else e("s",-1);break;case a.RIGHT:if(n.ctrlKey)t(1);else e("s",1);break;case a.UP:e(n.ctrlKey&&r._opacitySlider?"a":"v",1);break;case a.DOWN:e(n.ctrlKey&&r._opacitySlider?"a":"v",-1);break;case a.ENTER:r._select(r._getHSV());break;case a.F2:r._colorInput.element.find("input").trigger("focus").select();break;case a.ESC:r._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,i,n){var r=this,a=r._hsvRect,o=a.width(),s=a.height(),l=this._hsvHandle.position();if(!o||!s)return r.color()?r.color().toHSV():d(c);if(e==null)e=r._hueSlider.value();if(t==null)t=l.left/o;if(i==null)i=1-l.top/s;if(n==null)n=r._opacitySlider?r._opacitySlider.value()/100:1;return u.fromHSV(e,t,i,n)},_svChange:function(e,t){var i=this._getHSV(null,e,t,null);this._updateUI(i)},destroy:function(){this._hsvEvents.destroy();this._hueSlider.destroy();if(this._opacitySlider)this._opacitySlider.destroy();if(this._colorInput)this._colorInput.destroy();this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=this._contrastTool=null;h.fn.destroy.call(this)}});return t.plugin(_),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/colorpalette.min",["kendo.core.min"],function(){var s=window.kendo.jQuery,e=void 0,l=window.kendo,t=l.ui,d=l.parseColor,u=l.keys,f="background-color",c="k-state-selected",p="k-state-focus",h="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",m="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",i=".kendoColorTools",g="click"+i,v="keydown"+i,b="blur"+i,_=t.colorpicker.ColorSelector;function k(e){e.preventDefault()}function w(e,t){return function(){return e.apply(t,arguments)}}function y(e,t,i){e=Array.prototype.slice.call(e);var n=e.length;var r=e.indexOf(t);if(r<0)return i<0?e[n-1]:e[0];r+=i;if(r<0)r+=n;else r%=n;return e[r]}var n=_.extend({init:function(e,t){var i=this;_.fn.init.call(i,e,t);e=i.wrapper=i.element;t=i.options;var n=t.palette||"basic";if(n=="websafe"){n=m;t.columns=18}else if(n=="basic")n=h;if(typeof n=="string")n=n.split(",");if(Array.isArray(n))n=s.map(n,function(e){return d(e)});i._selectedID=(t.ariaId||l.guid())+"_selected";e.addClass("k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(s(i._template({colors:n,columns:t.columns,tileSize:t.tileSize,value:i._value,id:t.ariaId}))).on(g,".k-colorpalette-tile",function(e){i._select(e.currentTarget)}).attr("tabIndex",i._tabIndex).on(v,w(i._keydown,i)).on(b,function(){i.wrapper.find(".k-colorpalette-tile").removeClass(p)});var r=t.tileSize,a,o;if(r){if(/number|string/.test(typeof r))a=o=parseFloat(r);else if(typeof r=="object"){a=parseFloat(r.width);o=parseFloat(r.height)}else throw new Error("Unsupported value for the 'tileSize' argument");e.find(".k-colorpalette-tile").css({width:a,height:o})}},focus:function(){if(this.wrapper&&!this.wrapper.is("[unselectable='on']"))this.wrapper.trigger("focus")},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){if(e)this.wrapper.attr("tabIndex",this._tabIndex);else this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var t,i=this.wrapper,n=i.find(".k-colorpalette-tile"),r=n.filter("."+p).get(0)||n.filter("."+c).get(0),a=e.keyCode;if(a==u.LEFT)t=y(n,r,-1);else if(a==u.RIGHT)t=y(n,r,1);else if(a==u.DOWN)t=y(n,r,this.options.columns);else if(a==u.UP)t=y(n,r,-this.options.columns);else if(a==u.ENTER){k(e);if(r){this._select(r);this.trigger("forceSelect",{value:this.value()});return}}else if(a==u.ESC)this._cancel();if(t){k(e);this._current(t);try{var o=d(t.css(f));this._triggerSelect(o)}catch(e){}}},_select:function(e){var t=this,i=t.wrapper.find(".k-colorpalette-tile");e=s(e);_.fn._select.call(t,e.css(f));i.removeClass(c);e.addClass(c)},_current:function(e){this.wrapper.find("."+p).removeClass(p).attr("aria-selected",false).removeAttr("id");s(e).addClass(p).attr("aria-selected",true).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var i=null,e=this.wrapper.find(".k-colorpalette-tile");this.wrapper.find(".k-colorpalette-tile").each(function(){var e=d(s(this).css(f));if(e&&e.equals(t)){i=this;return false}});this._current(i);e.removeClass(c);if(i)s(i).addClass(c)},_template:l.template('<div class="k-colorpalette-table-wrap">'+'<table class="k-colorpalette-table k-palette" role="presentation"><tr role="row">'+"# for (var i = 0; i < colors.length; ++i) { #"+"# var selected = colors[i].equals(value); #"+'# if (i && i % columns == 0) { # </tr><tr role="row"> # } #'+'<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"'+'#= selected ? " aria-selected=true" : "" # '+'#=(id && i === 0) ? "id=\\""+id+"\\" " : "" # '+'class="k-colorpalette-tile#= selected ? " '+c+'" : "" #" '+'aria-label="#= colors[i].toCss() #"></td>'+"# } #"+"</tr></table></div>")});return t.plugin(n),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("colorpicker/flatcolorpicker.min",["./colorgradient.min","./colorpalette.min","kendo.html.button.min"],function(){var o=window.kendo.jQuery,e=void 0,r=window.kendo,t=r.ui,n=r.html,s=r.Color,a=o.extend,l="background-color",i,d=".kendoColorTools",u="click"+d,f="keydown"+d,c=t.colorpicker.ColorSelector,p=r.keys,h="k-no-color",m="k-selected",g=".k-color-preview-mask",v={gradient:t.ColorGradient,palette:t.ColorPalette};function b(e,t){return function(){return e.apply(t,arguments)}}var _=c.extend({init:function(i,e){var n=this;if(e&&e.autoupdate===false)e._standalone=false;c.fn.init.call(n,i,e);e=n.options=r.deepExtend({},n.options,e);i=n.element;n.wrapper=i.addClass("k-flatcolorpicker k-coloreditor").append(n._template());n._selectedColor=o(".k-coloreditor-preview-color",i);n._previousColor=o(".k-coloreditor-current-color",i);n._viewsContainer=o(".k-coloreditor-views",i);i.find(".k-button[data-view="+n.options.view+"]").addClass(m);var t=n.color();n._changeView(e.view);n._setViewSize();if(t){n._updateUI(t);n._previousColor.children(g).css(l,t.toDisplay());n._selectedColor.children(g).css(l,t.toDisplay())}else{n._selectedColor.addClass(h);n._previousColor.addClass(h)}i.on(f,b(n._keydown,n)).on(u,".k-coloreditor-reset",function(){n._clearColor=true;n._updateUI(null);n._view.value(null)}).on(u,".k-coloreditor-apply",function(){if(n._clearColor)n._select(null);else n._select(n._view.color())}).on(u,".k-coloreditor-cancel",function(){delete n._clearColor;n._updateUI(n.color());n._cancel()}).on(u,".k-button[data-view]",function(e){var t=o(e.target).closest("[data-view]");if(t.is("."+m))return;i.find(".k-button[data-view]").removeClass(m);t.addClass(m);n._changeView(t.data("view"))})},destroy:function(){var e=this;c.fn.destroy.call(this);if(e._view){e._view.destroy();e._viewsContainer.empty()}e.element.off(d);e._selectedColor=e._previousColor=e._viewsContainer=e._view=null},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,clearButton:false,format:"hex",formats:["rgb","hex"],view:"gradient",views:["gradient","palette"],palette:null,autoupdate:true,backgroundColor:null,columns:10,tileSize:24,messages:{apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:null,contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",gradient:"Gradient view",palette:"Palette view"},size:"medium"},setBackgroundColor:function(e){var t=this;if(t._view&&t._view.setBackgroundColor)t._view.setBackgroundColor(e)},_select:function(e){var t=this;c.fn._select.call(t,e);t._updatePreviousColor(e)},_updatePreviousColor:function(e){var t=this;if(e){t._previousColor.removeClass(h);t._previousColor.children(g).css(l,e.toDisplay())}else{t._previousColor.addClass(h);t._previousColor.children(g).css(l,"")}},_changeView:function(e){var t=this,i=o.extend({},t.options),n=v[e],r,a;if(t._view&&t._view._colorInput)t.options.format=t._view._colorInput._viewModel.format;t.options.view=e;delete i.name;delete i.change;delete i.select;delete i.cancel;delete i._standalone;if(t._view){r=t._view.color();t._view.destroy();t._viewsContainer.empty()}if(r){r=r.toHSV();a=s.fromHSV(t._cachedHue||0,r.s,r.v,r.a);t._cachedHue=r.toHSV().h;r=r.equals(a)?a:r}if(n){t._view=new v[e](o("<div></div>").appendTo(t._viewsContainer),i);t._view.value(r);t._view.bind("change",function(e){delete t._clearColor;t._updateUI(e.sender.color(),true)});t._view.bind("forceSelect",function(e){delete t._clearColor;t._select(e.sender.color())})}},_onEnable:function(e){var t=this;if(t._view)t._view._onEnable(e)},focus:function(){var e=this;if(e._view)e._view.focus()},_updateUI:function(e,t){var i=this;if(e&&e.toDisplay){i._selectedColor.removeClass(h);i._selectedColor.children(g).css(l,e.toDisplay())}else{i._selectedColor.addClass(h);i._selectedColor.children(g).css(l,"")}i._triggerSelect(e);if(i.options.autoupdate)i._updatePreviousColor(e);if(!t)i._view.value(e)},_setViewSize:function(){var e=this,t=e.wrapper[0],i=parseInt(e.options.tileSize.width||e.options.tileSize,10),n=parseInt(e.options.tileSize.width||e.options.tileSize,10),r=e.options.columns;t.style.setProperty("--kendo-color-preview-columns",r);t.style.setProperty("--kendo-color-preview-width",i+"px");t.style.setProperty("--kendo-color-preview-height",n+"px")},_keydown:function(e){if(e.keyCode==p.ESC)this._cancel()},_template:function(){var e=this,t=e.options,i=a({},t,{fillMode:"flat",themeColor:"base",rounded:"medium"});return r.template('<div class="k-coloreditor-header k-hstack">'+"# if (views && views.length > 1) { #"+'<div class="k-coloreditor-header-actions k-hstack">'+'<div class="k-button-group k-button-group-flat">'+n.renderButton('<button  data-view="gradient" title="#:messages.gradient#"></button>',a({icon:"color-canvas"},i))+n.renderButton('<button  data-view="palette" title="#:messages.palette#"></button>',a({icon:"palette"},i))+"</div>"+"</div>"+"# } #"+'<div class="k-spacer"></div>'+'<div class="k-coloreditor-header-actions k-hstack">'+"# if (clearButton) { #"+n.renderButton('<button class="k-coloreditor-reset" title="#:messages.clearColor#"></button>',a({icon:"reset-color"},i))+"# } #"+"# if (preview) { #"+'<div class="k-coloreditor-preview k-vstack">'+'<span class="k-coloreditor-preview-color k-color-preview">'+'<span class="k-color-preview-mask"></span>'+"</span>"+'<span class="k-coloreditor-current-color k-color-preview">'+'<span class="k-color-preview-mask"></span>'+"</span>"+"</div>"+"# } #"+"</div>"+"</div>"+'<div class="k-coloreditor-views k-vstack"></div>'+"# if (buttons) { #"+'<div class="k-coloreditor-footer k-actions k-hstack k-justify-content-end">'+n.renderButton('<button class="k-coloreditor-cancel" title="#:messages.cancel#">#: messages.cancel #</button>',a({},i,{fillMode:"solid"}))+n.renderButton('<button class="k-coloreditor-apply" title="#:messages.apply#">#: messages.apply #</button>',a({},i,{fillMode:"solid",themeColor:"primary"}))+"</div>"+"# } #")(t)}});return t.plugin(_),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.colorpicker.min",["kendo.core.min","kendo.color.min","kendo.popup.min","kendo.slider.min","kendo.userevents.min","kendo.button.min","kendo.binder.min","kendo.textbox.min","kendo.numerictextbox.min","kendo.html.button.min","./colorpicker/colorselector.min","./colorpicker/flatcolorpicker.min"],function(){var e={id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","color","popup","slider","userevents","button","binder","textbox","numerictextbox","html.button"]},d=window.kendo.jQuery,t=void 0,u=window.kendo,i=u.ui,f=i.Widget,s=u.Color,c=u.parseColor,n=u.keys,r="background-color",a={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:null,contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",gradient:"Gradient view",palette:"Palette view"},o=".kendoColorTools",l="click"+o,p="keydown"+o,h=i.colorpicker.ColorSelector,m=i.FlatColorPicker,g=f.extend({init:function(e,t){var i=this;if(t&&t.palette&&!t.view)t.view="palette";f.fn.init.call(i,e,t);t=i.options=u.deepExtend({},i.options,t);e=i.element;var n=e.attr("value")||e.val();if(n)n=c(n,true);else n=c(t.value,true);i._value=t.value=n;var r=u.html.renderButton('<button class="k-input-button" unselectable="on" aria-label="select" tabindex="-1"></button>',d.extend({},i.options,{icon:"arrow-s"}));var a=i._inputWrapper=i.wrapper=d(i._template(d.extend({},i.options,{_buttonHtml:r})));i._applyCssClasses();e.hide().after(a);if(e.is("input")){e.appendTo(a);var o=e.closest("label");var s=e.attr("id");if(s)o=o.add('label[for="'+s+'"]');o.on("click",function(e){i.open();e.preventDefault()})}i._tabIndex=e.attr("tabIndex")||0;i.enable(!e.attr("disabled"));var l=e.attr("accesskey");if(l){e.attr("accesskey",null);a.attr("accesskey",l)}i.bind("activate",function(e){if(!e.isDefaultPrevented())i.toggle()});i._updateUI(n)},destroy:function(){this.wrapper.off(o).find("*").off(o);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;f.fn.destroy.call(this)},enable:function(e){var t=this,i=t.wrapper,n=i.find(".k-input-button");if(arguments.length===0)e=true;t.element.attr("disabled",!e);i.attr("aria-disabled",!e);n.off(o).on("mousedown"+o,v);i.addClass("k-disabled").removeAttr("tabIndex").add("*",i).off(o);if(e)i.removeClass("k-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+o,function(){i.addClass("k-hover")}).on("mouseleave"+o,function(){i.removeClass("k-hover")}).on("focus"+o,function(){i.addClass("k-focus")}).on("blur"+o,function(){i.removeClass("k-focus")}).on(p,b(t._keydown,t)).on(l,".k-input-button",b(t.toggle,t)).on(l,".k-input-inner",function(){t.trigger("activate")});else t.close()},_template:u.template('<span role="textbox" aria-haspopup="true" class="k-colorpicker k-picker k-icon-picker">'+'<span  class="k-input-inner">'+'<span class="k-value-icon k-color-preview #: toolIcon ? "k-icon-color-preview" : "" #">'+"# if (toolIcon) { #"+'<span class="k-color-preview-icon k-icon #= toolIcon #"></span>'+"# } #"+'<span class="k-color-preview-mask"></span>'+"</span>"+"</span >"+"#= _buttonHtml #"+"</span>"),options:{name:"ColorPicker",closeOnSelect:false,contrastTool:false,palette:null,columns:10,toolIcon:null,value:null,messages:a,opacity:false,buttons:true,preview:true,clearButton:false,input:true,format:"hex",formats:["rgb","hex"],view:"gradient",views:["gradient","palette"],backgroundColor:null,ARIATemplate:'Current selected color is #=data || ""#',size:"medium",rounded:"medium",fillMode:"solid"},events:["activate","change","select","open","close"],open:function(){if(!this.element.prop("disabled"))this._getPopup().open()},close:function(){var e=this._selector&&this._selector.options||{};e._closing=true;this._getPopup().close();delete e._closing},toggle:function(){if(!this.element.prop("disabled"))this._getPopup().toggle()},setBackgroundColor:function(e){var t=this,i=function(){t._selector.setBackgroundColor(e)};t.options.contrastTool.backgroundColor=e;if(t._selector&&(t._popup&&t._popup.visible()))t._selector.setBackgroundColor(e);else if(t._popup){t._popup.unbind("activate",i);t._popup.bind("activate",i)}},_noColorIcon:function(){return this.wrapper.find(".k-color-preview")},color:h.fn.color,value:h.fn.value,_select:h.fn._select,_triggerSelect:h.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e,t){var i="";if(e){if(this._isInputTypeColor()||e.a==1)i=e.toCss();else i=e.toCssRgba();this.element.val(i)}if(!this._ariaTemplate)this._ariaTemplate=u.template(this.options.ARIATemplate);this.wrapper.attr("aria-label",this._ariaTemplate(i));this._triggerSelect(e);this.wrapper.find(".k-color-preview-mask").css(r,e?e.toDisplay():"");this._noColorIcon().toggleClass("k-no-color",!i);if(this._selector&&!t)this._selector.value(e)},_keydown:function(e){var t=e.keyCode;if(this._getPopup().visible()){if(t==n.ESC)this._selector._cancel();else this._selector._keydown(e);v(e)}else if(t==n.ENTER||t==n.DOWN){this.open();v(e)}},_getPopup:function(){var n=this,e=n._popup;if(!e){var t=n.options;var i;i=m;t.autoupdate=t.buttons!==true;delete t.select;delete t.change;delete t.cancel;var r=u.guid();var a=d('<div id="'+r+'" class="k-colorpicker-popup"></div>').appendTo(document.body);var o=n._selector=new i(d("<div></div>").appendTo(a),t);n.wrapper.attr("aria-owns",r);n._popup=e=a.kendoPopup({anchor:n.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");o.bind({select:function(e){n._updateUI(c(e.value),true)},change:function(e){if(n.options.buttons)n._select(o.color());else n._updateUI(c(e.value),true);if(n.options.buttons||n._selector.options.view==="palette"&&n.options.closeOnSelect)n.close()},cancel:function(){n.close()}});e.bind({close:function(e){if(n.trigger("close")){e.preventDefault();return}n.wrapper.removeClass("k-focus");var t=o.color();if(!n.options.buttons)n._select(t);else n._select(n.color());t=n.color();if(t&&t.h)n._cachedHue=t.h;var i=event&&event instanceof MouseEvent&&d(event.target).parents(".k-colorpicker-popup").length===0;if(!i)setTimeout(function(){if(n.wrapper&&!n.wrapper.is("[unselectable='on']"))n.wrapper.trigger("focus")},0)},open:function(e){if(n.trigger("open"))e.preventDefault();else n.wrapper.addClass("k-focus")},activate:function(){var e,t=n.color();if(t){t=t.toHSV();e=s.fromHSV(n._cachedHue||0,t.s,t.v,t.a);t=t.equals(e)?e:t}o.value(t);o.focus();n.wrapper.addClass("k-focus")}})}return e}});function v(e){e.preventDefault()}function b(e,t){return function(){return e.apply(t,arguments)}}return i.plugin(g),u.cssProperties.registerPrefix("ColorPicker","k-picker-"),u.cssProperties.registerValues("ColorPicker",[{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.toggleinputbase.min",["kendo.core.min"],function(){var e={id:"toggleinputbase",name:"ToggleInputBase",category:"web",description:"The ToggleInputBase component.",depends:["core"]},n=window.kendo.jQuery,r=void 0,a=window.kendo,t=a.ui,o=t.Widget,i="change",s="disabled",l="checked",d=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t);i._wrapper();i._initSettings();i._attachEvents();a.notify(i,a.ui)},events:[i],options:{name:"ToggleInputBase"},NS:".kendoToggleInputBase",RENDER_INPUT:n.noop,check:function(e){var t=this,i=t.element[0];if(e===r)return i.checked;if(i.checked!==e)t.options.checked=i.checked=e;if(e)t.element.attr(l,l);else t.element.prop(l,false)},destroy:function(){o.fn.destroy.call(this);this.wrapper.off(this.NS)},enable:function(e){var t=this.element;if(typeof e=="undefined")e=true;this.options.enabled=e;if(e)t.prop(s,false);else t.attr(s,s)},toggle:function(){var e=this;e.check(!e.element[0].checked)},_attachEvents:function(){this.element.on(i+this.NS,this._change.bind(this))},_change:function(){var e=this.element[0].checked;this.trigger(i,{checked:e})},_initSettings:function(){var e=this,t=e.element[0],i=e.options;if(i.checked===null)i.checked=t.checked;e.check(i.checked);i.enabled=i.enabled&&!e.element.attr(s);e.enable(i.enabled)},_wrapper:function(){var e=this,t=e.options,i=e.RENDER_INPUT;i(e.element,n.extend({},t));e.element.removeClass("input-validation-error");e.wrapper=e.element}});return t.plugin(d),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.html.input.min",["kendo.html.base.min"],function(){var e={id:"html.input",name:"Html.Input",category:"web",description:"HTML rendering utility for Kendo UI for jQuery.",depends:["html.base"],features:[]},r=window.kendo.jQuery,i=void 0,a=window.kendo,n=a.html.HTMLBase,t=function(e,t){if(arguments[0]===i||r.isPlainObject(arguments[0])){t=e;e=r("<input />")}return new l(e,t).html()},o=function(e,t){if(arguments[0]===i||r.isPlainObject(arguments[0])){t=e;e=r("<input />")}return new d(e,t).html()},s=n.extend({init:function(e,t){var i=this;n.fn.init.call(i,e,t);i._wrapper();i._addClasses()},options:{label:null,labelPosition:"after",encoded:true},_wrapper:function(){var e=this,t=e.element[0],i=e.options,n=t.id;e.wrapper=e.element.addClass(i.inputClass).prop("type",i.type);if(!n&&!!i.label)t.id=n=a.guid();if(!!i.label){e.labelEl=r("<label for='"+n+"' class='"+i.labelClass+"'>");if(i.encoded)e.labelEl.text(i.label);else e.labelEl.html(i.label);e.element[i.labelPosition](e.labelEl)}},html:function(){var e=this,t=e.options.labelPosition==="after",i=n.fn.html.call(e);if(!e.labelEl)return i;if(t)return i+e.labelEl[0].outerHTML;return e.labelEl[0].outerHTML+i}}),l=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);i._addClasses()},options:{name:"HTMLCheckBox",inputClass:"k-checkbox",labelClass:"k-checkbox-label",type:"checkbox",rounded:"medium",size:"medium",stylingOptions:["size","rounded"]}}),d=s.extend({init:function(e,t){var i=this;s.fn.init.call(i,e,t);i._addClasses()},options:{name:"HTMLRadioButton",inputClass:"k-radio",labelClass:"k-radio-label",type:"radio",size:"medium",stylingOptions:["size"]}});return r.extend(a.html,{renderCheckBox:t,renderRadioButton:o,HTMLInput:s,HTMLCheckBox:l,HTMLRadioButton:d}),a.cssProperties.registerPrefix("HTMLCheckBox","k-checkbox-"),a.cssProperties.registerValues("HTMLCheckBox",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}]),a.cssProperties.registerPrefix("HTMLRadioButton","k-radio-"),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.checkbox.min",["kendo.toggleinputbase.min","kendo.html.input.min"],function(){var e={id:"checkbox",name:"CheckBox",category:"web",description:"The CheckBox widget is used to display boolean value input.",depends:["toggleinputbase","html.input"]},t=window.kendo.jQuery,i=void 0,n=window.kendo,r=n.ui,a,o=r.ToggleInputBase.extend({options:{name:"CheckBox",checked:null,enabled:true,encoded:true,label:null,rounded:"medium",size:"medium"},RENDER_INPUT:n.html.renderCheckBox,NS:".kendoCheckBox",value:function(e){if(typeof e==="string")e=e==="true";return this.check.apply(this,[e])}});return n.cssProperties.registerPrefix("CheckBox","k-checkbox-"),n.cssProperties.registerValues("CheckBox",[{prop:"rounded",values:n.cssProperties.roundedValues.concat([["full","full"]])}]),r.plugin(o),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],function(){var e={id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true},u=window.kendo.jQuery,t=void 0,f=window.kendo,a=f.ui.Widget,n=Math.abs,o="aria-selected",c="k-state-selected",d="k-state-selecting",p="k-selectable",h="change",i=".kendoSelectable",r="unselect",m="k-state-unselecting",s="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable",l=f.support.browser.msie,g=false,v=u.extend,b,_=(u('<div class="parent"><span></span></div>').on("click",">*",function(){g=true}).find("span").trigger("click").end().off(),a.extend({init:function(e,t){var i=this,n,r;a.fn.init.call(i,e,t);i._marquee=u("<div class='k-marquee'><div class='k-marquee-color'></div></div>");i._lastActive=null;i.element.addClass(p);i.relatedTarget=i.options.relatedTarget;n=i.options.multiple;r=i.options.dragToSelect;i.userEvents=new f.UserEvents(i.element,{global:true,allowSelection:true,filter:(!g?"."+p+" ":"")+i.options.filter,tap:i._tap.bind(i),touchAction:n?"none":"pan-x pan-y"});if(n){if(r)i.userEvents.bind("start",i._start.bind(i)).bind("move",i._move.bind(i)).bind("end",i._end.bind(i));i.userEvents.bind("select",i._select.bind(i))}},events:[h,r],options:{name:"Selectable",filter:">*",inputSelectors:s,multiple:false,dragToSelect:true,relatedTarget:u.noop,ignoreOverlapped:false,addIdToRanges:false},_isElement:function(e){var t=this.element;var i,n=t.length,r=false;e=e[0];for(i=0;i<n;i++)if(t[i]===e){r=true;break}return r},_tap:function(e){var t=u(e.target),i=this,n=e.event.ctrlKey||e.event.metaKey,r=i.options.multiple,a=r&&e.event.shiftKey,o=i.options.selectedClass||c,s,l=e.event.which,d=e.event.button;if(!i._isElement(t.closest("."+p))||l&&l==3||d&&d==2)return;if(!this._allowSelection(e.event.target))return;s=t.hasClass(o);if(!r||!n)i.clear();t=t.add(i.relatedTarget(t));if(a)i.selectRange(i._firstSelectee(),t,e);else{if(s&&n){i._unselect(t);i._notify(h,e)}else i.value(t,e);i._lastActive=i._downTarget=t}},_start:function(e){var t=this,i=u(e.target),n=t.options.selectedClass||c,r=i.hasClass(n),a,o=e.event.ctrlKey||e.event.metaKey;if(!this._allowSelection(e.event.target))return;t._downTarget=i;if(!t._isElement(i.closest("."+p))){t.userEvents.cancel();return}if(t.options.useAllItems)t._items=t.element.find(t.options.filter);else{a=i.closest(t.element);t._items=a.find(t.options.filter)}e.sender.capture();t._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0});if(!o)t.clear();i=i.add(t.relatedTarget(i));if(r){t._selectElement(i,true);if(o)i.addClass(m)}},_move:function(e){var t=this,i={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:n(e.x.initialDelta),height:n(e.y.initialDelta)};t._marquee.css(i);t._invalidateSelectables(i,e.event.ctrlKey||e.event.metaKey);e.preventDefault()},_end:function(e){var t=this,i=f.attr("range-selected"),n=f.guid();t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+m)).removeClass(m);var r=t.element.find(t.options.filter+"."+d);r=r.add(t.relatedTarget(r));if(t.options.addIdToRanges)for(var a=0;a<t._currentlyActive.length;a++)u(t._currentlyActive[a]).attr(i,n);t.value(r,e);t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(e,t){var i,n,r=this._downTarget[0],a=this._items,o=this.options.selectedClass||c,s,l;this._currentlyActive=[];for(i=0,n=a.length;i<n;i++){l=a.eq(i);s=l.add(this.relatedTarget(l));if(k(l,e)){if(l.hasClass(o)){if(t&&r!==l[0])s.removeClass(o).addClass(m)}else if(!l.hasClass(d)&&!l.hasClass(m)&&!this._collidesWithActiveElement(s,e))s.addClass(d);this._currentlyActive.push(s[0])}else if(l.hasClass(d))s.removeClass(d);else if(t&&l.hasClass(m))s.removeClass(m).addClass(o)}},_collidesWithActiveElement:function(e,t){if(!this.options.ignoreOverlapped)return false;var i=this._currentlyActive;var n=e[0].getBoundingClientRect();var r;var a=false;var o=f.support.isRtl(e);var s=o?"right":"left";var l={};t.right=t.left+t.width;t.bottom=t.top+t.height;for(var d=0;d<i.length;d++){r=i[d].getBoundingClientRect();if(w(n,r)){l[s]=s==="left"?r.right:r.left;n=v({},n,l);if(n.left>n.right)return true;a=!w(n,t)}}return a},value:function(e,t){var i=this,n=i._selectElement.bind(i);if(e){e.each(function(){n(this)});i._notify(h,t);return}return i.element.find(i.options.filter+"."+(i.options.selectedClass||c))},selectedRanges:function(){var e=this;var r=f.attr("range-selected");var a={};e.element.find("["+r+"]").each(function(e,t){var i=u(t).attr(r);var n=a[i];if(!n)n=a[i]=[];n.push(u(t))});return a},selectedSingleItems:function(){var e=this;var t=f.attr("range-selected");return e.element.find(e.options.filter+"."+(e.options.selectedClass||c)+":not(["+t+"])").toArray().map(function(e){return u(e)})},_firstSelectee:function(){var e=this,t;if(e._lastActive!==null)return e._lastActive;t=e.value();return t.length>0?t[0]:e.element.find(e.options.filter)[0]},_selectElement:function(e,t){var i=u(e),n=this.options.selectedClass||c,r=!t&&this._notify("select",{element:e});i.removeClass(d);if(!r){i.addClass(n);if(this.options.aria)i.attr(o,true)}},_notify:function(e,t){t=t||{};return this.trigger(e,t)},_unselect:function(e){if(this.trigger(r,{element:e}))return;var t=f.attr("range-selected");e.removeClass(this.options.selectedClass||c).removeAttr(t);if(this.options.aria)e.attr(o,false);return e},_select:function(e){if(this._allowSelection(e.event.target))if(!l||l&&!u(f._activeElement()).is(this.options.inputSelectors))e.preventDefault()},_allowSelection:function(e){if(u(e).is(this.options.inputSelectors)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+(this.options.selectedClass||c));this._unselect(e)},selectRange:function(e,t,i){var n=this,r,a,o;n.clear();if(n.element.length>1)o=n.options.continuousItems();if(!o||!o.length)o=n.element.find(n.options.filter);e=u.inArray(u(e)[0],o);t=u.inArray(u(t)[0],o);if(e>t){a=e;e=t;t=a}if(!n.options.useAllItems)t+=n.element.length-1;for(r=e;r<=t;r++)n._selectElement(o[r]);n._notify(h,i)},destroy:function(){var e=this;a.fn.destroy.call(e);e.element.off(i);e.userEvents.destroy();e._marquee=e._lastActive=e.element=e.userEvents=null}}));function k(e,t){if(!e.is(":visible"))return false;var i=f.getOffset(e),n=t.left+t.width,r=t.top+t.height;i.right=i.left+f._outerWidth(e);i.bottom=i.top+f._outerHeight(e);return!(i.left>n||i.right<t.left||i.top>r||i.bottom<t.top)}function w(e,t){return!(e.right<=t.left||e.left>=t.right||e.bottom<=t.top||e.top>=t.bottom)}return _.parseOptions=function(e){var t=e.mode||e;var i=typeof t==="string"&&t.toLowerCase();return{multiple:i&&i.indexOf("multiple")>-1,cell:i&&i.indexOf("cell")>-1}},f.ui.plugin(_),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.calendar.min",["kendo.core.min","kendo.selectable.min"],function(){var t={id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core","selectable"]},_=window.kendo.jQuery,k=void 0,S=window.kendo,e=S.support,i=S.ui,a=i.Widget,g=S.keys,o=S.parseDate,D=S.date.adjustDST,L=S.date.weekInYear,r=S.ui.Selectable,B=S._extractFormat,l=S.template,V=S.getCulture,n=S.support.transitions,U=n?n.css+"transform-origin":"",W=l('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),j=l('<td role="gridcell" class="k-calendar-td k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:false}),q=l('<td role="gridcell" class="k-calendar-td k-out-of-range">&nbsp;</td>',{useWithBlock:false}),G=l('<td class="k-calendar-td k-alt">#= data.weekNumber #</td>',{useWithBlock:false}),$=S._outerWidth,d=".kendoCalendar",s="click"+d,Y="keydown"+d,u="id",K="min",Q="left",f="slideIn",c="month",w="century",v="change",X="navigate",p="value",J="k-state-hover",F="k-state-disabled",y="k-state-focused",I="k-other-month",Z,ee="k-nav-today",h="td:has(.k-link)",m="td:has(.k-link):not(."+F+"):not(."+"k-out-of-range"+")",te="td:not(:has(.k-link))",b="k-state-selected",ie="blur"+d,ne="focus",re=ne+d,ae=e.touch?"touchstart":"mouseenter",oe=e.touch?"touchstart"+d:"mouseenter"+d,se=e.touch?"touchend"+d+" touchmove"+d:"mouseleave"+d,le=6e4,de=864e5,x="_prevArrow",C="_nextArrow",T="aria-disabled",ue="aria-selected",fe="aria-label",ce=_.extend,E=Date,z={month:0,year:1,decade:2,century:3},pe=".k-header, .k-calendar-header",he='<div class="k-header k-hstack">'+'<a href="\\#" #=actionAttr#="prev" role="button" class="k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button" '+fe+'="Previous"><span class="k-button-icon k-icon k-i-arrow-60-left"></span></a>'+'<a href="\\#" #=actionAttr#="nav-up" role="button" id="nav-up" class="k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex"></a>'+'<a href="\\#" #=actionAttr#="next" role="button" class="k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button" '+fe+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a>'+"</div>",me='<div class="k-calendar-header k-hstack">'+'<a href="\\#" #=actionAttr#="nav-up" id="nav-up" role="button" class="k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base "></a>'+'<span class="k-spacer"></span>'+'<span class="k-calendar-nav k-hstack">'+'<a #=actionAttr#="prev" class="k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view">'+'<span class="k-button-icon k-icon k-i-arrow-60-left"></span>'+"</a>"+'<a #=actionAttr#="today" class="k-nav-today">#=messages.today#</a>'+'<a #=actionAttr#="next" class="k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view">'+'<span class="k-button-icon k-icon k-i-arrow-60-right"></span>'+"</a>"+"</span>"+"</div>",ge=a.extend({init:function(e,n){var r=this,t,i;n=n||{};n.componentType=n.componentType||"classic";a.fn.init.call(r,e,n);e=r.wrapper=r.element;n=r.options;n.url=S.unescape(n.url);r.options.disableDates=ze(r.options.disableDates);r._templates();r._selectable();r._header();r._viewWrapper();if(r.options.hasFooter)r._footer(r.footer);else{r._today=r.element.find("a.k-nav-today");r._toggle()}i=e.addClass("k-widget k-calendar "+(n.weekNumber?" k-week-number":"")).on(oe+" "+se,h,xe).on(Y,"table.k-content",r._move.bind(r)).on(s+" touchend",h,function(e){var t=e.currentTarget.firstChild,i=O(t);if(t.href.indexOf("#")!=-1)e.preventDefault();if(r._view.name=="month"&&r.options.disableDates(i))return;if(r._view.name!="month"||n.selectable=="single")r._click(_(t))}).on("mouseup"+d,"table.k-content, .k-footer",function(){r._focusView(r.options.focusOnNav!==false)}).attr(u);if(r._isMultipleSelection()&&r.options.weekNumber)e.on(s,te,function(e){var t=_(e.currentTarget).closest("tr").find(m).first(),i=r.selectable._lastActive=_(e.currentTarget).closest("tr").find(m).last();r.selectable.selectRange(t,i,{event:e});r._current=r._value=O(i.find("a"));r._setCurrent(r._current)});Se(n);t=o(n.value,n.format,n.culture);r._selectDates=[];r._index=z[n.start];r._current=new E(+P(t,n.min,n.max));r._addClassProxy=function(){r._active=true;if(r._cell.hasClass(F)){var e=r._view.toDateString(N());r._cell=r._cellByDate(e)}r._cell.addClass(y)};r._removeClassProxy=function(){r._active=false;if(r._cell)r._cell.removeClass(y)};r.value(t);if(r._isMultipleSelection()&&n.selectDates.length>0)r.selectDates(n.selectDates);S.notify(r)},options:{name:"Calendar",value:null,min:new E(1900,0,1),max:new E(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:false,selectable:"single",selectDates:[],start:c,depth:c,size:"medium",animation:{horizontal:{effects:f,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:"",today:"Today",navigateTo:"Navigate to ",parentViews:{month:"year view",year:"decade view",decade:"century view"}},componentType:"classic"},events:[v,X],componentTypes:{classic:{header:{template:he},hasFooter:true,linksSelector:".k-button",contentClasses:"k-calendar-table k-content"},modern:{header:{template:me},hasFooter:false,linksSelector:".k-button",contentClasses:"k-calendar-table k-content k-calendar-content"}},setOptions:function(e){var t=this;Se(e);e.disableDates=ze(e.disableDates);t._destroySelectable();if(e.messages)e.messages=_.extend({},true,t.options.messages,e.messages);a.fn.setOptions.call(t,e);t._templates();t._selectable();t._viewWrapper();if(t.options.hasFooter)t._footer(t.footer);else{t.element.find(".k-footer").hide();t._toggle()}t._index=z[t.options.start];t.navigate();if(e.weekNumber)t.element.addClass("k-week-number")},destroy:function(){var e=this,t=e._today;e.element.off(d);e._title.off(d);e[x].off(d);e[C].off(d);e._destroySelectable();S.destroy(e._table);if(t)S.destroy(t.off(d));a.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table;this._bindTable(e);e.trigger("focus")},min:function(e){return this._option(K,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(x,-1)},navigateToFuture:function(){this._navigate(C,1)},navigateUp:function(){var e=this,t=e._index;if(e._title.hasClass(F))return;e.navigate(e._current,++t)},navigateDown:function(e){var t=this,i=t._index,n=t.options.depth;if(!e)return;if(i===z[n]){if(!Ne(t._value,t._current)||!Ne(t._value,e)){t.value(e);t.trigger(v)}return}t.navigate(e,--i)},navigate:function(e,t){t=isNaN(t)?z[t]:t;var i=this,n=i.options,r=n.culture,a=n.min,o=n.max,s=i._title,l=i._table,d=i._oldTable,u=i._current,f=e&&+e>+u,c=t!==k&&t!==i._index,p,h,m,g,v=i.element.children(".k-calendar-view");if(!e)e=u;i._current=e=new E(+P(e,a,o));if(t===k)t=i._index;else i._index=t;i._view=h=A.views[t];m=h.compare;g=t===z[w];s.toggleClass(F,g).attr(T,g);g=m(e,a)<1;i[x].toggleClass(F,g).attr(T,g);g=m(e,o)>-1;i[C].toggleClass(F,g).attr(T,g);if(l&&d&&d.data("animating")){d.kendoStop(true,true);l.kendoStop(true,true)}i._oldTable=l;if(!l||i._changeView){s.html(h.title(e,a,o,r));if(i.options.messages.parentViews&&i._view.name!==w)s.attr("title",i.options.messages.navigateTo+i.options.messages.parentViews[i._view.name]);else s.removeAttr("title");i._table=p=_(h.content(ce({min:a,max:o,date:e,url:n.url,dates:n.dates,format:n.format,otherMonth:true,culture:r,disableDates:n.disableDates,isWeekColumnVisible:n.weekNumber,messages:n.messages,contentClasses:i.options.contentClasses},i[h.name])));i._aria();De(p,h.name);var b=l&&l.data("start")===p.data("start");i._animate({from:l,to:p,vertical:c,future:f,replace:b});v.removeClass("k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview");v.addClass("k-calendar-"+h.name+"view");i.trigger(X);i._focus(e)}if(t===z[n.depth]&&i._selectDates.length>0)i._visualizeSelectedDatesInView();if(i.options.selectable==="single")if(t===z[n.depth]&&i._value&&!i.options.disableDates(i._value))i._selectCell(i._value);i._setCurrent(e);if(!l&&i._cell)i._cell.removeClass(y);i._changeView=true},selectDates:function(e){var t=this,i,n;if(e===k)return t._selectDates;n=e.map(function(e){return e.getTime()}).filter(function(e,t,i){return i.indexOf(e)===t}).map(function(e){return new Date(e)});i=_.grep(n,function(e){if(e)return+t._validateValue(new Date(e.setHours(0,0,0,0)))===+e});t._selectDates=i.length>0?i:n.length===0?n:t._selectDates;t._visualizeSelectedDatesInView()},value:function(e){var t=this,i=t._view,n=t._view;if(e===k)return t._value;e=t._validateValue(e);if(e&&t._isMultipleSelection()){var r=new Date(+e);r.setHours(0,0,0,0);t._selectDates=[r];t.selectable._lastActive=null}if(i&&e===null&&t._cell)t._cell.removeClass(b);else{t._changeView=!e||n&&n.compare(e,t._current)!==0;t.navigate(e)}},_aria:function(){var e=this._table;e.attr("aria-labelledby",this._title.attr("id"));if(this._view.name==="month"&&this.options.selectable==="multiple")e.attr("aria-multiselectable","true")},_validateValue:function(e){var t=this,i=t.options,n=i.min,r=i.max;if(e===null)t._current=M(t._current.getFullYear(),t._current.getMonth(),t._current.getDate());e=o(e,i.format,i.culture);if(e!==null){e=new E(+e);if(!H(e,n,r))e=null}if(e===null||!t.options.disableDates(new Date(+e)))t._value=e;else if(t._value===k)t._value=null;return t._value},_visualizeSelectedDatesInView:function(){var e=this;var i={};_.each(e._selectDates,function(e,t){i[S.calendar.views[0].toDateString(t)]=t});e.selectable.clear();var t=e._table.find(h).filter(function(e,t){return i[_(t.firstChild).attr(S.attr(p))]});if(t.length>0)e.selectable._selectElement(t,true)},_isMultipleSelection:function(){var e=this;return e.options.selectable==="multiple"},_selectable:function(){var e=this;if(!e._isMultipleSelection())return;var t=e.options.selectable,i=r.parseOptions(t);e.selectable=new r(e.wrapper,{aria:true,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:i.multiple,filter:"table.k-month:eq(0) "+m,change:e._onSelect.bind(e),relatedTarget:e._onRelatedTarget.bind(e)})},_onRelatedTarget:function(e){var t=this;if(t.selectable.options.multiple&&e.is(m)){t._current=O(e.find("a"));t._setCurrent(t._current)}},_onSelect:function(e){var n=this,t=e,i=r.parseOptions(n.options.selectable);if(!i.multiple){if(_(t.event.currentTarget).is("td")&&!_(t.event.currentTarget).hasClass("k-state-selected"))_(t.event.currentTarget).addClass("k-state-selected");else n._click(_(t.event.currentTarget).find("a"));return}if(t.event.ctrlKey||t.event.metaKey)if(_(t.event.currentTarget).is(m))n._toggleSelection(_(t.event.currentTarget));else{n._cellsBySelector(m).each(function(e,t){var i=O(_(t).find("a"));n._deselect(i)});n._addSelectedCellsToArray()}else if(t.event.shiftKey)n._rangeSelection(n._cell);else if(_(t.event.currentTarget).is(h))n.value(O(_(t.event.currentTarget).find("a")));else{n._selectDates=[];n._addSelectedCellsToArray()}n.trigger(v)},_destroySelectable:function(){var e=this;if(e.selectable){e.selectable.destroy();e.selectable=null}},_toggleSelection:function(e){var t=this,i=O(e.find("a"));if(e.hasClass("k-state-selected"))t._selectDates.push(i);else t._deselect(i)},_rangeSelection:function(e,t){var i=this,n=t||O(i.selectable.value().first().find("a")),r=O(e.find("a")),a;if(i.selectable._lastActive||i._value)n=i.selectable._lastActive?O(i.selectable._lastActive.find("a")):new Date(+i._value);else i.selectable._lastActive=t?i._cellByDate(i._view.toDateString(t),m):i.selectable.value().first();i._selectDates=[];a=we(n,r);ye(i._selectDates,a,n,i.options.disableDates);i._visualizeSelectedDatesInView()},_cellsBySelector:function(e){var t=this;return t._table.find(e)},_addSelectedCellsToArray:function(){var n=this;n.selectable.value().each(function(e,t){var i=O(_(t.firstChild));if(!n.options.disableDates(i))n._selectDates.push(i)})},_deselect:function(e){var t=this;var i=t._selectDates.map(Number).indexOf(+e);if(i!=-1)t._selectDates.splice(i,1)},_dateInView:function(e){var t=this,i=O(t._cellsBySelector(m).first().find("a")),n=O(t._cellsBySelector(m).last().find("a"));return+e<=+n&&+e>=+i},_isNavigatable:function(e,t){var i=this;var n=i.options.disableDates;var r;var a;if(i._view.name=="month")return!n(e);else{a=i.wrapper.find("."+y).index();r=i.wrapper.find(".k-content td").eq(a+t);return r.is(m)||!n(e)}},_move:function(e){var t=this,i=t.options,n=e.keyCode,r=t._view,a=t._index,o=t.options.min,s=t.options.max,l=new E(+t._current),d=S.support.isRtl(t.wrapper),u=t.options.disableDates,f,c,p,h;if(e.target===t._table[0])t._active=true;if(n==g.RIGHT&&!d||n==g.LEFT&&d){f=1;c=true}else if(n==g.LEFT&&!d||n==g.RIGHT&&d){f=-1;c=true}else if(n==g.UP){f=a===0?-7:-4;c=true}else if(n==g.DOWN){f=a===0?7:4;c=true}else if(n==g.SPACEBAR){f=0;c=true}else if(n==g.HOME||n==g.END){p=n==g.HOME?"first":"last";h=r[p](l);l=new E(h.getFullYear(),h.getMonth(),h.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());l.setFullYear(h.getFullYear());c=true}if(e.ctrlKey||e.metaKey){if(n==g.RIGHT&&!d||n==g.LEFT&&d){t.navigateToFuture();c=true}else if(n==g.LEFT&&!d||n==g.RIGHT&&d){t.navigateToPast();c=true}else if(n==g.UP){t.navigateUp();c=true}else if(n==g.DOWN){t._click(_(t._cell[0].firstChild));c=true}else if((n==g.ENTER||n==g.SPACEBAR)&&t._isMultipleSelection()){t._keyboardToggleSelection(e);var m=O(_(t._cell[0]).find("a"));t._setCurrent(m)}}else if(e.shiftKey){if(f!==k||p){if(!p)r.setDate(l,f);if(!H(l,o,s))l=P(l,i.min,i.max);if(u(l))l=t._nextNavigatable(l,f);o=M(o.getFullYear(),o.getMonth(),o.getDate());if(t._isMultipleSelection())t._keyboardRangeSelection(e,l);else t._focus(l)}}else{if(n==g.ENTER||n==g.SPACEBAR){if(r.name=="month"&&t._isMultipleSelection()){t.value(O(_(t._cell.find("a"))));t.selectable._lastActive=_(t._cell[0]);t.trigger(v)}else t._click(_(t._cell[0].firstChild));c=true}else if(n==g.PAGEUP){c=true;t.navigateToPast()}else if(n==g.PAGEDOWN){c=true;t.navigateToFuture()}if(f||p){if(!p)r.setDate(l,f);o=M(o.getFullYear(),o.getMonth(),o.getDate());if(!H(l,o,s))l=P(l,i.min,i.max);if(!t._isNavigatable(l,f))l=t._nextNavigatable(l,f);if(t._isMultipleSelection())if(!t._dateInView(l))t.navigate(l);else{t._current=l;t._setCurrent(l)}else t._focus(l)}}if(c)e.preventDefault();return t._current},_keyboardRangeSelection:function(e,t){var i=this,n,r;if(!i._dateInView(t)){i._selectDates=[];n=i.selectable._lastActive?O(i.selectable._lastActive.find("a")):t;r=we(n,new Date(+t));ye(i._selectDates,r,n,i.options.disableDates);i.navigate(t);i._current=t;i.selectable._lastActive=i.selectable._lastActive||i._cellByDate(i._view.toDateString(t),m);i.trigger(v);return}i.selectable.options.filter=i.wrapper.find("table").length>1&&+t>+i._current?"table.k-month:eq(1) "+m:"table.k-month:eq(0) "+m;i._setCurrent(t);i._current=t;i._rangeSelection(i._cellByDate(i._view.toDateString(t),m),t);i.trigger(v);i.selectable.options.filter="table.k-month:eq(0) "+m},_keyboardToggleSelection:function(e){var t=this;e.currentTarget=t._cell[0];t.selectable._lastActive=_(t._cell[0]);if(_(t._cell[0]).hasClass(b)){t.selectable._unselect(_(t._cell[0]));t.selectable.trigger(v,{event:e})}else t.selectable.value(_(t._cell[0]),{event:e})},_nextNavigatable:function(e,t){var i=this,n=true,r=i._view,a=i.options.min,o=i.options.max,s=i.options.disableDates,l=new Date(e.getTime());r.setDate(l,-t);while(n){r.setDate(e,t);if(!H(e,a,o)){e=l;break}n=s(e)}return e},_animate:function(e){var t=this;var i=e.from;var n=e.to;var r=t._active;var a=t.element.children(".k-calendar-view");if(!i){a.append(n);t._bindTable(n)}else if(i.parent().data("animating")){i.off(d);i.parent().kendoStop(true,true).remove();i.remove();a.append(n);t._focusView(r)}else if(!i.is(":visible")||t.options.animation===false||e.replace){n.insertAfter(i);i.off(d).remove();t._focusView(r)}else t[e.vertical?"_vertical":"_horizontal"](i,n,e.future)},_horizontal:function(e,t,i){var n=this,r=n._active,a=n.options.animation.horizontal,o=a.effects,s=$(e);if(o&&o.indexOf(f)!=-1){e.add(t).css({width:s});e.wrap("<div/>");n._focusView(r,e);e.parent().css({position:"relative",width:s*2,float:Q,"margin-left":i?0:-s});t[i?"insertAfter":"insertBefore"](e);ce(a,{effects:f+":"+(i?"right":Q),complete:function(){e.off(d).remove();n._oldTable=null;t.unwrap();n._focusView(r)}});e.parent().kendoStop(true,true).kendoAnimate(a)}},_vertical:function(e,t){var i=this,n=i.options.animation.vertical,r=n.effects,a=i._active,o,s;if(r&&r.indexOf("zoom")!=-1){t.insertBefore(e);e.css({position:"absolute",width:t.width()});if(U){o=i._cellByDate(i._view.toDateString(i._current));s=o.position();s=s.left+parseInt(o.width()/2,10)+"px"+" "+(s.top+parseInt(o.height()/2,10)+"px");t.css(U,s)}e.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(d).remove();i._oldTable=null;i._focusView(a)}});t.kendoStop(true,true).kendoAnimate(n)}},_cellByDate:function(e,t){return this._table.find(t?t:"td:not(."+I+")").filter(function(){return _(this.firstChild).attr(S.attr(p))===e})},_selectCell:function(e){var t=this,i=t._selectedCell,n=t._view.toDateString(e);if(i&&i[0]){i[0].removeAttribute(ue);i.removeClass(b)}i=t._cellByDate(n,t.options.selectable=="multiple"?h:"td:not(."+I+")");t._selectedCell=i;i.addClass(b).attr(ue,true)},_setCurrent:function(e){var t=this,i=S.guid(),n=t._cell,r=t._view.toDateString(e);if(n&&n[0]){n.removeClass(y);n[0].removeAttribute(fe);n[0].removeAttribute(u)}n=t._cellByDate(r,t.options.selectable=="multiple"?h:"td:not(."+I+")");t._cell=n;n.attr(u,i).addClass(y);if(t._table[0]){t._table[0].removeAttribute("aria-activedescendant");t._table.attr("aria-activedescendant",i)}},_bindTable:function(e){e.on(re,this._addClassProxy).on(ie,this._removeClassProxy)},_click:function(e){var t=this,i=t.options,n=new Date(+t._current),r=O(e);D(r,0);if(t._view.name=="month"&&t.options.disableDates(r))r=t._value;t._view.setDate(n,r);t.navigateDown(P(n,i.min,i.max))},_focus:function(e){var t=this,i=t._view;if(i.compare(e,t._current)!==0)t.navigate(e);else{t._current=e;t._setCurrent(e)}},_focusView:function(e,t){if(e)this.focus(t)},_viewWrapper:function(){var e=this;var t=e.element;var i=t.children(".k-calendar-view");if(!i[0])i=_("<div class='k-calendar-view' />").insertAfter(t.find(pe))},_footer:function(e){var t=this,i=N(),n=t.element,r=n.find(".k-footer");if(!e){t._toggle(false);r.hide();return}if(!r[0])r=_('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(n);t._today=r.show().find(".k-link").html(e(i)).attr("title",S.toString(i,"D",t.options.culture));t._toggle()},_header:function(){var e=this,t=e.element,i=e.options.linksSelector;if(!t.find(pe)[0])t.html(S.template(e.options.header.template)(_.extend(true,{},e.options,{actionAttr:S.attr("action"),size:S.getValidCssClass("k-button-","size",e.options.size)})));t.find(i).on(s+" touchend"+d,function(){return false});e._title=t.find("["+S.attr("action")+'="nav-up"]').on(s+" touchend"+d,function(){e._active=e.options.focusOnNav!==false;e.navigateUp()});e[x]=t.find("["+S.attr("action")+'="prev"]').on(s+" touchend"+d,function(){e._active=e.options.focusOnNav!==false;e.navigateToPast()});e[C]=t.find("["+S.attr("action")+'="next"]').on(s+" touchend"+d,function(){e._active=e.options.focusOnNav!==false;e.navigateToFuture()});t.find("["+S.attr("action")+'="today"]').on(s+" touchend"+d,e._todayClick.bind(e))},_navigate:function(e,t){var i=this,n=i._index+1,r=new E(+i._current);if(i._isMultipleSelection()){var a=i._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first();r=O(a.find("a"));i._current=new Date(+r)}e=i[e];if(!e.hasClass(F)){if(n>3)r.setFullYear(r.getFullYear()+100*t);else A.views[n].setDate(r,t);i.navigate(r)}},_option:function(e,t){var i=this,n=i.options,r=i._value||i._current,a;if(t===k)return n[e];t=o(t,n.format,n.culture);if(!t)return;n[e]=new E(+t);if(e===K)a=t>r;else a=r>t;if(a||Ee(r,t)){if(a)i._value=null;i._changeView=true}if(!i._changeView)i._changeView=!!(n.month.content||n.month.empty);i.navigate(i._value);i._toggle()},_toggle:function(e){var t=this,i=t.options,n=t.options.disableDates(N()),r=t._today,a=t._todayClass();if(e===k)e=H(N(),i.min,i.max);if(r){r.off(s);if(e&&!n)r.addClass(a).removeClass(F).on(s,t._todayClick.bind(t));else r.removeClass(a).addClass(F).on(s,Ce)}},_todayClass:function(){return ee},_todayClick:function(e){var t=this,i=z[t.options.depth],n=t.options.disableDates,r=N();e.preventDefault();if(n(r))return;if(t._view.compare(t._current,r)===0&&t._index==i)t._changeView=false;if(t._isMultipleSelection()){t._selectDates=[r];t.selectable._lastActive=null}t._value=r;t.navigate(r,i);t.trigger(v)},_templates:function(){var e=this,t=e.options,i=t.footer,n=t.month,r=n.content,a=n.weekNumber,o=n.empty,s='#= kendo.toString(data,"D","'+t.culture+'") #';e.month={content:l('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+S.attr(p)+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:l('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o}),weekNumber:l('<td class="k-alt">'+(a||"#= data.weekNumber #")+"</td>",{useWithBlock:!!a})};e.year={content:l('<td class="#=data.cssClass#" role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#" aria-label="#=data.label#">#=data.value#</a></td>',{useWithBlock:false})};if(i&&i!==true)s=i;e.footer=i!==false?l(s,{useWithBlock:false}):null},_updateAria:function(e,t){var i=this;var n=i._cell;var r=i.view().valueType();var a=t||i.current();var o;if(r==="month")o=S.toString(a,"MMMM");else if(r==="date")o=S.toString(a,"D");else o=n.text();n.attr("aria-label",e({current:a,valueType:r,text:o}));return n.attr("id")}}),A=(i.plugin(ge),{firstDayOfMonth:function(e){return M(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||S.culture().calendar;var i=t.firstDay,n=new E(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());n.setFullYear(e.getFullYear());while(n.getDay()!=i)A.setTime(n,-1*de);return n},setTime:function(e,t){var i=e.getTimezoneOffset(),n=new E(e.getTime()+t),r=n.getTimezoneOffset()-i;e.setTime(n.getTime()+r*le)},views:[{name:c,title:function(e,t,i,n){return Te(n).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=this,i=0,n=e.min,r=e.max,a=e.date,s=e.dates,l=e.format,d=e.culture,u=e.url,o=e.showHeader,f=e.otherMonth,c=e.isWeekColumnVisible,p=u&&s[0],h=Te(d),m=h.firstDay,g=h.days,v=_e(g.names,m),b=_e(g.namesShort,m),_=A.firstVisibleDay(a,h),k=t.first(a),w=t.last(a),y=t.toDateString,x=N(),C=e.contentClasses,T='<table tabindex="0" role="grid" class="'+C+'" cellspacing="0" data-start="'+y(_)+'">';if(o)T+='<caption class="k-calendar-caption k-month-header">'+this.title(a,n,r,d)+"</caption>";T+='<thead class="k-calendar-thead"><tr role="row" class="k-calendar-tr">';if(c)T+='<th scope="col" class="k-calendar-th k-alt">'+e.messages.weekColumnHeader+"</th>";for(;i<7;i++)T+='<th scope="col" class="k-calendar-th" aria-label="'+v[i]+'">'+b[i]+"</th>";D(x,0);x=+x;return R({cells:42,perRow:7,html:T+='</tr></thead><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">',start:_,isWeekColumnVisible:c,weekNumber:e.weekNumber,min:M(n.getFullYear(),n.getMonth(),n.getDate()),max:M(r.getFullYear(),r.getMonth(),r.getDate()),otherMonth:f,content:e.content,lastDayOfMonth:w,empty:e.empty,setter:t.setDate,disableDates:e.disableDates,build:function(e,t,i){var n=["k-calendar-td"],r=e.getDay(),a="",o="#";if(e<k||e>w)n.push(I);if(i(e))n.push(F);if(+e===x)n.push("k-today");if(r===0||r===6)n.push("k-weekend");if(p&&Fe(+e,s)){o=u.replace("{0}",S.toString(e,l,d));a=" k-action-link"}return{date:e,dates:s,ns:S.ns,title:S.toString(e,"D",d),value:e.getDate(),dateString:y(e),cssClass:n.join(" "),linkClass:a,url:o}},weekNumberBuild:function(e){return{weekNumber:L(e,S.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return A.firstDayOfMonth(e)},last:function(e){var t=M(e.getFullYear(),e.getMonth()+1,0),i=A.firstDayOfMonth(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());if(n)t.setHours(i.getHours()+n/60);return t},compare:function(e,t){var i,n=e.getMonth(),r=e.getFullYear(),a=t.getMonth(),o=t.getFullYear();if(r>o)i=1;else if(r<o)i=-1;else i=n==a?0:n>a?1:-1;return i},setDate:function(e,t){var i=e.getHours();if(t instanceof E)e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());else A.setTime(e,t*de);D(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()},valueType:function(){return"date"}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=Te(e.culture).months,i=t.namesAbbr,n=t.names,r=this.toDateString,a=e.min,o=e.max,s="";if(e.showHeader){s+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';s+='<caption class="k-calendar-caption k-meta-header">';s+=this.title(e.date);s+="</caption>";s+='<tbody class="k-calendar-tbody">';s+='<tr role="row" class="k-calendar-tr">'}return R({min:M(a.getFullYear(),a.getMonth(),1),max:M(o.getFullYear(),o.getMonth(),1),start:M(e.date.getFullYear(),0,1),html:s,setter:this.setDate,content:e.content,build:function(e){var t=["k-calendar-td"];return{value:i[e.getMonth()],label:n[e.getMonth()],ns:S.ns,dateString:r(e),cssClass:t.join(" ")}}})},first:function(e){return M(e.getFullYear(),0,e.getDate())},last:function(e){return M(e.getFullYear(),11,e.getDate())},compare:function(e,t){return be(e,t)},setDate:function(e,t){var i,n=e.getHours();if(t instanceof E){i=t.getMonth();e.setFullYear(t.getFullYear(),i,e.getDate());if(i!==e.getMonth())e.setDate(0)}else{i=e.getMonth()+t;e.setMonth(i);if(i>11)i-=12;if(i>0&&e.getMonth()!=i)e.setDate(0)}D(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"},valueType:function(){return"month"}},{name:"decade",title:function(e,t,i){return ve(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString,i="";if(e.showHeader){i+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';i+='<caption class="k-meta-header">';i+=this.title(e.date,e.min,e.max);i+="</caption>";i+='<tbody class="k-calendar-thead">';i+='<tr role="row" class="k-calendar-tr">'}return R({start:M(t-t%10-1,0,1),min:M(e.min.getFullYear(),0,1),max:M(e.max.getFullYear(),0,1),otherMonth:e.otherMonth,html:i,setter:this.setDate,build:function(e,t){var i=["k-calendar-td"];if(t===0||t===11)i.push(I);return{value:e.getFullYear(),ns:S.ns,dateString:n(e),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return M(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return M(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return be(e,t,10)},setDate:function(e,t){ke(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"},valueType:function(){return"year"}},{name:w,title:function(e,t,i){return ve(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),a=e.min.getFullYear(),o=e.max.getFullYear(),s=this.toDateString,i=a,n=o,r="";i=i-i%10;n=n-n%10;if(n-i<10)n=i+9;if(e.showHeader){r+='<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0">';r+='<caption class="k-calendar-caption k-meta-header">';r+=this.title(e.date,e.min,e.max);r+="</caption>";r+='<tbody class="k-calendar-tbody">';r+='<tr role="row" class="k-calendar-tr">'}return R({start:M(t-t%100-10,0,1),min:M(i,0,1),max:M(n,0,1),otherMonth:e.otherMonth,html:r,setter:this.setDate,build:function(e,t){var i=["k-calendar-td"];var n=e.getFullYear(),r=n+9;if(t===0||t===11)i.push(I);if(n<a)n=a;if(r>o)r=o;return{ns:S.ns,value:n+" - "+r,dateString:s(e),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return M(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return M(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return be(e,t,100)},setDate:function(e,t){ke(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"},valueType:function(){return"decade"}}]});function ve(e,t,i,n){var r=e.getFullYear(),a=t.getFullYear(),o=i.getFullYear(),s;r=r-r%n;s=r+(n-1);if(r<a)r=a;if(s>o)s=o;return r+"-"+s}function R(e){var t=0,i,n=e.min,r=e.max,a=e.start,o=e.setter,s=e.build,l=e.weekNumberBuild,d=e.cells||12,u=e.isWeekColumnVisible,f=e.perRow||4,c=e.otherMonth,p=e.lastDayOfMonth,h=e.weekNumber||G,m=e.content||W,g=e.empty||j,v=e.otherMonthCellTemplate||q,b=e.html||'<table tabindex="0" role="grid" class="k-calendar-table k-content k-meta-view" cellspacing="0"><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">';if(u)b+=h(l(a));for(;t<d;t++){if(t>0&&t%f===0){b+='</tr><tr role="row" class="k-calendar-tr">';if(u)b+=c||+a<=+p?h(l(a)):h({weekNumber:"&nbsp;"})}a=M(a.getFullYear(),a.getMonth(),a.getDate());D(a,0);i=s(a,t,e.disableDates);b+=i.cssClass.indexOf(I)!==-1&&!c?v(i):H(a,n,r)?m(i):g(i);o(a,1)}return b+"</tr></tbody></table>"}function be(e,t,i){var n=e.getFullYear(),r=t.getFullYear(),a=r,o=0;if(i){r=r-r%i;a=r-r%i+i-1}if(n>a)o=1;else if(n<r)o=-1;return o}function N(){var e=new E;return new E(e.getFullYear(),e.getMonth(),e.getDate())}function P(e,t,i){var n=N();if(e)n=new E(+e);if(t>n)n=new E(+t);else if(i<n)n=new E(+i);return n}function H(e,t,i){return+e>=+t&&+e<=+i}function _e(e,t){return e.slice(t).concat(e.slice(0,t))}function ke(e,t,i){t=t instanceof E?t.getFullYear():e.getFullYear()+i*t;e.setFullYear(t)}function we(e,t){if(+t<+e){var i=+e;A.views[0].setDate(e,t);A.views[0].setDate(t,new Date(i))}var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());var r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+r-+n)/S.date.MS_PER_DAY)}function ye(e,t,i,n){for(var r=0;r<=t;r++){var a=new Date(i.getTime());a=new Date(a.setDate(a.getDate()+r));if(!n(a))e.push(a)}}function xe(e){var t=_(this).hasClass("k-state-disabled");if(!t)_(this).toggleClass(J,ae.indexOf(e.type)>-1||e.type==ne)}function Ce(e){e.preventDefault()}function M(e,t,i){var n=new E(e,t,i);n.setFullYear(e,t,i);return n}function Te(e){return V(e).calendars.standard}function Se(e){var t=z[e.start],i=z[e.depth],n=V(e.culture);e.format=B(e.format||n.calendars.standard.patterns.d);if(isNaN(t)){t=0;e.start=c}if(i===k||i>t)e.depth=c;if(e.dates===null)e.dates=[]}function De(e,t){e.addClass("k-"+t)}function Fe(e,t){for(var i=0,n=t.length;i<n;i++)if(e===+t[i])return true;return false}function Ie(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();return false}function Ee(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth();return false}function ze(e){if(S.isFunction(e))return e;if(Array.isArray(e))return Re(e);return _.noop}function Ae(e){var t=[];for(var i=0;i<e.length;i++)t.push(e[i].setHours(0,0,0,0));return t}function Re(e){var t,i,n=[],r=["su","mo","tu","we","th","fr","sa"],a="if (found) {"+" return true "+"} else {"+"return false"+"}";if(e[0]instanceof E){n=Ae(e);t="var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),["+n+"]) > -1;"+a}else{for(var o=0;o<e.length;o++){var s=e[o].slice(0,2).toLowerCase();var l=_.inArray(s,r);if(l>-1)n.push(l)}t="var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),["+n+"]) > -1;"+a}i=new Function("date",t);return i}function Ne(e,t){if(e instanceof Date&&t instanceof Date){e=e.getTime();t=t.getTime()}return e===t}function O(e){var t=_(e).attr(S.attr(p)).split("/");t=M(t[0],t[1],t[2]);return t}return A.isEqualDatePart=Ie,A.isEqualDate=Ne,A.restrictValue=P,A.isInRange=H,A.addClassToViewContainer=De,A.normalize=Se,A.viewsEnum=z,A.disabled=ze,A.toDateObject=O,A.getToday=N,A.createDate=M,S.calendar=A,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.dateinput.min",["kendo.core.min"],function(){var e={id:"dateinput",name:"DateInput",category:"web",description:"The DateInput widget allows to edit date by typing.",depends:["core"]},o=window.kendo.jQuery,D=void 0,t,F=window.kendo,d=F.caret,i=F.ui,s=i.Widget,u=F.keys,l=".kendoDateInput",n={}.toString,r=(F.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+l,f="k-focus",c="k-disabled",a="k-invalid",p="disabled",h="readonly",m="change",g="dMyHhmftsz",v=s.extend({init:function(t,e){var i=this;s.fn.init.call(i,t,e);t=i.element;e=i.options;e.format=F._extractFormat(e.format||F.getCulture(e.culture).calendars.standard.patterns.d);e.min=F.parseDate(t.attr("min"))||F.parseDate(e.min);e.max=F.parseDate(t.attr("max"))||F.parseDate(e.max);var n=t.parent().attr("class")||"";var r=n.indexOf("picker")>=0&&n.indexOf("rangepicker")<0;if(r)i.wrapper=t.parent();else{i.wrapper=t.wrap("<span class='k-dateinput k-input'></span>").parent();i.wrapper.addClass(t[0].className).removeClass("input-validation-error");i.wrapper[0].style.cssText=t[0].style.cssText;t.css({height:t[0].style.height})}i._validationIcon=o("<span class='k-input-validation-icon k-icon k-i-warning k-hidden'></span>").insertAfter(t);i._form();i.element.addClass(r?" ":"k-input-inner").attr("autocomplete","off").on("focus"+l,function(){i.wrapper.addClass(f)}).on("focusout"+l,function(){i.wrapper.removeClass(f);i._change()});try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}var a=t.is("[disabled]")||o(i.element).parents("fieldset").is(":disabled");if(a)i.enable(false);else i.readonly(t.is("[readonly]"));i.value(i.options.value||t.val());i._applyCssClasses();F.notify(i)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"},size:"medium",fillMode:"solid",rounded:"medium"},events:[m],min:function(e){if(e!==D)this.options.min=e;else return this.options.min},max:function(e){if(e!==D)this.options.max=e;else return this.options.max},setOptions:function(e){var t=this;s.fn.setOptions.call(t,e);this._unbindInput();this._bindInput();this._updateElementValue()},destroy:function(){var e=this;e.element.off(l);if(e._formElement)e._formElement.off("reset",e._resetHandler);s.fn.destroy.call(e)},value:function(e){if(e===D)return this._dateTime.getDateObject();if(e===null)e="";if(n.call(e)!=="[object Date]")e=F.parseDate(e,this.options.format,this.options.culture);if(e&&!e.getTime())e=null;this._dateTime=new b(e,this.options.format,this.options.culture,this.options.messages);this._updateElementValue();this._oldValue=e},_updateElementValue:function(){var e=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(e[0]);this._oldText=e[0];this._format=e[1]},readonly:function(e){this._editable({readonly:e===D?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===D?true:e)})},_bindInput:function(){var e=this;e.element.on("focus"+l,function(){e.wrapper.addClass(f)}).on("focusout"+l,function(){e.wrapper.removeClass(f);e._change()}).on("paste"+l,e._paste.bind(e)).on("keydown"+l,e._keydown.bind(e)).on(r,e._input.bind(e)).on("mouseup"+l,e._mouseUp.bind(e)).on("DOMMouseScroll"+l+" mousewheel"+l,e._scroll.bind(e))},_unbindInput:function(){this.element.off("keydown"+l).off("paste"+l).off("focus"+l).off("focusout"+l).off(r).off("mouseup"+l).off("DOMMouseScroll"+l+" mousewheel"+l)},_editable:function(e){var t=this;var i=t.element;var n=e.disable;var r=e.readonly;var a=t.wrapper;t._unbindInput();if(!r&&!n){a.removeClass(c);if(i&&i.length){i[0].removeAttribute(p);i[0].removeAttribute(h)}t._bindInput()}else{if(n){a.addClass(c);i.attr(p,n);if(i&&i.length)i[0].removeAttribute(h)}if(r)i.attr(h,r)}},_change:function(){var e=this;var t=e._oldValue;var i=e.value();if(i&&e.min()&&i<e.min()){e.value(e.min());i=e.value()}if(i&&e.max()&&i>e.max()){e.value(e.max());i=e.value()}if(t&&i&&i.getTime()!==t.getTime()||t&&!i||!t&&i){e._oldValue=i;e.trigger(m);e.element.trigger(m)}},_input:function(){var e=this;var t=e.element[0];var i=false;if(F._activeElement()!==t)return;var n=_(this._oldText,this._format,this.element[0].value,d(this.element[0])[0]);var r=n.length===1&&n[0][1]===" ";if(!r)for(var a=0;a<n.length;a++){var o=this._dateTime.parsePart(n[a][0],n[a][1]);i=i||!o}this._updateElementValue();if(n.length&&n[0][0]!==" "){this._selectSegment(n[0][0]);if(!r){var s=n[0][0];setTimeout(function(){e._selectSegment(s)})}}if(r){var l={keyCode:39,preventDefault:function(){}};this._keydown(l)}if(i)e._blinkInvalidState()},_blinkInvalidState:function(){var e=this;e._addInvalidState();clearTimeout(e._invalidStateTimeout);e._invalidStateTimeout=setTimeout(e._removeInvalidState.bind(e),100)},_addInvalidState:function(){var e=this;e.wrapper.addClass(a);e._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(a);e._validationIcon.addClass("k-hidden");e._invalidStateTimeout=null},_mouseUp:function(){var e=d(this.element[0]);if(e[0]===e[1])this._selectNearestSegment()},_scroll:function(e){if(F._activeElement()!==this.element[0]||this.element.is("[readonly]"))return;e=window.event||e;var t={keyCode:37,preventDefault:function(){}};if(e.shiftKey)t.keyCode=(e.wheelDelta||-e.detail)>0?37:39;else t.keyCode=(e.wheelDelta||-e.detail)>0?38:40;this._keydown(t);e.returnValue=false;if(e.preventDefault)e.preventDefault();if(e.stopPropagation)e.stopPropagation()},_form:function(){var e=this;var t=e.element;var i=t.attr("form");var n=i?o("#"+i):t.closest("form");var r=t[0].value;if(!r&&e.options.value)r=e.options.value;if(n[0]){e._resetHandler=function(){setTimeout(function(){e.value(r)})};e._formElement=n.on("reset",e._resetHandler)}},_paste:function(e){e.preventDefault()},_keydown:function(e){var t=e.keyCode;var i;if(t==37||t==39){e.preventDefault();i=d(this.element[0]);if(i[0]!=i[1])this._selectNearestSegment();var n=t==37?-1:1;var r=n==-1?d(this.element[0])[0]-1:d(this.element[0])[1]+1;while(r>=0&&r<this._format.length){if(g.indexOf(this._format[r])>=0){this._selectSegment(this._format[r]);break}r+=n}}if(t==38||t==40){e.preventDefault();i=d(this.element[0]);var a=this._format[i[0]];if(g.indexOf(a)>=0){var o=1;if(a=="m")o=this.options.interval||1;this._dateTime.modifyPart(a,t==38?o*1:o*-1);this._updateElementValue();this._selectSegment(a);this.element.trigger(m)}}if(F.support.browser.msie&&F.support.browser.version<10){var s=e.keyCode?e.keyCode:e.which;if(s===8||s===46){var l=this;setTimeout(function(){l._input()},0)}}if(t===u.ENTER)this._change()},_selectNearestSegment:function(){var e=d(this.element[0]);var t=e[0];for(var i=t,n=t-1;i<this._format.length||n>=0;i++,n--){if(i<this._format.length&&g.indexOf(this._format[i])!==-1){this._selectSegment(this._format[i]);return}if(n>=0&&g.indexOf(this._format[n])!==-1){this._selectSegment(this._format[n]);return}}},_selectSegment:function(e){var t=-1,i=0;for(var n=0;n<this._format.length;n++)if(this._format[n]===e){i=n+1;if(t===-1)t=n}if(t<0)t=0;d(this.element,t,i)}}),b=(F.cssProperties.registerPrefix("DateInput","k-input-"),F.cssProperties.registerValues("DateInput",[{prop:"rounded",values:F.cssProperties.roundedValues.concat([["full","full"]])}]),i.plugin(v),function(e,t,i,n){var c=null;var p=true,h=true,m=true,g=true,v=true,b=true,o=true;var _="";var k="";var s={};var r=["","0","00","000","0000"];function l(e,t,i){e=e+"";t=t||2;i=t-e.length;if(i)return r[t].substring(0,i)+e;return e}var a=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g;var d=null,w=null,u=null,f=false;var y=function(e){var t,i;var n;switch(e){case"d":n=m?c.getDate():s.day;break;case"dd":n=m?l(c.getDate()):s.day;break;case"ddd":n=m&&h&&p?u.namesAbbr[c.getDay()]:s.weekday;break;case"dddd":n=m&&h&&p?u.names[c.getDay()]:s.weekday;break;case"M":n=h?c.getMonth()+1:s.month;break;case"MM":n=h?l(c.getMonth()+1):s.month;break;case"MMM":n=h?d.namesAbbr[c.getMonth()]:s.month;break;case"MMMM":n=h?d.names[c.getMonth()]:s.month;break;case"yy":n=p?l(c.getFullYear()%100):s.year;break;case"yyyy":n=p?l(c.getFullYear(),4):s.year;break;case"h":n=g?c.getHours()%12||12:s.hour;break;case"hh":n=g?l(c.getHours()%12||12):s.hour;break;case"H":n=g?c.getHours():s.hour;break;case"HH":n=g?l(c.getHours()):s.hour;break;case"m":n=v?c.getMinutes():s.minute;break;case"mm":n=v?l(c.getMinutes()):s.minute;break;case"s":n=b?c.getSeconds():s.second;break;case"ss":n=b?l(c.getSeconds()):s.second;break;case"f":n=o?Math.floor(c.getMilliseconds()/100):o;break;case"ff":n=c.getMilliseconds();if(n>99)n=Math.floor(n/10);n=o?l(n):e;break;case"fff":n=o?l(c.getMilliseconds(),3):e;break;case"tt":n=g?c.getHours()<12?w.AM[0]:w.PM[0]:s.dayperiod;break;case"zzz":t=c.getTimezoneOffset();i=t<0;n=Math.abs(t/60).toString().split(".")[0];t=Math.abs(t)-n*60;n=(i?"+":"-")+l(n);n+=":"+l(t);break;case"z":case"zz":n=c.getTimezoneOffset()/60;i=n<0;n=Math.abs(n).toString().split(".")[0];n=(i?"+":"-")+(e==="zz"?l(n):n);break}n=n!==D?n:e.slice(1,e.length-1);if(f){n=""+n;var r="";if(e=="ddd")e="EEE";if(e=="dddd")e="EEEE";for(var a=0;a<n.length;a++)r+=e[0];return r}else return n};function x(e){f=e;return y}function C(e,t){switch(e){case"y":p=t;break;case"M":h=t;if(!t){c.setMonth(0);_=""}break;case"d":m=t;break;case"H":case"h":g=t;if(!t)k="";break;case"m":v=t;break;case"s":b=t;break;default:return}}this.setValue=function(e){m=e};this.getValue=function(){return m};this.modifyPart=function(e,t){var i=new Date(c&&c.getTime?c.getTime():c);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":var n=i.getMonth()+t;i.setMonth(n);if(i.getMonth()%12!==(n+12)%12){i.setDate(1);i.setMonth(n)}break;case"d":case"E":i.setDate(i.getDate()+t);break;case"H":case"h":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"t":i.setHours((i.getHours()+12)%24);break;default:break}if(i.getFullYear()>0){C(e,true);c=i}};this.parsePart=function(e,t){if(!t){C(e,false);return true}var i=new Date(c&&c.getTime?c.getTime():c);var n=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();var r;switch(e){case"d":var a=(m?i.getDate()*10:0)+parseInt(t,10);if(isNaN(a))return;while(a>n)a=parseInt(a.toString().slice(1),10);if(a<1)m=false;else{i.setDate(a);if(i.getMonth()!==c.getMonth())return;m=true}break;case"M":var o=(h?(i.getMonth()+1)*10:0)+parseInt(t,10);if(!isNaN(o)){while(o>12)o=parseInt(o.toString().slice(1),10);if(o<1)h=false;else{i.setMonth(o-1);if(i.getMonth()!==o-1){i.setDate(1);i.setMonth(o-1)}h=true}}else{var s=w.months.names;_+=t.toLowerCase();while(_.length>0){for(var l=0;l<s.length;l++)if(s[l].toLowerCase().indexOf(_)===0){i.setMonth(l);h=true;c=i;return true}_=_.substring(1,_.length)}return false}break;case"y":var d=(p?i.getFullYear()*10:0)+parseInt(t,10);if(isNaN(d))return;while(d>9999)d=parseInt(d.toString().slice(1),10);if(d<1)p=false;else{i.setFullYear(d);p=true}break;case"h":r=(g?(i.getHours()%12||12)*10:0)+parseInt(t,10);if(isNaN(r))return;while(r>12)r=parseInt(r.toString().slice(1),10);i.setHours(Math.floor(i.getHours()/12)*12+r%12);g=true;break;case"H":r=(g?i.getHours()*10:0)+parseInt(t,10);if(isNaN(r))return;while(r>23)r=parseInt(r.toString().slice(1),10);i.setHours(r);g=true;break;case"m":var u=(v?i.getMinutes()*10:0)+parseInt(t,10);if(isNaN(u))return;while(u>59)u=parseInt(u.toString().slice(1),10);i.setMinutes(u);v=true;break;case"s":var f=(b?i.getSeconds()*10:0)+parseInt(t,10);if(isNaN(f))return;while(f>59)f=parseInt(f.toString().slice(1),10);i.setSeconds(f);b=true;break;case"t":if(g){k+=t.toLowerCase();while(k.length>0){if(w.AM[0].toLowerCase().indexOf(k)===0&&i.getHours()>=12||w.PM[0].toLowerCase().indexOf(k)===0&&i.getHours()<12){i.setHours((i.getHours()+12)%24);c=i;return true}k=k.substring(1,k.length)}return false}break;default:break}c=i;return true};this.toPair=function(e,t,i){if(!e)return["",""];t=F.getCulture(t);w=t.calendars.standard;e=w.patterns[e]||e;u=w.days;d=w.months;s=i;return[e.replace(a,x(false)),e.replace(a,x(true))]};this.getDateObject=function(){return p&&h&&m&&g&&v&&b&&o?new Date(c.getTime()):null};if(!e){c=new Date;var T=this.toPair(t,i,n)[1];for(var S=0;S<T.length;S++)C(T[S],false)}else c=new Date(e.getTime())});function _(e,t,i,n){var r=e[n+e.length-i.length];e=e.substring(0,n+e.length-i.length);i=i.substring(0,n);var a=[];var o;if(e===i&&n>0){a.push([t[n-1],i[n-1]]);return a}if(e.indexOf(i)===0&&(i.length===0||t[i.length-1]!==t[i.length])){var s="";for(o=i.length;o<e.length;o++)if(t[o]!==s&&g.indexOf(t[o])>=0){s=t[o];a.push([s,""])}return a}if(i[i.length-1]===" "||i[i.length-1]===r)return[[t[n-1]," "]];if(i.indexOf(e)===0||g.indexOf(t[n-1])===-1){var l=t[0];for(o=Math.max(0,e.length-1);o<t.length;o++)if(g.indexOf(t[o])>=0){l=t[o];break}return[[l,i[n-1]]]}return[[t[n-1],i[n-1]]]}return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.datepicker.min",["kendo.calendar.min","kendo.popup.min","kendo.dateinput.min","kendo.html.button.min"],function(){var H={id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup","html.button"]},d=window.kendo.jQuery,r=void 0,u=window.kendo,a=u.ui,M=u.html,o=a.Widget,f=u.parseDate,s=u.keys,i=u.support,O=u.template,L=u._activeElement,l="<div />",B="<span />",c=".kendoDatePicker",p="click"+c,V=i.mouseAndTouchPresent?u.applyEventMap("up",c.slice(1)):p,h="open",m="close",g="change",v="disabled",b="readonly",_="k-focus",k="k-state-selected",w="k-disabled",U="k-hover",W="mouseenter"+c+" mouseleave"+c,y="mousedown"+c,t="navigate",x="id",n="min",C="max",e="month",T="aria-disabled",S="aria-readonly",D="aria-expanded",F="aria-hidden",I="aria-activedescendant",E=u.calendar,j=E.isInRange,z=E.restrictValue,q=E.isEqualDatePart,A=d.extend,R=Date;function N(e){var t=e.parseFormats,i=e.format;E.normalize(e);t=Array.isArray(t)?t:[t];if(!t.length)t.push("yyyy-MM-dd");if(d.inArray(i,t)===-1)t.splice(0,0,e.format);e.parseFormats=t}function G(e){e.preventDefault()}var P=function(e){var t=this,i,n=document.body,r=d(l).attr(F,"true").addClass("k-calendar-container");t.options=e=e||{};i=e.id;if(!e.omitPopup){r.appendTo(n);t.popup=new a.Popup(r,A(e.popup,e,{name:"Popup",isRtl:u.support.isRtl(e.anchor)}))}else r=e.dateDiv;if(i){i+="_dateview";r.attr(x,i);t._dateViewID=i}t.div=r;t.value(e.value)},$=(P.prototype={_calendar:function(){var e=this;var t=e.calendar;var i=e.options;var n;if(!t){n=d(l).attr(x,u.guid()).appendTo(i.omitPopup?i.dateDiv:e.popup.element).on(y,G).on(p,"td:has(.k-link)",e._click.bind(e));e.calendar=t=new a.Calendar(n,{componentType:i.componentType,size:i.size,messages:i.messages});e._setOptions(i);n.addClass(u.getValidCssClass("k-calendar-","size",i.size));t.navigate(e._value||e._current,i.start);e.value(e._value)}},_setOptions:function(e){this.calendar.setOptions({focusOnNav:false,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,messages:e.messages,disableDates:e.disableDates})},setOptions:function(e){var t=this.options;var i=e.disableDates;if(i)e.disableDates=E.disabled(i);this.options=A(t,e,{change:t.change,close:t.close,open:t.open});if(this.calendar)this._setOptions(this.options)},destroy:function(){if(this.popup)this.popup.destroy()},open:function(){var e=this;var t;e._calendar();t=e.popup._hovered;e.popup._hovered=true;e.popup.open();setTimeout(function(){e.popup._hovered=t},1)},close:function(){if(this.popup)this.popup.close()},min:function(e){this._option(n,e)},max:function(e){this._option(C,e)},toggle:function(){var e=this;e[e.popup.visible()?m:h]()},move:function(e){var t=this,i=e.keyCode,n=t.calendar,r=e.ctrlKey&&i==s.DOWN||i==s.ENTER,a=false;if(e.altKey){if(i==s.DOWN){t.open();e.preventDefault();a=true}else if(i==s.UP){t.close();e.preventDefault();a=true}}else if(t.popup&&t.popup.visible()){if(i==s.ESC||r&&n._cell.hasClass(k)){t.close();e.preventDefault();return true}if(i!=s.SPACEBAR)t._current=n._move(e);a=true}return a},current:function(e){this._current=e;if(this.calendar)this.calendar._focus(e)},value:function(e){var t=this,i=t.calendar,n=t.options,r=n.disableDates;if(r&&r(e))e=null;t._value=e;t._current=new R(+z(e,n.min,n.max));if(i)i.value(e)},_click:function(e){if(e.currentTarget.className.indexOf(k)!==-1){this.calendar.trigger("change");this.close()}},_option:function(e,t){var i=this;var n=i.calendar;i.options[e]=t;if(n)n[e](t)}},P.normalize=N,u.DateView=P,o.extend({init:function(n,e){var r=this,t,i,a;o.fn.init.call(r,n,e);n=r.element;e=r.options;e.disableDates=u.calendar.disabled(e.disableDates);e.min=f(n.attr("min"))||f(e.min);e.max=f(n.attr("max"))||f(e.max);N(e);r._initialOptions=A({},e);r._wrapper();r.dateView=new P(A({},e,{id:n.attr(x),anchor:r.wrapper,change:function(){r._change(this.value());r.close()},close:function(e){if(r.trigger(m))e.preventDefault();else{n.attr(D,false);a.attr(F,true);setTimeout(function(){n.removeAttr("aria-activedescendant")})}},open:function(e){var t=r.options,i;if(r.trigger(h))e.preventDefault();else{if(r.element.val()!==r._oldText){i=f(n.val(),t.parseFormats,t.culture);r.dateView[i?"current":"value"](i)}n.attr(D,true);a.attr(F,false);r._updateARIA(i)}}}));a=r.dateView.div;r._icon();try{n[0].setAttribute("type","text")}catch(e){n[0].type="text"}n.addClass("k-input-inner").attr({role:"combobox","aria-expanded":false,"aria-haspopup":"grid","aria-controls":r.dateView._dateViewID,autocomplete:"off"});r._reset();r._template();i=n.is("[disabled]")||d(r.element).parents("fieldset").is(":disabled");if(i)r.enable(false);else r.readonly(n.is("[readonly]"));t=f(e.value||r.element.val(),e.parseFormats,e.culture);r._createDateInput(e);r._old=r._update(t||r.element.val());r._oldText=n.val();r._applyCssClasses();u.notify(r)},events:[h,m,g],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:e,depth:e,animation:{},month:{},dates:[],disableDates:null,ARIATemplate:"Current focused #=data.valueType# is #=data.text#",dateInput:false,weekNumber:false,messages:{weekColumnHeader:""},componentType:"classic",size:"medium",fillMode:"solid",rounded:"medium"},setOptions:function(e){var t=this;var i=t._value;o.fn.setOptions.call(t,e);e=t.options;e.min=f(e.min);e.max=f(e.max);N(e);t._dateIcon.off(c);t._dateIcon.remove();t.dateView.setOptions(e);t._icon();t._editable(e);t._createDateInput(e);if(!t._dateInput)t.element.val(u.toString(i,e.format,e.culture));if(i)t._updateARIA(i)},_editable:function(e){var t=this,i=t._dateIcon.off(c),n=t.element.off(c),r=t.wrapper.off(c),a=e.readonly,o=e.disable;if(!a&&!o){r.removeClass(w).on(W,t._toggleHover);if(n&&n.length){n[0].removeAttribute(v);n[0].removeAttribute(b)}n.attr(T,false).attr(S,false).on("keydown"+c,t._keydown.bind(t)).on("focusout"+c,t._blur.bind(t)).on("focus"+c,function(){t.wrapper.addClass(_)});i.on(V,t._click.bind(t)).on(y,G)}else{r.addClass(o?w:"").removeClass(o?"":w);n.attr(v,o).attr(b,a).attr(T,o).attr(S,a)}},readonly:function(e){this._editable({readonly:e===r?true:e,disable:false});if(this._dateInput)this._dateInput._editable({readonly:e===r?true:e,disable:false})},enable:function(e){this._editable({readonly:false,disable:!(e=e===r?true:e)});if(this._dateInput)this._dateInput._editable({readonly:false,disable:!(e=e===r?true:e)})},destroy:function(){var e=this;o.fn.destroy.call(e);if(e.dateView.calendar&&e._navigateCalendarHandler){e.dateView.calendar.unbind(t,e._navigateCalendarHandler);e._navigateCalendarHandler=null}e.dateView.destroy();e.element.off(c);e._dateIcon.off(c);if(e._form)e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open();this._navigateCalendar()},close:function(){this.dateView.close()},min:function(e){return this._option(n,e)},max:function(e){return this._option(C,e)},value:function(e){var t=this;if(e===r)return t._value;t._old=t._update(e);if(t._old===null)if(t._dateInput)t._dateInput.value(t._old);else t.element.val("");t._oldText=t.element.val()},_toggleHover:function(e){d(e.currentTarget).toggleClass(U,e.type==="mouseenter")},_blur:function(){var e=this,t=e.element.val();e.close();if(t!==e._oldText){e._change(t);if(!t)e.dateView.current(u.calendar.getToday())}e.wrapper.removeClass(_)},_click:function(e){var t=this;t.dateView.toggle();t._navigateCalendar();t._focusElement(e.type)},_focusElement:function(e){var t=this.element;if((!i.touch||i.mouseAndTouchPresent&&!(e||"").match(/touch/i))&&t[0]!==L())t.trigger("focus")},_change:function(e){var t=this,i=t.element.val(),n;e=t._update(e);n=!u.calendar.isEqualDate(t._old,e);var r=n&&!t._typing;var a=i!==t.element.val();if(r||a)t.element.trigger(g);if(n){t._old=e;t._oldText=t.element.val();t.trigger(g)}t._typing=false},_keydown:function(e){var t=this,i=t.dateView,n=t.element.val(),r=false;if(!i.popup.visible()&&e.keyCode==s.ENTER&&n!==t._oldText)t._change(n);else{r=i.move(e);t._updateARIA(i._current);if(!r)t._typing=true;else if(t._dateInput&&e.stopImmediatePropagation)e.stopImmediatePropagation()}},_icon:function(){var e=this,t=e.element,i=e.options,n;n=t.next("button.k-input-button");if(!n[0])n=d(M.renderButton('<button aria-label="select" tabindex="-1" class="k-input-button k-button k-icon-button"></button>',{icon:"calendar",size:i.size,fillMode:i.fillMode,shape:"none",rounded:"none"})).insertAfter(t);e._dateIcon=n.attr({role:"button"})},_setCalendarAttribute:function(){var e=this;setTimeout(function(){e.element.attr(I,e.dateView.calendar._table.attr(I))})},_navigateCalendar:function(){var e=this;if(!e._navigateCalendarHandler)e._navigateCalendarHandler=e._setCalendarAttribute.bind(e);if(!!e.dateView.calendar)e.dateView.calendar.unbind(t,e._navigateCalendarHandler).bind(t,e._navigateCalendarHandler)},_option:function(e,t){var i=this,n=i.options;if(t===r)return n[e];t=f(t,n.parseFormats,n.culture);if(!t)return;n[e]=new R(+t);i.dateView[e](t)},_update:function(e){var t=this,i=t.options,n=i.min,r=i.max,a=t._value,o=f(e,i.parseFormats,i.culture),s=o===null&&a===null||o instanceof Date&&a instanceof Date,l;if(i.disableDates(o)){o=null;if(!t._old&&!t.element.val())e=null}if(+o===+a&&s){l=u.toString(o,i.format,i.culture);if(l!==e&&!(t._dateInput&&!o))t.element.val(o===null?e:l);return o}if(o!==null&&q(o,n))o=z(o,n,r);else if(!j(o,n,r))o=null;t._value=o;t.dateView.value(o);if(t._dateInput&&o)t._dateInput.value(o||e);else t.element.val(u.toString(o||e,i.format,i.culture));t._updateARIA(o);return o},_wrapper:function(){var e=this,t=e.element,i;i=t.parents(".k-datepicker");if(!i[0])i=t.wrap(B).parent();i[0].style.cssText=t[0].style.cssText;t.css({height:t[0].style.height});e.wrapper=i.addClass("k-datepicker k-input").addClass(t[0].className).removeClass("input-validation-error")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=e.options,r=n.disableDates,a=n.parseFormats.length?n.parseFormats:null,o=e._initialOptions.value,s=i?d("#"+i):t.closest("form"),l=t[0].defaultValue;if(o&&(r&&r(o)))o=null;if((!l||!u.parseDate(l,a,n.culture))&&o)t.attr("value",u.toString(o,n.format,n.culture));if(s[0]){e._resetHandler=function(){e.value(o||t[0].defaultValue);e.max(e._initialOptions.max);e.min(e._initialOptions.min)};e._form=s.on("reset",e._resetHandler)}},_template:function(){this._ariaTemplate=O(this.options.ARIATemplate).bind(this)},_createDateInput:function(e){if(this._dateInput){this._dateInput.destroy();this._dateInput=null}if(e.dateInput)this._dateInput=new a.DateInput(this.element,{culture:e.culture,format:e.format,size:e.size,fillMode:e.fillMode,rounded:e.rounded,min:e.min,max:e.max})},_updateARIA:function(e){var t=this;var i=t.dateView.calendar;if(t.element&&t.element.length)t.element[0].removeAttribute(I);if(i)t.element.attr(I,i._updateAria(t._ariaTemplate,e))}}));return u.cssProperties.registerPrefix("DatePicker","k-input-"),u.cssProperties.registerValues("DatePicker",[{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}]),a.plugin($),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.validator.min",["kendo.core.min"],function(){var e={id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]},y=window.kendo.jQuery,M=void 0,x=window.kendo,a=x.ui.Widget,o=".kendoValidator",C="k-invalid-msg",s=new RegExp(C,"i"),T="k-invalid",S="k-valid",l="k-validation-summary",D="k-text-error",d="k-messagebox k-messagebox-error",F=".k-input-inner",I=".k-input",E="aria-invalid",n="aria-describedby",t=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,i=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",f=":checkbox:not([disabled],[readonly])",c="[type=number],[type=range]",r="blur",z="name",p="form",h="novalidate",m="validate",g="change",A="validateInput",v=function(e,t){if(typeof t==="string")t=new RegExp("^(?:"+t+")$");return t.test(e)},b=function(e,t,i){var n=e.val();if(e.filter(t).length&&n!=="")return v(n,i);return true},_=function(e,t){if(e.length)return e[0].attributes[t]!=null;return false};if(!x.ui.validator)x.ui.validator={rules:{},messages:{},allowSubmit:y.noop,validateOnInit:y.noop};function k(e){var t=x.ui.validator.ruleResolvers||{},i={},n;for(n in t)y.extend(true,i,t[n].resolve(e));return i}function R(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function w(e){e=(e+"").split(".");if(e.length>1)return e[1].length;return 0}function N(e){if(y.parseHTML)return y(y.parseHTML(e));return y(e)}function P(e,t){var i=y(),n,r;for(var a=0,o=e.length;a<o;a++){n=e[a];if(s.test(n.className)){r=n.getAttribute(x.attr("for"));if(r===t)i=i.add(n)}}return i}function H(e,t){if(!e)return false;if(typeof e.nodeName!=="string"||e.nodeName!=="LABEL")return false;if(typeof e.getAttribute("for")!=="string"||typeof t.getAttribute("id")!=="string")return false;if(e.getAttribute("for")!==t.getAttribute("id"))return false;return true}var O="<ul>"+"#for(var i = 0; i < errors.length; i += 1){#"+'<li><a data-field="#=errors[i].field#" href="\\#">#= errors[i].message #</a></li>'+"# } #"+"</ul>",L=a.extend({init:function(e,t){var i=this,n=k(e),r="["+x.attr("validate")+"!=false]";t=t||{};t.rules=y.extend({},x.ui.validator.rules,n.rules,t.rules);t.messages=y.extend({},x.ui.validator.messages,n.messages,t.messages);a.fn.init.call(i,e,t);i._errorTemplate=x.template(i.options.errorTemplate);i._summaryTemplate=x.template(i.options.validationSummary.template||O);if(i.element.is(p))i.element.attr(h,h);i._inputSelector=u+r;i._checkboxSelector=f+r;i._errors={};i._attachEvents();i._isValidated=false;if(i._validateOnInit())i.validate()},events:[m,g,A],options:{name:"Validator",errorTemplate:'<span class="k-form-error">#= message #</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date",captcha:"The text you entered doesn't match the image."},rules:{required:function(e){var t=!e.attr("name")&&!e.is(":checked"),i=e.attr("name"),n=!!i&&i.indexOf("'")>-1?'"':"'",r=e.attr("name")&&!this.element.find("input[name="+n+e.attr("name")+n+"]:checked").length,a=e.filter("[type=checkbox]").length&&(t||r),o=e.filter("[type=radio]").length&&!this.element.find("input[name="+n+e.attr("name")+n+"]:checked").length,s=e.val();return!(_(e,"required")&&(!s||s===""||s.length===0||a||o))},pattern:function(e){if(e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&e.val()!=="")return v(e.val(),e.attr("pattern"));return true},min:function(e){if(e.filter(c+",["+x.attr("type")+"=number]").filter("[min]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,i=x.parseFloat(e.val());return t<=i}return true},max:function(e){if(e.filter(c+",["+x.attr("type")+"=number]").filter("[max]").length&&e.val()!==""){var t=parseFloat(e.attr("max"))||0,i=x.parseFloat(e.val());return t>=i}return true},step:function(e){if(e.filter(c+",["+x.attr("type")+"=number]").filter("[step]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,i=parseFloat(e.attr("step"))||1,n=parseFloat(e.val()),r=w(i),a;if(r){a=Math.pow(10,r);return Math.floor((n-t)*a)%(i*a)/Math.pow(100,r)===0}return(n-t)%i===0}return true},email:function(e){return b(e,"[type=email],["+x.attr("type")+"=email]",t)},url:function(e){return b(e,"[type=url],["+x.attr("type")+"=url]",i)},date:function(e){if(e.filter("[type^=date],["+x.attr("type")+"=date]").length&&e.val()!=="")return x.parseDate(e.val(),e.attr(x.attr("format")))!==null;return true},captcha:function(e){if(e.filter("["+x.attr("role")+"=captcha]").length){var t=this,i=x.widgetInstance(e),n=function(e){return typeof e!=="undefined"&&e!==null};if(!e.data("captcha_validating")&&!n(i.isValid())&&!!i.getCaptchaId()){e.data("captcha_validating",true);t._validating=true;i.validate().done(function(){t._validating=false;t._checkElement(e)}).fail(function(e){t._validating=false;if(e.error&&e.error==="handler_not_defined")window.console.warn("Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.")})}if(n(i.isValid())){e.removeData("captcha_validating");return i.isValid()}}return true}},validateOnBlur:true,validationSummary:false},_allowSubmit:function(){return x.ui.validator.allowSubmit(this.element,this.errors())},_validateOnInit:function(){return x.ui.validator.validateOnInit(this.element)},destroy:function(){a.fn.destroy.call(this);this.element.off(o);if(this.validationSummary){this.validationSummary.off(o);this.validationSummary=null}},value:function(){if(!this._isValidated)return false;return this.errors().length===0},_submit:function(e){if(!this.validate()&&!this._allowSubmit()||this._validating){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();return false}return true},_checkElement:function(e){var t=this.value();this.validateInput(e);if(this.value()!==t)this.trigger(g)},_attachEvents:function(){var e=this;if(e.element.is(p))e.element.on("submit"+o,e._submit.bind(e));if(e.options.validateOnBlur)if(!e.element.is(u)){e.element.on(r+o,e._inputSelector,function(){e._checkElement(y(this))});e.element.on("click"+o,e._checkboxSelector,function(){e._checkElement(y(this))})}else{e.element.on(r+o,function(){e._checkElement(e.element)});if(e.element.is(f))e.element.on("click"+o,function(){e._checkElement(e.element)})}},validate:function(){var e;var t;var i=false;var n;var r=this.value();this._errors={};if(!this.element.is(u)){var a=false;e=this.element.find(this._inputSelector);for(t=0,n=e.length;t<n;t++)if(!this.validateInput(e.eq(t)))a=true;i=!a}else i=this.validateInput(this.element);if(this.options.validationSummary&&!r)this.showValidationSummary();this.trigger(m,{valid:i,errors:this.errors()});if(r!==i)this.trigger(g);return i},validateInput:function(e){e=y(e);this._isValidated=true;var t=this,i=t._errorTemplate,n=t._checkValidity(e),r=n.valid,a,o="."+C,s=e.attr(z)||"",l=t._findMessageContainer(s).add(e.next(o).filter(function(){var e=y(this);if(e.filter("["+x.attr("for")+"]").length)return e.attr(x.attr("for"))===s;return true})).addClass("k-hidden"),d=!r?t._extractMessage(e,n.key):"",u=!r?N(i({message:R(d),field:s})):"",f=!e.attr(E),c=e.is(F),p=e.parent(I);e.removeAttr(E);if(!r&&!e.data("captcha_validating")){t._errors[s]=d;var h=l.attr("id");t._decorateMessageContainer(u,s);if(h)u.attr("id",h);if(l.length!==0)l.replaceWith(u);else{a=x.widgetInstance(e);var m=e.parent().get(0);var g=e.next().get(0);var v=e.prev().get(0);if(!a&&e.is("[type=radio]"))a=x.widgetInstance(e.closest(".k-radio-list"));if(!a&&e.is("[type=checkbox]"))a=x.widgetInstance(e.closest(".k-checkbox-list"));if(a&&a.wrapper)u.insertAfter(a.wrapper);else if(m&&m.nodeName==="LABEL")u.insertAfter(m);else if(g&&H(g,e[0]))u.insertAfter(g);else if(v&&H(v,e[0]))u.insertAfter(e);else if(c&&p.length)u.insertAfter(p);else u.insertAfter(e)}u.removeClass("k-hidden");e.attr(E,true)}else delete t._errors[s];if(f!==r)this.trigger(A,{valid:r,input:e,error:d,field:s});a=x.widgetInstance(e);if(!a||!(a._inputWrapper||a.wrapper)){e.toggleClass(T,!r);e.toggleClass(S,r)}if(a){var b=x.widgetInstance(e);var _=b._inputWrapper||b.wrapper;var k=b._inputLabel;if(_){_.toggleClass(T,!r);_.toggleClass(S,r)}if(k)k.toggleClass(D,!r)}if(f!==r){var w=u?u.attr("id"):l.attr("id");t._associateMessageContainer(e,w);if(this.options.validationSummary&&this.options.validateOnBlur)this.showValidationSummary()}return r},hideMessages:function(){var e=this,t="."+C,i=e.element;e._disassociateMessageContainers();if(!i.is(u))i.find(t).addClass("k-hidden");else i.next(t).addClass("k-hidden")},reset:function(){var e=this,t=e.element.find("."+T),i=e.element.find("."+D);e._errors=[];e.hideMessages();e.hideValidationSummary();t.removeAttr(E);t.removeClass(T);i.removeClass(D)},_findMessageContainer:function(e){var t=x.ui.validator.messageLocators,i,n=y();for(var r=0,a=this.element.length;r<a;r++)n=n.add(P(this.element[r].getElementsByTagName("*"),e));for(i in t)n=n.add(t[i].locate(this.element,e));return n},_decorateMessageContainer:function(e,t){var i=x.ui.validator.messageLocators,n;e.addClass(C).attr(x.attr("for"),t||"");if(!e.attr("id"))e.attr("id",t+"-error");for(n in i)i[n].decorate(e,t)},_extractMessage:function(e,t){var i=this,n=i.options.messages[t],r=e.attr(z),a;if(!x.ui.Validator.prototype.options.messages[t])a=x.isFunction(n)?n(e):n;n=x.isFunction(n)?n(e):n;return x.format(e.attr(x.attr(t+"-msg"))||e.attr("validationMessage")||a||n||e.attr("title")||"",r,e.attr(t)||e.attr(x.attr(t)))},_checkValidity:function(e){var t=this.options.rules,i;for(i in t)if(!t[i].call(this,e))return{valid:false,key:i};return{valid:true}},errors:function(){var e=[],t=this._errors,i;for(i in t)e.push(t[i]);return e},setOptions:function(e){if(e.validationSummary)this.hideValidationSummary();x.deepExtend(this.options,e);this.destroy();this.init(this.element,this.options);this._setEvents(this.options)},_getInputNames:function(){var e=this,t=e.element.find(e._inputSelector),i=[];for(var n=0,r=t.length;n<r;n++){var a=y(t[n]);if(_(a,z))if(i.indexOf(a.attr(z))===-1||a.closest(".k-checkbox-list").length===0&&a.closest(".k-radio-list").length===0)i.push(a.attr(z))}return i},_associateMessageContainer:function(e,t){var i=x.getWidgetFocusableElement(e);if(!i||!t)return;x.toggleAttribute(i,n,t)},_disassociateMessageContainers:function(){var e=this,t=e.element.find("."+T).addBack(),i,n;for(var r=0;r<t.length;r+=1){i=y(t[r]);if(i.is("input")){n=e._findMessageContainer(i.attr(z)).add(i.next("."+C)).attr("id");e._associateMessageContainer(i,n)}}},_errorsByName:function(){var e=this,t=e._getInputNames(),i=[];for(var n=0;n<t.length;n+=1){var r=t[n];if(e._errors[r])i.push({field:r,message:e._errors[r]})}return i},_renderSummary:function(){var e=this,t=this.options.validationSummary,i=this.element,n=i.prev(),r;if(t.container)r=y(t.container);else if(n&&n.hasClass(l))r=n;else r=y("<div />").insertBefore(e.element);r.addClass([l,d].join(" "));r.attr("role","alert");r.on("click"+o,e._summaryClick.bind(e));return r},_summaryClick:function(e){e.preventDefault();var t=this,i=y(e.target),n=t.element.find("[name='"+i.data("field")+"']"),r;if(!n.length)return;r=x.getWidgetFocusableElement(n);if(r)r.trigger("focus")},showValidationSummary:function(){var e=this,t=e.validationSummary,i=e._errorsByName(),n;if(!t)t=e.validationSummary=e._renderSummary();n=N(e._summaryTemplate({errors:i}));t.html(n);t.toggleClass("k-hidden",!i.length)},hideValidationSummary:function(){var e=this,t=e.validationSummary;if(!t)return;t.addClass("k-hidden")}});return x.ui.plugin(L),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.editable.min",["kendo.checkbox.min","kendo.dropdownlist.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.validator.min","kendo.binder.min"],function(){var e={id:"editable",name:"Editable",category:"framework",depends:["checkbox","dropdownlist","datepicker","numerictextbox","validator","binder"],hidden:true},h=window.kendo.jQuery,c=void 0,m=window.kendo,t=m.ui,n=t.Widget,g=h.extend,v=m.isFunction,b=h.isPlainObject,_=h.inArray,k=".",w="off",y=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,i,d="change",p="equalSet",x=["url","email","number","date","boolean"];function C(e){e=e!=null?e:"";return e.type||m.type(e)||"string"}function T(e){e.find(":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, ["+m.attr("role")+"=listbox], ["+m.attr("role")+"=upload], ["+m.attr("skip")+"], [type=file])").each(function(){var e=m.attr("bind"),t=this.getAttribute(e)||"",i=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",n=this.getAttribute("name")===s.antiForgeryTokenName,r=this.name;if(t.indexOf(i)===-1&&r&&!n){t+=(t.length?",":"")+i+r;h(this).attr(e,t)}})}function l(e){var t=(e.model.fields||e.model)[e.field],i=C(t),n=t?t.validation:{},r=t?t.attributes:{},a,o=m.attr("type"),s=m.attr("bind"),l,d={id:e.id||e.field,name:e.field,title:e.title?e.title:e.field};for(a in n){l=n[a];if(_(a,x)>=0)d[o]=a;else if(!v(l)){var u=m.getCulture();if(typeof l==="number"&&u.name.length){var f=u.numberFormat;var c=l.toString().replace(k,f[k]);d[a]=c}else d[a]=b(l)?l.value||a:l}d[m.attr(a+"-msg")]=l.message;d.autocomplete=w}for(var p in r)d[p]=r[p];if(_(i,x)>=0)d[o]=i;d[s]=(i==="boolean"?"checked:":"value:")+e.field;return d}function o(e,t){var i=e.attr("id");if(i){t.id=i;e.removeAttr("id")}return t}function r(e){var t,i,n,r,a,o;if(e&&e.length){o=[];for(t=0,i=e.length;t<i;t++){n=e[t];a=n.text||n.value||n;r=n.value==null?n.text||n:n.value;o[t]={text:a,value:r}}}return o}function u(e,t){var i;if(!e.length)return;if(e==="DropDownTree"&&t&&t.checkboxes||e==="MultiSelect")i="<select />";else if(e==="RadioGroup"||e==="CheckBoxGroup")i="<ul />";else i=e==="Editor"||e==="TextArea"?"<textarea />":"<input />";return i}var S=["AutoComplete","CheckBox","CheckBoxGroup","ColorPicker","ComboBox","DateInput","DatePicker","DateTimePicker","DropDownTree","Editor","MaskedTextBox","MultiColumnComboBox","MultiSelect","NumericTextBox","RadioGroup","Rating","Slider","Switch","TimePicker","DropDownList","TextBox","TextArea","Captcha"],a,D={number:function(e,t){var i=l(t);i=o(e,i);h('<input type="number"/>').attr(i).appendTo(e)},date:function(e,t){var i=l(t);i=o(e,i);h('<input type="date"/>').attr(i).appendTo(e)},string:function(e,t){var i=l(t);i=o(e,i);h('<input type="text" />').attr(i).appendTo(e)},boolean:function(e,t){var i=l(t);i=o(e,i);h('<input type="checkbox" />').attr(i).appendTo(e)},values:function(e,t){var i=l(t);var n=t.values;var r=h("<select />");i=o(e,i);for(var a in n)h('<option value="'+n[a].value+'">'+n[a].text+"</option>").appendTo(r);r.attr(i).appendTo(e)}};function F(e,t){var i=e?e.validation||{}:{},n,r;for(n in i){r=i[n];if(b(r)&&r.value)r=r.value;if(v(r))t[n]=r}}function f(e,t,i){var n=i?i.shouldRenderHidden||false:false;if(n){e.val(true);t.append(h("<input type='hidden' name='"+i.field+"' value='false' data-skip='true' data-validate='false'/>"))}}var s=n.extend({init:function(e,t){var i=this;if(t.target){t.$angular=t.target.options.$angular;if(t.target.pane)i._isMobile=true}n.fn.init.call(i,e,t);i._validateProxy=i._validate.bind(i);i.refresh()},events:[d],options:{name:"Editable",editors:{hidden:function(e,t){var i=l(t);h('<input type="hidden"/>').attr(i).appendTo(e)},number:function(e,t){var i=l(t);h('<input type="text"/>').attr(i).appendTo(e).kendoNumericTextBox({format:t.format});h("<span "+m.attr("for")+'="'+t.field+'" class="k-invalid-msg k-hidden"/>').appendTo(e)},date:function(e,t){var i=l(t),n=t.format;if(n)n=m._extractFormat(n);i[m.attr("format")]=n;h('<input type="text"/>').attr(i).appendTo(e).kendoDatePicker({format:t.format});h("<span "+m.attr("for")+'="'+t.field+'" class="k-invalid-msg k-hidden"/>').appendTo(e)},string:function(e,t){var i=l(t);h('<input type="text"/>').attr(i).appendTo(e).kendoTextBox()},boolean:function(e,t){var i=l(t);var n=h('<input type="checkbox" />').attr(i).kendoCheckBox().appendTo(e);f(n,e,t)},values:function(e,t){var i=l(t);var n=m.stringify(r(t.values));h("<select "+m.attr("text-field")+'="text"'+m.attr("value-field")+'="value"'+m.attr("source")+"='"+(n?n.replace(/\'/g,"&apos;"):n)+"'"+m.attr("role")+'="dropdownlist"/>').attr(i).appendTo(e);h("<span "+m.attr("for")+'="'+t.field+'" class="k-invalid-msg  k-hidden"/>').appendTo(e)},kendoEditor:function(e,t){var i=l(t);var n=t.editor;var r="kendo"+n;var a=t.editorOptions;var o=u(n,a);var s=h(o).attr(i).appendTo(e)[r](a);f(s,e,t)}},mobileEditors:D,clearContainer:true,validateOnBlur:true,validationSummary:false,errorTemplate:'<div class="k-tooltip k-tooltip-error k-validator-tooltip">'+'<span class="k-tooltip-icon k-icon k-i-warning"></span>'+'<span class="k-tooltip-content">#= message #</span>'+'<span class="k-callout k-callout-n"></span>'+"</div>",skipFocus:false},editor:function(t,e){var i=this,n=i._isMobile?D:i.options.editors,r=b(t),a=r?t.field:t,o=i.options.model||{},s=r&&t.values,l=s?"values":C(e),d=r&&typeof t.editor==="string"&&t.editor==="hidden",u=r&&!d&&t.editor,f=r&&h.inArray(t.editor,S)!==-1,c=u?t.editor:n[d?"hidden":l],p=i.element.find("["+m.attr("container-for")+"="+a.replace(y,"\\$1")+"]");c=c?c:n.string;if(f)c=n.kendoEditor;else if(u&&typeof t.editor==="string")c=function(e){e.append(t.editor)};p=p.length?p:i.element;c(p,g(true,{},r?t:{field:a},{model:o}))},_validate:function(e){var t=this,i,n=e.value,r=t._validationEventInProgress,a={},o=m.attr("bind"),s=e.field.replace(y,"\\$1"),l=new RegExp("(value|checked)\\s*:\\s*"+s+"\\s*(,|$)");a[e.field]=e.value;i=h(":input["+o+'*="'+s+'"]',t.element).filter("["+m.attr("validate")+"!='false']").filter(function(){return l.test(h(this).attr(o))});if(i.length>1)i=i.filter(function(){var e=h(this);return!e.is(":radio")||e.val()==n});try{t._validationEventInProgress=true;if(!t.validatable.validateInput(i)||!r&&t.trigger(d,{values:a}))e.preventDefault()}finally{t._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element}});n.fn.destroy.call(e);e.options.model.unbind("set",e._validateProxy);e.options.model.unbind(p,e._validateProxy);m.unbind(e.element);if(e.validatable)e.validatable.destroy();m.destroy(e.element);e.element.removeData("kendoValidator");if(e.element.is("["+m.attr("role")+"=editable]"))e.element.removeAttr(m.attr("role"))},refresh:function(){var e=this,t,i,n=e.options.fields||[],r=e.options.clearContainer?e.element.empty():e.element,a=e.options.model||{},o={},s,l,d,u,f;if(!Array.isArray(n))n=[n];for(t=0,i=n.length;t<i;t++){s=n[t];l=b(s);d=l?s.field:s;u=(a.fields||a)[d];F(u,o);e.editor(s,u)}if(e.options.target)e.angular("compile",function(){return{elements:r,data:r.map(function(){return{dataItem:a}})}});if(!i){f=a.fields||a;for(d in f)F(f[d],o)}T(r);if(e.validatable)e.validatable.destroy();m.bind(r,e.options.model);if(e.options.validateOnBlur){e.options.model.unbind("set",e._validateProxy).bind("set",e._validateProxy);e.options.model.unbind(p,e._validateProxy).bind(p,e._validateProxy)}e.validatable=new m.ui.Validator(r,{validateOnBlur:e.options.validateOnBlur,validationSummary:e.options.validationSummary,errorTemplate:e.options.errorTemplate||c,rules:o});if(!e.options.skipFocus)r.find(":kendoFocusable").eq(0).trigger("focus")}});return s.antiForgeryTokenName="__RequestVerificationToken",t.plugin(s),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.pager.min",["kendo.data.min"],function(){var e={id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:true},w=window.kendo.jQuery,r=void 0,y=window.kendo,t=y.ui,l=t.Widget,o=y.keys,i=y.template,d=".k-i-arrow-end-left",u=".k-i-arrow-end-right",f=".k-i-arrow-60-left",c=".k-i-arrow-60-right",n="k-pager-md k-pager-sm",s=":kendoFocusable:not([tabindex='-1'])",p="change",h=".kendoPager",m="click",g="keydown",x="disabled",v="down",C=Number.MAX_VALUE,b=false,a=y.template('<a href="\\#" role="button" title="#=text#" aria-label="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>');function T(e){return e.template({idx:e.idx,text:e.text,ns:y.ns,numeric:e.numeric,title:e.title||"",tabindex:e.navigatable?0:-1,navigatable:e.navigatable})}function S(e,t,i,n){return e({idx:t,text:i||t,selected:n||false})}function _(e,t,i,n){return a({className:e.substring(1),text:t,wrapClassName:i||"",id:n||""})}function k(e,t,i,n){e.find(t).parent().attr(y.attr("page"),i).attr("tabindex",n?-1:0).attr("aria-disabled",n).toggleClass("k-state-disabled",n)}function D(e,t){k(e,d,1,t<=1)}function F(e,t){k(e,f,Math.max(1,t-1),t<=1)}function I(e,t,i){k(e,c,Math.min(i,t+1),t>=i)}function E(e,t,i){k(e,u,i,t>=i)}var z=l.extend({init:function(e,t){var i=this,n,r;var a=null;l.fn.init.call(i,e,t);t=i.options;i._createDataSource(t);i.linkTemplate=y.template(i.options.linkTemplate);i.selectTemplate=y.template(i.options.selectTemplate);i.numericSelectItemTemplate=y.template(i.options.numericSelectItemTemplate);n=i.page();r=i.totalPages();i._refreshHandler=i.refresh.bind(i);i.dataSource.bind(p,i._refreshHandler);i.downEvent=y.applyEventMap(v,y.guid());b=y.support.isRtl(e);if(t.navigatable)i._id=i.element.attr("id")||y.guid();i._template();if(t.previousNext){if(!i.element.find(d).length){i.element.append(_(d,t.messages.first,"k-pager-first",i._id));D(i.element,n,r)}if(!i.element.find(f).length){i.element.append(_(f,t.messages.previous,null,i._id));F(i.element,n,r)}}if(t.numeric){if(!i._numericWrap){i._numericWrap=i.element.find(".k-pager-numbers-wrap");if(i._numericWrap.length===0)i._numericWrap=w("<div class='k-pager-numbers-wrap' />").appendTo(i.element)}if(!i._numericSelect){i._numericSelect=i._numericWrap.find(".k-dropdown");if(i._numericSelect.length===0)i._numericSelect=w("<select aria-label='"+i.options.messages.numbersSelectLabel+"' class='k-dropdown k-picker k-dropdown-list' />").appendTo(i._numericWrap)}if(!i.list){i.list=i._numericWrap.find(".k-pager-numbers");if(i.list.length===0)i.list=w('<ul class="k-pager-numbers" />').appendTo(i._numericWrap)}if(t.dataSource&&!t.dataSource.total()){i._numericSelect.empty().append("<option value='0' />");i.list.empty().append(i.selectTemplate({text:0,tabindex:t.navigatalbe?0:-1,navigatable:t.navigatable,title:y.format(t.messages.pageButtonLabel,0)}))}}if(t.input){if(!i.element.find(".k-pager-input").length)i.element.append('<span class="k-pager-input k-label">'+t.messages.page+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" /></span>'+y.format(t.messages.of,r)+"</span>");i.element.on(g+h,".k-pager-input input",i._keydown.bind(i))}if(t.previousNext){if(!i.element.find(c).length){i.element.append(_(c,t.messages.next,null,i._id));I(i.element,n,r)}if(!i.element.find(u).length){i.element.append(_(u,t.messages.last,"k-pager-last",i._id));E(i.element,n,r)}}if(t.pageSizes){if(!i.element.find(".k-pager-sizes").length){var o=t.pageSizes.length?t.pageSizes:["all",5,10,20];var s=w.map(o,function(e){if(e.toLowerCase&&e.toLowerCase()==="all")return"<option value='all'>"+t.messages.allPages+"</option>";return"<option>"+e+"</option>"});w('<span class="k-pager-sizes k-label"><select></select>'+t.messages.itemsPerPage+"</span>").appendTo(i.element).find("select").html(s.join("")).end().appendTo(i.element)}i.element.find(".k-pager-sizes select").val(i.pageSize());if(y.ui.DropDownList)i.element.find(".k-pager-sizes select").show().attr("aria-label",t.messages.pageSizeDropDownLabel).kendoDropDownList();i.element.on(p+h,".k-pager-sizes select",i._change.bind(i))}if(t.refresh){if(!i.element.find(".k-pager-refresh").length)i.element.append('<a role="button" href="#" class="k-pager-refresh k-link" title="'+t.messages.refresh+'" aria-label="'+t.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>');i.element.on(m+h,".k-pager-refresh",i._refreshClick.bind(i))}if(t.info)if(!i.element.find(".k-pager-info").length)i.element.append('<span class="k-pager-info k-label" />');i.element.on(m+h,"a",i._click.bind(i)).on(p+h,"select.k-dropdown",i._numericSelectChange.bind(i)).addClass("k-pager-wrap k-widget k-floatwrap");if(t.autoBind)i.refresh();i._resizeHandler=i.resize.bind(i,true);w(window).on("resize"+h,i._resizeHandler);a=i._getWidthSizeClass(i.element.outerWidth());if(a)i.element.addClass(a);i._navigatable();y.notify(i)},destroy:function(){var e=this;l.fn.destroy.call(e);e.element.off(h);e.dataSource.unbind(p,e._refreshHandler);e._refreshHandler=null;w(window).off("resize"+h,this._resizeHandler);y.destroy(e.element);e.element=e.list=null},events:[p],options:{name:"Pager",ARIATemplate:"Page navigation, page #=page# of #=totalPages#",selectTemplate:'<li><span role="button" aria-current="page" tabindex="#=tabindex#" aria-label="#=title#" class="k-link k-state-selected">#=text#</span></li>',linkTemplate:'<li><a role="button" tabindex="#=tabindex#" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',numericSelectItemTemplate:'<option value="#= idx #" #if (selected) {# selected="selected" #}#>#= text #</option>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,responsive:true,navigatable:false,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",pageButtonLabel:"Page {0}",pageSizeDropDownLabel:"Page sizes drop down",numbersSelectLabel:"Page select",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(p,t._refreshHandler);t.dataSource=t.options.dataSource=e;e.bind(p,t._refreshHandler);if(t.options.autoBind)e.fetch()},_aria:function(){this.element.attr({role:"application","aria-roledescription":"pager","aria-keyshortcuts":"Enter ArrowRight ArrowLeft"})},_resize:function(e){if(e.width){var t=this._getWidthSizeClass(e.width);var i=this.element;if(!t)i.removeClass(n);else if(!i.hasClass(t)){i.removeClass(n);i.addClass(t)}}},_createDataSource:function(e){this.dataSource=y.data.DataSource.create(e.dataSource)},refresh:function(e){var t=this,i,n,r=1,a,o=t.page(),s="",l="",d=t.options,u=t.pageSize(),f=t._collapsedTotal(),c=t.dataSource._isGroupPaged()?t.dataSource.groupsTotal(true):t.dataSource.total(),p=t.totalPages(),h=t.linkTemplate,m=d.navigatable,g=t.numericSelectItemTemplate,v=d.buttonCount;if(e&&e.action=="itemchange")return;if(d.numeric){if(o>v){a=o%v;r=a===0?o-v+1:o-a+1}n=Math.min(r+v-1,p);if(r>1){s+=T({template:h,navigatable:m,idx:r-1,text:"...",numeric:false,title:d.messages.morePages});l+=S(g,r-1,d.messages.morePages)}for(i=r;i<=n;i++){s+=T({template:i==o?t.selectTemplate:h,navigatable:m,idx:i,text:i,numeric:true,title:y.format(d.messages.pageButtonLabel,i)});l+=S(g,i,i,i==o)}if(n<p){s+=T({template:h,navigatable:m,idx:i,text:"...",numeric:g,title:d.messages.morePages});l+=S(g,i,d.messages.morePages)}if(s===""){s=t.selectTemplate({text:0,tabindex:m?0:-1,navigatable:m,title:y.format(d.messages.pageButtonLabel,0)});l=w("<option value='0' />")}t.list.html(s);t._numericSelect.html(l)}if(d.info){if(c>0)s=y.format(d.messages.display,t.dataSource.options.endless?1:Math.min((o-1)*(t.dataSource.pageSize()||0)+1,f),Math.min(o*u,f),c);else s=d.messages.empty;t.element.find(".k-pager-info").html(s)}if(d.input)t.element.find(".k-pager-input").html(t.options.messages.page+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" aria-label="'+t.options.messages.page+" "+o+'"></span>'+y.format(d.messages.of,p)).find("input").val(o).attr(x,c<1).attr("aria-disabled",c<1).toggleClass("k-state-disabled",c<1);if(d.previousNext){D(t.element,o,p);F(t.element,o,p);I(t.element,o,p);E(t.element,o,p)}if(d.pageSizes){var b=t.element.find(".k-pager-sizes option[value='all']").length>0;var _=b&&(u===this.dataSource.total()||u==C);var k=u;if(_){u="all";k=d.messages.allPages}t.element.find(".k-pager-sizes select").val(u).filter("["+y.attr("role")+"=dropdownlist]").kendoDropDownList("value",u).kendoDropDownList("text",k)}t._restoreFocus(r,n,p);t._excludeChildrenFromTab();t._updateAria()},_excludeChildrenFromTab:function(){var e=y._activeElement();if(this.options.navigatable&&(e===this.element[0]||!w.contains(this.element[0],e)))this.element.find(s).attr("tabindex",-1)},_restoreFocus:function(e,t,i){var n=this;if(!n.options.navigatable)return;if(n._focusSelected){n.element.find(".k-state-selected").trigger("focus");n._focusSelected=null}if(n._focusMore!==null){if(t<i&&n._focusMore)n.list.find("li").last().find("a").trigger("focus");if(!n._focusMore&&e>1)n.list.find("li").first().find("a").trigger("focus");n._focusMore=null}},_restoreTabIndexes:function(){this.element.find("[tabindex='-1']:not(.k-state-disabled)").attr("tabindex",0)},_collapsedTotal:function(){return this.dataSource.total()},_keydown:function(e){if(e.keyCode===y.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),i=parseInt(t.val(),10);if(isNaN(i)||i<1||i>this.totalPages())i=this.page();t.val(i);this.page(i)}},_refreshClick:function(e){e.preventDefault();this.dataSource.read()},_change:function(e){var t=e.currentTarget.value;var i=parseInt(t,10);var n=this.dataSource;if(!isNaN(i))n.pageSize(i);else if((t+"").toLowerCase()=="all"){n._pageSize=r;n._take=r;n._skip=0;n.fetch()}},_template:function(){this._ariaTemplate=i(this.options.ARIATemplate).bind(this)},_updateAria:function(){if(!this.options.navigatable)return;this.element.attr("aria-label",this._ariaTemplate({page:this.page(),totalPages:this.totalPages()}))},_navigatable:function(){var t=this;var e=t.options;if(!e.navigatable)return;t._aria();t.element.attr("id",t._id);t._template();t._updateAria();t._tabindex(t.element);t.element.on("keydown"+h,t,t._keyDown.bind(t));t.element.on("focusout"+h,function(){t.element.removeClass("k-state-focused")});t.element.on("focusin"+h,function(e){t.element.addClass("k-state-focused");if(e.target===t.element[0])t.element.find(s).attr("tabindex",-1);else t.element.removeClass("k-state-focused")})},_keyDown:function(e){var t=this;var i=w(e.target);var n;var r=false;var a;if(i[0]===t.element[0]&&e.keyCode==o.ENTER){t._restoreTabIndexes();t.element.find(s).first().trigger("focus");r=true}if(i[0]!==t.element[0]&&e.keyCode==o.ESC){t.element.trigger("focus");r=true}if(i[0]===t.element[0]&&e.keyCode==o.HOME){t.page(1);r=true}if(i[0]===t.element[0]&&e.keyCode==o.END){t.page(t.totalPages());r=true}if(i[0]===t.element[0]&&(e.keyCode==(b?o.LEFT:o.RIGHT)||e.keyCode==o.PAGEDOWN)){t.page(t.page()+1);r=true}if(i[0]===t.element[0]&&(e.keyCode==(b?o.RIGHT:o.LEFT)||e.keyCode==o.PAGEUP)){t.page(t.page()-1||1);r=true}if(i[0]!==t.element[0]&&e.keyCode==o.TAB){n=t.element.find(s);a=n.index(i);if(e.shiftKey)if(a-1<0)n.last().trigger("focus");else n.eq(a-1).trigger("focus");else if(a+1<n.length)n.eq(a+1).trigger("focus");else n.first().trigger("focus");r=true}if(r){e.preventDefault();e.stopPropagation()}},_numericSelectChange:function(e){var t=e.currentTarget;var i=t.value;var n=parseInt(i,10);t.blur();this.page(n)},_click:function(e){var t=w(e.currentTarget);e.preventDefault();if(this.options.navigatable)if(t.attr("title")==this.options.messages.morePages)this._focusMore=t.parent().index();else if(!t.hasClass("k-pager-refresh")&&!t.hasClass("k-pager-nav"))this._focusSelected=true;if(!t.is(".k-state-disabled"))this.page(parseInt(t.attr(y.attr("page")),10))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){if(e){if(this.trigger("pageChange",{index:e}))return;this.dataSource.page(e);this.trigger(p,{index:e})}else if(this.dataSource.total()>0)return this.dataSource.page();else return 0},_getWidthSizeClass:function(e){var t=this,i=n.split(" ");if(!t.options.responsive)return null;else if(e<=480)return i[1];else if(e<=600)return i[0];return null}});return t.plugin(z),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.listview.min",["kendo.data.min","kendo.editable.min","kendo.selectable.min","kendo.pager.min"],function(){var t={id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]},{id:"listview-paging",name:"Paging",description:"Support for paging",depends:["pager"]}]},h=window.kendo.jQuery,l=void 0,v=window.kendo,a="change",M,r="cancel",b="dataBound",_="dataBinding",n=v.ui.Widget,m=v.keys,d="",o=".",s="> *:not(.k-loading-mask)",u="progress",f="error",g="k-state-focused",c="k-state-selected",k="k-edit-item",w="k-listview-pager",y="k-listview-item",x="aria-setsize",C="aria-posinset",T="role",p="aria-label",S="aria-multiselectable",D="aria-activedescendant",F="edit",I="remove",E="save",z="mousedown",A="click",R="touchstart",N=".kendoListView",P=v._activeElement,i=v.ui.progress,H=v.data.DataSource,e=v.ui.DataBoundWidget.extend({init:function(e,t){var i=this;t=Array.isArray(t)?{dataSource:t}:t;n.fn.init.call(i,e,t);t=i.options;i.wrapper=e=i.element;if(e[0].id)i._itemId=e[0].id+"_lv_active";else i._itemId=v.guid()+"_lv_active";i._element();i._layout();i._dataSource();i._setContentHeight();i._templates();i._navigatable();i._selectable();i._pageable();i._crudHandlers();i._scrollable();if(i.options.autoBind)i.dataSource.fetch();v.notify(i)},events:[a,r,_,b,F,I,E,"kendoKeydown"],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,pageable:false,height:null,template:d,altTemplate:d,editTemplate:d,contentTemplate:"<div data-content='true' />",contentElement:"div",bordered:true,borders:"",layout:"",flex:{direction:"row",wrap:"nowrap"},grid:{},scrollable:false},setOptions:function(e){n.fn.setOptions.call(this,e);this._layout();this._templates();if(this.selectable){this.selectable.destroy();this.selectable=null}this._selectable()},_templates:function(){var e=this.options;this.template=v.template(e.template||d);this.altTemplate=v.template(e.altTemplate||e.template);this.editTemplate=v.template(e.editTemplate||d)},_item:function(e){return this.content.children()[e]()},items:function(){return this.content.children(":not(.k-loading-mask)")},dataItem:function(e){var t=v.attr("uid");var i=h(e).closest("["+t+"]").attr(t);return this.dataSource.getByUid(i)},setDataSource:function(e){this.options.dataSource=e;this._dataSource();if(this.options.autoBind)e.fetch();if(this.options.scrollable==="endless")this._bindScrollable()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(a,e._refreshHandler).unbind(u,e._progressHandler).unbind(f,e._errorHandler)},_dataSource:function(){var e=this,t=e.options.pageable,i=e.options.dataSource;if(h.isPlainObject(t)&&t.pageSize!==l)i.pageSize=t.pageSize;if(e.dataSource&&e._refreshHandler)e._unbindDataSource();else{e._refreshHandler=e.refresh.bind(e);e._progressHandler=e._progress.bind(e);e._errorHandler=e._error.bind(e)}e.dataSource=H.create(i).bind(a,e._refreshHandler).bind(u,e._progressHandler).bind(f,e._errorHandler)},_progress:function(e){var t=this.wrapper;if(e&&this.content.height())t=this.content;i(t,e,{opacity:true})},_error:function(){i(this.content,false)},_element:function(){var e=this.options;var t=e.height;this.element.addClass("k-widget k-listview");if(e.contentElement)this.content=h(document.createElement(e.contentElement)).appendTo(this.element);else this.content=this.element;if(t)this.element.css("height",t)},_layout:function(){var e=this;var t=e.options;var i=t.flex;var n=t.grid;var r=e.element;var a=["k-widget","k-listview"];var o=e.content;var s=["k-listview-content"];r.add(o).removeClass(function(e,t){if(t.indexOf("k-")>=0)return true});if(t.bordered===true)a.push("k-listview-bordered");if(typeof t.borders==="string"&&t.borders!==d)a.push("k-listview-borders-"+t.borders);if(typeof t.contentPadding==="string"&&t.contentPadding!==d)s.push("k-listview-content-padding-"+t.contentPadding);if(typeof t.layout==="string"&&t.layout!==d)s.push("k-d-"+t.layout);if(t.layout==="flex"&&typeof i==="object"){if(typeof i.direction==="string"&&i.direction!=="")s.push("k-flex-"+i.direction);if(typeof i.wrap==="string"&&i.wrap!=="")s.push("k-flex-"+i.wrap)}if(t.layout==="grid"&&typeof n==="object"){if(typeof n.cols==="number")o.css("grid-template-columns","repeat("+n.cols+", 1fr)");else if(typeof n.cols==="string")o.css("grid-template-columns",n.cols);if(typeof n.rows==="number")o.css("grid-template-rows","repeat("+n.rows+", "+(n.rowHeight!==l?n.rowHeight:"1fr")+")");else if(typeof n.rows==="string")o.css("grid-template-rows",n.rows);if(typeof n.gutter==="number")o.css("grid-gap",n.gutter);else if(typeof n.gutter==="string")o.css("grid-gap",n.gutter)}e.element.addClass(a.join(" "));e.content.addClass(s.join(" "))},_setContentHeight:function(){var e=this,t=e.options,i;if(t.scrollable&&e.wrapper.is(":visible")){i=e.wrapper.innerHeight();e.content.height(i)}},refresh:function(e){var t=this,i=t.dataSource.view(),n,r,a,o="",s,l,d=t.template,u=t.altTemplate,f=t.options,c=f.selectable||f.navigatable?"option":"listitem",p=P(),h=t._endlessFetchInProgress,m=h?t._skipRerenderItemsCount:0,g=t.options.scrollable;e=e||{};if(e.action==="itemchange"){if(!t._hasBindingTarget()&&!t.editable){n=e.items[0];a=t.items().filter("["+v.attr("uid")+"="+n.uid+"]");if(a.length>0){s=a.index();t.angular("cleanup",function(){return{elements:[a]}});a.replaceWith(d(n));a=t.items().eq(s);a.attr(v.attr("uid"),n.uid);t.angular("compile",function(){return{elements:[a],data:[{dataItem:n}]}});t.trigger("itemChange",{item:a,data:n})}}return}if(t.trigger(_,{action:e.action||"rebind",items:e.items,index:e.index}))return;t._angularItems("cleanup");if(!h)t._destroyEditable();for(s=m,l=i.length;s<l;s++)if(s%2)o+=u(i[s]);else o+=d(i[s]);if(h)t.content.append(o);else t.content.html(o);r=t.items().not(".k-loading-mask");t._ariaAttributes(i.length);for(s=m,l=i.length;s<l;s++){a=r.eq(s);a.addClass(y);a.attr(v.attr("uid"),i[s].uid).attr(T,c);if(t.options.selectable)a.attr("aria-selected","false");if(t.options.pageable){a.attr(x,t.dataSource.total());a.attr(C,t.dataSource.indexOf(t.dataItem(a))+1)}}if(t.content[0]===p&&t.options.navigatable)if(t._focusNext)t.current(t.current().next());else if(!g)t.current(r.eq(0));if(t.element.attr(D)&&t.element.find("#"+t.element.attr(D)).length===0)t.element.removeAttr(D);t._setContentHeight();t._angularItems("compile");t._progress(false);t._endlessFetchInProgress=null;t.trigger(b,{action:e.action||"rebind",items:e.items,index:e.index})},_ariaAttributes:function(e){var t=this.element,i=this.options,n=i.selectable;if(e===0){t.removeAttr(T);t.removeAttr(S);if(t.attr(p)){this._ariaLabelValue=t.attr(p);t.removeAttr(p)}}else{t.attr(T,n||i.navigatable?"listbox":"list");if(n&&v.ui.Selectable.parseOptions(n).multiple)t.attr(S,true);if(this._ariaLabelValue)t.attr(p,this._ariaLabelValue)}},_pageable:function(){var e=this,t=e.options.pageable,i=e.options.navigatable,n,r;if(!t)return;n=e.wrapper.find(o+w);if(!n.length)n=h("<div />").addClass(w);if(t.position==="top")n.addClass(v.format("{0}-{1}",w,t.position)).prependTo(e.wrapper);else n.appendTo(e.wrapper);if(e.pager)e.pager.destroy();if(typeof t==="object"&&t instanceof v.ui.Pager)e.pager=t;else{n=t.pagerId?h("#"+t.pagerId):n;r=h.extend({},t,{dataSource:e.dataSource,navigatable:i,pagerId:null});e.pager=new v.ui.Pager(n,r)}},_selectable:function(){var t=this,i,n,e=t.options.selectable,r=t.options.navigatable;if(e){i=v.ui.Selectable.parseOptions(e).multiple;t.selectable=new v.ui.Selectable(t.element,{aria:true,multiple:i,filter:t.options.contentElement?".k-listview-content "+s:s,change:function(){t.trigger(a)}});if(r)t.element.on("keydown"+N,function(e){if(!h(e.target).is(t.element))return;if(e.keyCode===m.SPACEBAR){n=t.current();if(e.target==e.currentTarget)e.preventDefault();if(i){if(!e.ctrlKey)t.selectable.clear();else if(n&&n.hasClass(c)){n.removeClass(c);t.trigger(a);return}}else t.selectable.clear();t.selectable.value(n)}})}},_scrollable:function(){var e=this;var t=e.options.scrollable;if(t){e.content.css({"overflow-y":"scroll",position:"relative","-webkit-overflow-scrolling":"touch"});if(t==="endless")e._bindScrollable()}},_bindScrollable:function(){var e=this;var t=e._endlessPageSize=e.dataSource.options.pageSize;e.content.off("scroll"+N).on("scroll"+N,function(){if(this.scrollTop+this.clientHeight-this.scrollHeight>=-15&&!e._endlessFetchInProgress&&e._endlessPageSize<e.dataSource.total()){e._skipRerenderItemsCount=e._endlessPageSize;e._endlessPageSize=e._skipRerenderItemsCount+t;e.dataSource.options.endless=true;e._endlessFetchInProgress=true;e.dataSource.pageSize(e._endlessPageSize)}})},current:function(e){var t=this,i=t.element,n=t._current,r=t._itemId;if(e===l)return n;if(n&&n[0]){if(n[0].id===r)n.removeAttr("id");n.removeClass(g);i.removeAttr(D)}if(e&&e[0]){r=e[0].id||r;t._scrollTo(e[0]);i.attr(D,r);e.addClass(g).attr("id",r)}t._current=e},_scrollTo:function(o){var e=this,t=e.content,s,l=false,d="scroll";if(t.css("overflow")==="auto"||t.css("overflow")===d||t.css("overflow-y")===d)s=t[0];else{s=window;l=true}var i=function(e,t){var i=l?h(o).offset()[e.toLowerCase()]:o["offset"+e],n=o["client"+t],r=h(s)[d+e](),a=h(s)[t.toLowerCase()]();if(i+n>r+a)h(s)[d+e](i+n-a);else if(i<r)h(s)[d+e](i)};i("Top","Height");i("Left","Width")},_navigatable:function(){var c=this,e=c.options.navigatable,t=c.element,p=c.content,i=function(e){c.current(h(e.currentTarget));if(!h(e.target).is(":button, a, :input, a > .k-icon, textarea"))v.focusElement(t)};if(e){c._tabindex();t.on("focus"+N,function(){var e=c._current;if(!e||!e.is(":visible"))e=c._item("first");c.current(e)}).on("focusout"+N,function(){if(c._current)c._current.removeClass(g)}).on("keydown"+N,c,function(e){var t=e.keyCode,i=c.current(),n=h(e.target),r=!n.is(":button, textarea, a, a > .t-icon, input"),a=n.is(":text, :password"),o=v.preventDefault,s=p.find("."+k),l=P(),d,u=c.options.scrollable;if(n.hasClass(w)||!r&&!a&&t!==m.ESC||a&&t!==m.ESC&&t!==m.ENTER)return;if(t===m.UP||t===m.LEFT){if(i&&i[0])i=i.prev();if(i&&i[0])c.current(i);else if(!u)c.current(c._item("last"));o(e)}if(t===m.DOWN||t===m.RIGHT){if(u)if(c.options.scrollable==="endless"&&!i.next().length){c.content[0].scrollTop=c.content[0].scrollHeight;c._focusNext=true}else{i=i.next();if(i&&i[0])c.current(i)}else{i=i.next();c.current(!i||!i[0]?c._item("first"):i)}o(e)}if(t===m.PAGEUP){c.current(null);c.dataSource.page(c.dataSource.page()-1);o(e)}if(t===m.PAGEDOWN){c.current(null);c.dataSource.page(c.dataSource.page()+1);o(e)}if(t===m.HOME){c.current(c._item("first"));o(e)}if(t===m.END){c.current(c._item("last"));o(e)}if(t===m.ENTER)if(s.length!==0&&(r||a)){d=c.items().index(s);if(l)l.blur();c.save();var f=function(){c.element.trigger("focus");c.current(c.items().eq(d))};c.one("dataBound",f)}else if(c.options.editTemplate!=="")c.edit(i);if(t===m.ESC){s=p.find("."+k);if(s.length===0)return;d=c.items().index(s);c.cancel();c.element.trigger("focus");c.current(c.items().eq(d))}});t.on(z+N+" "+R+N,c.options.contentElement?".k-listview-content "+s:s,i.bind(c))}},clearSelection:function(){var e=this;e.selectable.clear();e.trigger(a)},select:function(e){var t=this,i=t.selectable;e=h(e);if(e.length){if(!i.options.multiple){i.clear();e=e.first()}i.value(e);return}return i.value()},_destroyEditable:function(){var e=this;if(e.editable){e.editable.destroy();delete e.editable}},_modelFromElement:function(e){var t=e.attr(v.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(){var e=this,t=e.editable,i=e.options,n=i.selectable||i.navigatable?"option":"listitem",r,a,o,s=e.template;if(t){if(t.element.index()%2)s=e.altTemplate;e.angular("cleanup",function(){return{elements:[t.element]}});r=e._modelFromElement(t.element);e._destroyEditable();o=t.element.index();t.element.replaceWith(s(r));a=e.items().eq(o);a.addClass(y);a.attr(v.attr("uid"),r.uid);a.attr(T,n);if(e._hasBindingTarget())v.bind(a,r);e.angular("compile",function(){return{elements:[a],data:[{dataItem:r}]}})}return true},edit:function(e){var t=this,i=t._modelFromElement(e),n,r=i.uid,a;t.cancel();e=t.items().filter("["+v.attr("uid")+"="+r+"]");a=e.index();e.replaceWith(t.editTemplate(i));n=t.items().eq(a).addClass(k).attr(v.attr("uid"),i.uid);t.editable=n.kendoEditable({model:i,clearContainer:false,errorTemplate:false,target:t}).data("kendoEditable");t.trigger(F,{model:i,item:n})},save:function(){var e=this,t=e.editable,i;if(!t)return;var n=t.element;i=e._modelFromElement(n);if(t.end()&&!e.trigger(E,{model:i,item:n})){e._closeEditable();e.dataSource.sync()}},remove:function(e){var t=this,i=t.dataSource,n=t._modelFromElement(e);if(t.editable){i.cancelChanges(t._modelFromElement(t.editable.element));t._closeEditable()}if(!t.trigger(I,{model:n,item:e})){if(e.attr("id")===t.element.attr(D))t.element.removeAttr(D);e.hide();i.remove(n);i.sync()}},add:function(){var e=this,t,i=e.dataSource,n=i.indexOf((i.view()||[])[0]);if(n<0)n=0;e.cancel();t=i.insert(n,{});e.edit(e.element.find("[data-uid='"+t.uid+"']"))},cancel:function(){var e=this,t=e.dataSource;if(e.editable){var i=e.editable.element;var n=e._modelFromElement(i);if(!e.trigger(r,{model:n,container:i})){t.cancelChanges(n);e._closeEditable()}}},_crudHandlers:function(){var i=this,e=R+N,t=A+N;i.content.on(e+" "+t,".k-edit-button",function(e){e.preventDefault();var t=h(this).closest("["+v.attr("uid")+"]");setTimeout(function(){i.edit(t)})});i.content.on(e+" "+t,".k-delete-button",function(e){e.preventDefault();var t=h(this).closest("["+v.attr("uid")+"]");setTimeout(function(){i.remove(t)})});i.content.on(t,".k-update-button",function(e){i.save();e.preventDefault()});i.content.on(t,".k-cancel-button",function(e){i.cancel();e.preventDefault()})},destroy:function(){var e=this;n.fn.destroy.call(e);e._unbindDataSource();e._destroyEditable();e.element.off(N);e.content.off(N);e._endlessFetchInProgress=e._endlessPageSize=e._skipRerenderItemsCount=e._focusNext=null;if(e.pager)e.pager.destroy();v.destroy(e.element)}});return v.ui.plugin(e),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.upload.min",["kendo.core.min"],function(){var H={id:"upload",name:"Upload",category:"web",description:"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.",depends:["core"]},f=window.kendo.jQuery,M=void 0,c=window.kendo,a=c.ui.Widget,u=c.antiForgeryTokens,l=c.logToConsole,O=/\.([^\.]+)$/,o=".kendoUpload",s="select",p="upload",d="success",h="error",e="complete",m="cancel",n="clear",g="pause",v="resume",r="progress",b="remove",_="validationErrors",k="invalidMaxFileSize",w="invalidMinFileSize",i="invalidFileExtension",L=1e3,B=2e3,y="k-state-focused",x="tabindex",C={loading:"k-i-upload",warning:"k-i-warning",success:"k-i-check"},T=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t);i.name=e.name;i.multiple=i.options.multiple;i.directory=i.options.directory;i.localization=i.options.localization;var n=i.element;i.wrapper=n.closest(".k-upload");if(i.wrapper.length===0)i.wrapper=i._wrapInput(n);i._activeInput(n);i.toggle(i.options.enabled);var r=i._ns=o+"-"+c.guid();n.closest("form").on("submit"+r,i._onParentFormSubmit.bind(i)).on("reset"+r,i._onParentFormReset.bind(i));i._initUploadModule();i._toggleDropZone();i.wrapper.on("click",".k-upload-action",i._onFileAction.bind(i)).on("click",".k-clear-selected",i._onClearSelected.bind(i)).on("click",".k-upload-selected",i._onUploadSelected.bind(i)).on("keydown",i._onKeyDown.bind(i)).on("focusout",i._focusout.bind(i));if(i.element.val())i._onInputChange({target:i.element})},events:[s,p,d,h,e,m,n,r,b,g,v],options:{name:"Upload",enabled:true,multiple:true,directory:false,showFileList:true,template:"",files:[],async:{autoRetryAfter:0,bufferChunkSize:1e7,maxAutoRetries:1,removeVerb:"POST",autoUpload:true,withCredentials:true,accept:"*/*; q=0.5, application/json",useArrayBuffer:false},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",pause:"Pause",resume:"Resume",clearSelectedFiles:"Clear",uploadSelectedFiles:"Upload",dropFilesHere:"Drop files here to upload",invalidFiles:"Invalid file(s). Please check file upload requirements.",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusPaused:"Paused",headerStatusUploaded:"Done",uploadSuccess:"File(s) uploaded successfully.",uploadFail:"File(s) failed to upload.",invalidMaxFileSize:"File size too large.",invalidMinFileSize:"File size too small.",invalidFileExtension:"File type not allowed."},validation:{allowedExtensions:[],maxFileSize:0,minFileSize:0},dropZone:""},_initUploadModule:function(){var e=this,t=e.options;if(t.async.saveUrl){e._module=e._supportsFormData()?new F(e):new D(e);e._async=true;var i=t.files;if(i.length>0)e._renderInitialFiles(i)}else e._module=new S(e)},setOptions:function(e){var t=this,i=t.element;f(t.options.dropZone).off(t._ns);a.fn.setOptions.call(t,e);t.multiple=t.options.multiple;t.directory=t.options.directory;i.attr("multiple",t._supportsMultiple()?t.multiple:false);if(t.directory){i.attr("webkitdirectory",t.directory);i.attr("directory",t.directory)}t.toggle(t.options.enabled);t._initUploadModule();t._toggleDropZone()},enable:function(e){e=typeof e==="undefined"?true:e;this.toggle(e)},disable:function(){this.toggle(false)},toggle:function(e){e=typeof e==="undefined"?e:!e;this.wrapper.toggleClass("k-state-disabled",e);this.element.prop("disabled",e)},focus:function(){this.element.trigger("focus")},destroy:function(){var e=this;var t=f(e.options.dropZone);f(document).add(f(".k-dropzone",e.wrapper)).add(e.wrapper.closest("form")).off(e._ns);if(t.length>0)t.off(e._ns);f(e.element).off(o);a.fn.destroy.call(e)},pause:function(e){this._module.onPause({target:f(e,this.wrapper)});var t=e.find(".k-i-pause-sm");t.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title",this.localization.resume);f(t).parent().attr("aria-label",this.localization.resume)},resume:function(e){this._module.onResume({target:f(e,this.wrapper)});var t=e.find(".k-i-play-sm");t.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title",this.localization.pause);f(t).parent().attr("aria-label",this.localization.pause)},upload:function(){var e=this;e._module.onSaveSelected()},getFiles:function(){var e=this;var t;var i=[];var n=e.wrapper.find(".k-file");for(var r=0;r<n.length;r++){t=f(n[r]).data("fileNames");if(t)for(var a=0;a<t.length;a++)i.push(t[a])}return i},clearAllFiles:function(){var i=this;var e=i.wrapper.find(".k-file");e.each(function(e,t){i._removeFileByDomElement(t,false)})},removeAllFiles:function(){var i=this;var e=i.wrapper.find(".k-file");e.each(function(e,t){i._removeFileByDomElement(t,true)})},removeFileByUid:function(e){this._removeFileByUid(e,true)},clearFileByUid:function(e){this._removeFileByUid(e,false)},_removeFileByUid:function(e,t){var i=this;var n;if(typeof e!=="string")return;n=f(".k-file["+c.attr("uid")+'="'+e+'"]',i.wrapper);if(n.length>0)i._removeFileByDomElement(n,t)},clearFile:function(e){this._removeFile(e,false)},removeFile:function(e){this._removeFile(e,true)},_removeFile:function(i,n){var r=this;var e=r.wrapper.find(".k-file");var a;if(typeof i==="function")e.each(function(e,t){a=f(t).data("fileNames");if(i(a))r._removeFileByDomElement(t,n)})},_removeFileByDomElement:function(e,t){var i=this;var n={target:f(e,i.wrapper)};var r;if(i.options.async.saveUrl){if(f(e).hasClass("k-file-progress"))i._module.onCancel(n);else i._module.onRemove(n,{},t);r=f(".k-file",i.wrapper);if(r.length===0)i._hideHeaderUploadstatus();else i._updateHeaderUploadStatus()}else i._module.onRemove(n,{},t)},_addInput:function(e){if(!e[0].nodeType)return;var t=this,i=e.clone().val("");i.insertAfter(t.element).data("kendo"+t.options.prefix+t.options.name,t);f(t.element).hide().attr(x,"-1").removeAttr("id").off(o);t._activeInput(i);t.element.trigger("focus")},_activeInput:function(e){var t=this,i=t.wrapper;t.element=e;if(t.directory){e.attr("webkitdirectory",t.directory);e.attr("directory",t.directory)}e.attr("multiple",t._supportsMultiple()?t.multiple:false).attr("autocomplete","off").on("click"+o,function(e){if(i.hasClass("k-state-disabled"))e.preventDefault()}).on("focus"+o,function(){f(this).parent().addClass(y)}).on("blur"+o,function(){f(this).parent().removeClass(y)}).on("change"+o,t._onInputChange.bind(t))},_adjustFocusState:function(e,t){e.removeClass(y);e.attr(x,-1);t.addClass(y);t.attr(x,0)},_arrowKeyNavigation:function(e,t,i){var n=this,r=c.keys,a;if(t===r.DOWN){e.preventDefault();e.stopPropagation();a=n.wrapper.find(".k-upload-files .k-file").first();if(i.length>0){if(i.hasClass("k-upload-action")){i.removeClass(y);i=i.closest(".k-file")}a=i.next()}n._adjustFocusState(i,a);if(!a||a.length===0)a=n.wrapper.find(".k-clear-selected")}else if(t===r.UP){e.preventDefault();e.stopPropagation();a=n.wrapper.find(".k-upload-files .k-file:last");if(i.length>0){if(i.hasClass("k-upload-action")){i.removeClass(y);i=i.closest(".k-file")}a=i.prev()}n._adjustFocusState(i,a)}else if(t===r.RIGHT){if(i.hasClass("k-upload-action")){a=i.next(".k-upload-action");if(!a||a.length===0)a=i.parent().find(".k-upload-action:first")}else if(i.length>0)a=i.find(".k-upload-action:first");if(a&&a.length>0){i.removeClass(y);a.addClass(y)}}else if(t===r.LEFT){if(i.hasClass("k-upload-action")){a=i.prev(".k-upload-action");if(!a||a.length===0)a=i.parent().find(".k-upload-action:last")}else if(i.length>0)a=i.find(".k-upload-action:last");if(a&&a.length>0){i.removeClass(y);a.addClass(y)}}if((!a||a.length===0)&&(t===r.UP||t===r.DOWN))a=n.element;if(a&&a.length>0){n._preventFocusRemove=true;a.trigger("focus")}},_asyncCommandKeyNavigation:function(e,t,i){var n=this,r=c.keys,a=f(t,n.wrapper);n._retryClicked=false;if(e===r.ESC&&t.find(".k-i-cancel").length>0){n.trigger(m,i);n._module.onCancel({target:a});n._checkAllComplete();n._updateHeaderUploadStatus();n._preventFocusRemove=true;n.element.trigger("focus")}else if(e===r.SPACEBAR){if(t.find(".k-i-pause-sm").length>0){n.trigger(g,i);n.pause(t);n._updateHeaderUploadStatus()}else if(t.find(".k-i-play-sm").length>0){n.trigger(v,i);n.resume(t)}}else if(e===r.ENTER&&!t.is(".k-file-progress, .k-file-success, .k-file-invalid")){if(n.options.async.chunkSize&&!n.options.async.concurrent&&f(".k-file-progress",n.wrapper).length>0)return;f(".k-i-warning",t).remove();f(".k-progressbar",t).finish().show();if(!n._module.metaData[a.data("uid")])n._module.prepareChunk(a);n._module.onRetry({target:a});n._retryClicked=true}},_commandKeyNavigation:function(e,t){var i=this,n=c.keys,r=t.data("fileNames"),a=i._filesContainValidationErrors(r),o={files:r,headers:{}};if(e===n.DELETE){if(!i.trigger(b,o)){i._module.onRemove({target:f(t,i.wrapper)},o,!a);i._preventFocusRemove=true;i.element.trigger("focus")}}else if(e===n.TAB){t.removeClass(y);t.attr(x,-1)}else if(!!i.options.async.saveUrl)i._asyncCommandKeyNavigation(e,t,o)},_focusout:function(){var e=this.wrapper.find(".k-upload-files .k-file."+y);if(!this._preventFocusRemove){e.removeClass(y);e.attr(x,-1)}else this._preventFocusRemove=false},_onKeyDown:function(e){var t=this,i=t.wrapper.find(".k-upload-files .k-file."+y+","+".k-upload-action."+y),n=c.keys,r=[n.DELETE,n.ESC,n.ENTER,n.SPACEBAR,n.TAB],a=e.keyCode;if(a===n.DOWN||a===n.UP||a===n.LEFT||a===n.RIGHT)t._arrowKeyNavigation(e,a,i);else if(i.length>0&&i.hasClass("k-file")&&r.indexOf(a)>-1&&!t.wrapper.hasClass("k-state-disabled")){if(a===n.SPACEBAR){e.preventDefault();e.stopPropagation()}t._commandKeyNavigation(a,i)}},_onInputChange:function(e){var t=this;var i=f(e.target);var n=z(t._inputFiles(i),t._isAsyncNonBatch());j(n,t.options.validation);var r=t.trigger(s,{files:n});if(r){t._addInput(i);i.remove()}else t._module.onSelect({target:i},n)},_readDirectory:function(e){var t=new f.Deferred;var i=e.createReader();var n=[];var r=function(){i.readEntries(function(e){if(!e.length)t.resolve(n);else{n=n.concat(e);r()}},t.reject)};r();return t.promise()},_readFile:function(e){var t=this;var i=e.fullPath;e.file(function(e){e.relativePath=i.slice(1);t.droppedFolderFiles.push(e);t.droppedFolderCounter--;if(t.droppedFolderCounter===0)setTimeout(function(){if(t.droppedFolderCounter===0)if(t.droppedFolderFiles.length){t._proceedDroppedItems(t.droppedFolderFiles);t.droppedFolderFiles=[]}},0)},function(){l("File error.")})},_traverseFileTree:function(e,t){var i=this;if(!t)i.droppedFolderCounter--;this._readDirectory(e).then(function(e){i.droppedFolderCounter+=e.length;for(var t=0;t<e.length;t++)if(e[t].isFile)i._readFile(e[t]);else if(e[t].isDirectory)i._traverseFileTree(e[t])})},_onDrop:function(e){var t=e.originalEvent.dataTransfer;var i=this;var n=t.files;var r;R(e);if(i.options.directoryDrop&&t.items){r=t.items.length;i.droppedFolderCounter=0;i.droppedFolderFiles=[];for(var a=0;a<r;a++)if(t.items[a].webkitGetAsEntry){var o=t.items[a].webkitGetAsEntry();if(o.isDirectory)i._traverseFileTree(o,true);else if(o.isFile)i.droppedFolderFiles.push(t.files[a])}else i._proceedDroppedItems(n)}else i._proceedDroppedItems(n)},_proceedDroppedItems:function(e){var t=this;var i=z(E(e),t._isAsyncNonBatch());if(e.length>0&&!t.wrapper.hasClass("k-state-disabled")){if(!t.multiple&&i.length>1)i.splice(1,i.length-1);j(i,t.options.validation);var n=t.trigger(s,{files:i});if(!n)t._module.onSelect({target:f(".k-dropzone",t.wrapper)},i)}},_filesContainValidationErrors:function(e){var i=false;f(e).each(function(e,t){if(t[_]&&t[_].length>0){i=true;return false}});return i},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||false},_renderInitialFiles:function(e){var t=this;var i=0;e=z(e,true);for(i=0;i<e.length;i++){var n=e[i];var r=t._enqueueFile(n.name,{fileNames:[n]});r.addClass("k-file-success").data("files",[e[i]]);if(t._supportsRemove())t._fileAction(r,b)}},_prepareTemplateData:function(e,t){var i=t.fileNames,n={},r=0,a=0;for(a=0;a<i.length;a++)r+=i[a].size;n.name=e;n.size=r;n.files=t.fileNames;return n},_prepareDefaultSingleFileEntryTemplate:function(e){var t=this;var i=e.fileNames[0];var n=A(e.fileNames);var r=c.getFileGroup(i.extension,true);var a=i[_];var o="";if(a&&a.length>0)o+="<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-file-invalid-group-wrapper'>"+"<span class='k-file-group k-icon k-i-"+r+"'></span>"+"<span class='k-file-state'></span>"+"</span>"+"<span class='k-file-name-size-wrapper'>"+"<span class='k-file-name k-file-name-invalid' title='"+i.name+"'>"+i.name+"</span>"+"<span class='k-file-validation-message k-text-error'>"+t.localization[a[0]]+"</span>"+"</span>";else o+="<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-file-group-wrapper'>"+"<span class='k-file-group k-icon k-i-"+r+"'></span>"+"<span class='k-file-state'></span>"+"</span>"+"<span class='k-file-name-size-wrapper'><span class='k-file-name' title='"+i.name+"'>"+i.name+"</span>"+"<span class='k-file-size'>"+n+"</span></span>";o+="<strong class='k-upload-status'></strong>";return f(o)},_prepareDefaultMultipleFileEntriesTemplate:function(e){var t=this;var i=e.fileNames;var n=t._filesContainValidationErrors(i);var r=A(i);var a="";var o,s;if(n)a+="<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-multiple-files-invalid-group-wrapper'>"+"<span class='k-file-group k-icon k-i-files'></span>";else a+="<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div>"+"<span class='k-multiple-files-group-wrapper'>"+"<span class='k-file-group k-icon k-i-files'></span>";a+="<span class='k-file-state'></span></span>";i.sort(function(e,t){if(e[_])return-1;if(t[_])return 1;return 0});a+="<span class='k-multiple-files-wrapper'>";for(o=0;o<i.length;o++){s=i[o];var l=A([s]);a+="<span class='k-file-name-size-wrapper'>";if(s[_]&&s[_].length>0)a+="<span class='k-file-name k-file-name-invalid' title='"+s.name+"'>"+s.name+"</span>";else a+="<span class='k-file-name' title='"+s.name+"'>"+s.name+"</span>";a+="<span class='k-file-size'>"+l+"</span></span>"}if(n)a+="<span class='k-file-validation-message k-text-error'>"+t.localization.invalidFiles+"</span>";else a+="<span class='k-file-information'>Total: "+i.length+" files, "+r+"</span>";a+="</span><strong class='k-upload-status'></strong>";return f(a)},_enqueueFile:function(e,t){var i=this;var n;var r;var a=t.fileNames[0].uid;var o=f(".k-upload-files",i.wrapper);var s=i.options;var l=s.template;var d;var u;if(o.length===0){o=f("<ul class='k-upload-files k-reset'></ul>").appendTo(i.wrapper);if(!i.options.showFileList)o.hide();i.wrapper.removeClass("k-upload-empty")}n=f(".k-file",o);if(!l)if(t.fileNames.length===1)r=i._prepareDefaultSingleFileEntryTemplate(t);else r=i._prepareDefaultMultipleFileEntriesTemplate(t);else{d=i._prepareTemplateData(e,t);l=c.template(l);r=f("<li class='k-file'>"+l(d)+"</li>");r.find(".k-upload-action").addClass("k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base");i.angular("compile",function(){return{elements:r,data:[d]}})}r.attr(c.attr("uid"),a).appendTo(o).data(t);if(!i._async)f(".k-progress",r).width("100%");if(!i.multiple&&n.length>0){u={files:n.data("fileNames"),headers:{}};if(!i.trigger(b,u))i._module.onRemove({target:f(n,i.wrapper)},u)}return r},_removeFileEntry:function(e){var t=this;var i=e.closest(".k-upload-files");var n,r,a;e.remove();n=f(".k-file",i);r=f(".k-file-success, .k-file-error",i);a=f(".k-file-invalid",i);if(r.length===n.length||a.length===n.length)this._hideActionButtons();if(n.length===0){i.remove();t.wrapper.addClass("k-upload-empty");t._hideHeaderUploadstatus()}else t._updateHeaderUploadStatus()},_fileAction:function(e,t,i){var n={remove:"k-i-x",cancel:"k-i-cancel",retry:"k-i-retry",pause:"k-i-pause-sm"};var r={remove:"k-i-close",cancel:"k-i-cancel",retry:"k-i-reload-sm",pause:"k-i-pause-sm"};var a;if(!n.hasOwnProperty(t))return;if(!i)this._clearFileAction(e);if(!this.options.template){if(!i)e.find(".k-upload-status .k-upload-action").remove();e.find(".k-upload-status").append(this._renderAction(n[t],this.localization[t],r[t]))}else{a=e.find(".k-upload-action").first();if(!a.find(".k-icon").length)a.addClass("k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button").append("<span class='k-button-icon k-icon "+r[t]+" "+n[t]+"' title='"+this.localization[t]+"'"+"aria-label='"+this.localization[t]+"'></span>").show();else if(a.next(".k-upload-action").length)a.next(".k-upload-action").addClass("k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button").append("<span class='k-button-icon k-icon "+r[t]+" "+n[t]+"' title='"+this.localization[t]+"'"+"aria-label='"+this.localization[t]+"'></span>").show()}},_fileState:function(e,t){var i=this.localization,n={uploading:{text:i.statusUploading},uploaded:{text:i.statusUploaded},failed:{text:i.statusFailed}},r=n[t];if(r)f("span.k-file-state",e).text(r.text)},_renderAction:function(e,t,i){if(e!=="")return f("<button type='button' class='k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action' aria-label='"+t+"' tabindex='-1'>"+"<span class='k-button-icon k-icon "+i+" "+e+"' title='"+t+"'></span>"+"</button>").on("focus",function(){f(this).addClass(y)}).on("blur",function(){f(this).removeClass(y)});else return f("<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'>"+'<span class="k-button-text">'+t+"</span>"+"</button>")},_clearFileAction:function(e){f(".k-upload-action",e).empty().hide()},_onFileAction:function(e){var t=this;if(!t.wrapper.hasClass("k-state-disabled")){var i=f(e.target).closest(".k-upload-action");var n=i.find(".k-icon");var r=i.closest(".k-file");var a=r.data("fileNames");var o=t._filesContainValidationErrors(a);var s={files:a,headers:{}};t._retryClicked=false;if(n.hasClass("k-i-x")){if(!t.trigger(b,s)){t._module.onRemove({target:f(r,t.wrapper)},s,!o);t.element.trigger("focus")}}else if(n.hasClass("k-i-cancel")){t.trigger(m,s);t._module.onCancel({target:f(r,t.wrapper)});t._checkAllComplete();t._updateHeaderUploadStatus();t.element.trigger("focus")}else if(n.hasClass("k-i-pause-sm")){t.trigger(g,s);t.pause(r);t._updateHeaderUploadStatus()}else if(n.hasClass("k-i-play-sm")){t.trigger(v,s);t.resume(r)}else if(n.hasClass("k-i-retry")){f(".k-i-warning",r).remove();f(".k-progressbar",r).finish().show();t._module.onRetry({target:f(r,t.wrapper)});t._retryClicked=true}r.addClass(y)}return false},_onUploadSelected:function(){var e=this;var t=e.wrapper;if(!t.hasClass("k-state-disabled"))this._module.onSaveSelected();return false},_onClearSelected:function(){var e=this;var t=e.wrapper;var i={};if(!t.hasClass("k-state-disabled")&&!e.trigger(n,i))e.clearAllFiles();return false},_onFileProgress:function(e,t){var i;if(t>100)t=100;f(".k-progressbar",e.target).removeClass("k-hidden");if(!this.options.template){i=f(".k-upload-pct",e.target);if(i.length===0)f(".k-upload-status",e.target).prepend("<span class='k-upload-pct'></span>");if(t!==100)f(".k-upload-pct",e.target).text(t+"%");else f(".k-upload-pct",e.target).remove();f(".k-progress",e.target).width(t+"%")}else f(".k-progress",e.target).width(t+"%");this.trigger(r,{files:P(e).data("fileNames"),percentComplete:t})},_onUploadSuccess:function(e,t,i){var n=this;var r=P(e);var a=r.data("fileNames");var o=r.find(".k-file-information");var s=r.find(".k-file-size");var l=n.trigger(d,{files:r.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:i});if(l)n._setUploadErrorState(r);else{n._fileState(r,"uploaded");r.removeClass("k-file-progress").addClass("k-file-success");if(o.length>0)o.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+a.length+" "+n.localization.uploadSuccess+"</span>");else if(s.length>0)s.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+n.localization.uploadSuccess+"</span>");n._updateHeaderUploadStatus();if(n._supportsRemove())n._fileAction(r,b);else n._clearFileAction(r)}n._hideUploadProgress(r);n._checkAllComplete()},_onUploadError:function(e,t){var i=this;var n=i._module;var r=P(e);var a=r.data("uid");i._setUploadErrorState(r);i.trigger(h,{operation:"upload",files:r.data("fileNames"),XMLHttpRequest:t});l("Server response: "+t.responseText);if(!i.options.async.chunkSize)i._hideUploadProgress(r);else if(n._decreasePosition)n._decreasePosition(a);i._checkAllComplete();if(this.options.async.autoRetryAfter)this._autoRetryAfter(r)},_autoRetryAfter:function(e){var t=this;var i=this._module.retries;if(!i)return;if(!i[e.data("uid")])i[e.data("uid")]=1;if(i[e.data("uid")]<=this.options.async.maxAutoRetries){i[e.data("uid")]++;setTimeout(function(){t._module.performUpload(e)},this.options.async.autoRetryAfter)}},_setUploadErrorState:function(e){var t=this,i,n=e.data("fileNames"),r=e.find(".k-file-information"),a=e.find(".k-file-size");t._fileState(e,"failed");e.removeClass("k-file-progress").addClass("k-file-error");if(r.length>0)r.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+n.length+" "+t.localization.uploadFail+"</span>");else if(a.length>0)a.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+t.localization.uploadFail+"</span>");t._updateUploadProgress(e);i=f(".k-upload-pct",e);if(i.length>0)i.remove();this._updateHeaderUploadStatus();this._fileAction(e,"retry");this._fileAction(e,b,true);if(t._retryClicked)e.trigger("focus")},_updateUploadProgress:function(e){var t=this;if(!t.options.async.chunkSize)f(".k-progress",e).width("100%");else{var i=e.data("uid");if(t._module.metaData){var n=t._module.metaData[i];if(n){var r=n.totalChunks?Math.round(n.chunkIndex/n.totalChunks*100):100;t._onFileProgress({target:f(e,t.wrapper)},r)}}}},_hideUploadProgress:function(e){f(".k-progressbar",e).delay(L).fadeOut(B,function(){f(this).find(".k-progress").css("width","0%")})},_showActionButtons:function(){var e=this;var t=f(".k-action-buttons",e.wrapper);var i=f(".k-upload-selected",e.wrapper);var n=f(".k-clear-selected",e.wrapper);if(i.length===0){i=e._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected").addClass("k-button-solid-primary").removeClass("k-button-solid-base");n=e._renderAction("",this.localization.clearSelectedFiles).addClass("k-clear-selected")}if(!t.length)t=f("<div />").addClass("k-action-buttons").append(n,i);this.wrapper.append(t)},_hideActionButtons:function(){f(".k-action-buttons",this.wrapper).remove()},_showHeaderUploadStatus:function(e){var t=this;var i=t.localization;var n=f(".k-dropzone",t.wrapper);var r=f(".k-upload-status-total",t.wrapper);if(r.length!==0)r.remove();f(".k-dropzone-hint",t.wrapper).addClass("k-hidden");r='<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>';if(e){r=f(r).append(i.headerStatusUploading);r.find(".k-icon").addClass(C.loading)}else{r=f(r).append(i.headerStatusUploaded);r.find(".k-icon").addClass(C.warning)}if(n.length>0)n.append(r);else f(".k-upload-button",t.wrapper).after(r)},_updateHeaderUploadStatus:function(){var e=this;var t=f(".k-upload-status-total",this.wrapper);var i=f(".k-file",e.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid");var n=f(".k-file-invalid",e.wrapper);var r=f(".k-file-error",e.wrapper);var a=f(".k-file",e.wrapper).find(".k-i-play-sm");var o,s;if(a.length&&(a.length===i.length||!e.options.async.concurrent)){s=f(".k-icon",t).removeClass().addClass("k-icon").addClass("k-i-pause-sm");t.html(s).append(e.localization.headerStatusPaused)}else if(i.length===0||n.length>0||r.length>0){o=f(".k-file.k-file-error, .k-file.k-file-invalid",e.wrapper);t=f(".k-upload-status-total",e.wrapper);s=f(".k-icon",t).removeClass().addClass("k-icon").addClass(o.length!==0?C.warning:C.success);t.html(s).append(e.localization.headerStatusUploaded)}},_hideHeaderUploadstatus:function(){var e=this,t=e.options.dropZone;f(".k-upload-status-total",this.wrapper).remove();if(t==="")f(".k-dropzone-hint",e.wrapper).removeClass("k-hidden")},_onParentFormSubmit:function(){var e=this,t=e.element;if(typeof this._module.onAbort!=="undefined")this._module.onAbort();if(!t.value){var i=f(t);i.attr("disabled","disabled");window.setTimeout(function(){i.prop("disabled",false)},0)}},_onParentFormReset:function(){f(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof FormData!="undefined"},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!c.support.browser.opera&&!(c.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase();var t=/chrome/.test(e);var i=!t&&/safari/.test(e);var n=i&&/windows/.test(e);return!n&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var e=this;var t=e._ns;var i=f(".k-dropzone",e.wrapper).on("dragenter"+t,R).on("dragover"+t,function(e){if(e.originalEvent)e.originalEvent.dataTransfer.dropEffect="copy";e.preventDefault()}).on("drop"+t,e._onDrop.bind(e));if(!i.find(".k-dropzone-hint").length)i.append(f("<em class='k-dropzone-hint'>"+e.localization.dropFilesHere+"</em>"));N(i,t,function(){if(!i.closest(".k-upload").hasClass("k-state-disabled"))i.addClass("k-dropzone-hovered")},function(){i.removeClass("k-dropzone-hovered")});e._bindDocumentDragEventWrappers(i)},_setupCustomDropZone:function(){var t=this;var i=f(t.options.dropZone);if(!t.wrapper.find(".k-dropzone-hint").length)f(".k-dropzone",t.wrapper).append(f("<em class='k-dropzone-hint k-hidden'>"+t.localization.dropFilesHere+"</em>"));else f(".k-dropzone-hint",t.wrapper).addClass("k-hidden");var e=t._ns;i.on("dragenter"+e,R).on("dragover"+e,function(e){if(e.originalEvent)e.originalEvent.dataTransfer.dropEffect="copy";e.preventDefault()}).on("drop"+e,t._onDrop.bind(t));N(i,e,function(e){if(!t.wrapper.hasClass("k-state-disabled")){i.removeClass("k-dropzone-hovered");i.addClass("k-dropzone-hovered");f(e.target).addClass("k-dropzone-hovered")}},function(){i.removeClass("k-dropzone-hovered");i.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered")});t._bindDocumentDragEventWrappers(i)},_bindDocumentDragEventWrappers:function(e){var t=this;var i=t._ns;N(f(document),i,function(){if(!t.wrapper.hasClass("k-state-disabled")){e.addClass("k-dropzone-active");e.closest(".k-upload").removeClass("k-upload-empty");e.find(".k-dropzone-hint").removeClass("k-hidden")}},function(){e.removeClass("k-dropzone-active");e.find(".k-dropzone-hint").addClass("k-hidden");if(f("li.k-file",e.closest(".k-upload")).length===0)e.closest(".k-upload").addClass("k-upload-empty")})},_toggleDropZone:function(){var e=this,t=e.options.dropZone;if(!e._supportsDrop())return;f(t).off(e._ns);f(".k-dropzone",e.wrapper).off(e._ns);if(t!=="")e._setupCustomDropZone();else e._setupDropZone()},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(e,t,i,n){var r=this,a=r.options.async.removeField||"fileNames",o=f.extend(t.data,u());o[a]=e;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:X,url:this.options.async.removeUrl,traditional:true,data:o,headers:t.headers,success:i,error:n,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(e){var t=this;var i=t.options;var n=!!e.attr("id")&&f("[for='"+e.attr("id")+"']").length>0;e.wrap("<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button'></div></div></div>");if(!i.async.saveUrl)e.closest(".k-upload").addClass("k-upload-sync");else e.closest(".k-upload").addClass("k-upload-async");e.closest(".k-upload").addClass("k-upload-empty");e.closest(".k-button").append("<span>"+t.localization.select+"</span>");if(!n&&!e.attr("aria-label"))e.attr("aria-label",t.localization.select);return e.closest(".k-upload")},_checkAllComplete:function(){if(f(".k-file.k-file-progress",this.wrapper).length===0)this.trigger(e)},_inputFiles:function(e){return t(e)}}),S=function(e){this.name="syncUploadModule";this.element=e.wrapper;this.upload=e;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},D=(S.prototype={onSelect:function(e,t){var i=this.upload;var n=f(e.target);var r=i._filesContainValidationErrors(t);i._addInput(n);var a={fileNames:t};if(r)n.remove();else a.relatedInput=n;var o=i._enqueueFile(I(n),a);if(r)i._hideUploadProgress(o);i._fileAction(o,b)},onRemove:function(e){var t=P(e);var i=t.data("relatedInput");if(i)i.remove();this.upload._removeFileEntry(t)}},function(e){this.name="iframeUploadModule";this.element=e.wrapper;this.upload=e;this.iframes=[]}),F=(T._frameId=0,D.prototype={onSelect:function(e,t){var i=this.upload;var n=f(e.target);var r=i._filesContainValidationErrors(t);var a=this.prepareUpload(n,t,r);if(i.options.async.autoUpload)if(!r)this.performUpload(a);else{i._fileAction(a,b);i._showHeaderUploadStatus(false)}else{i._fileAction(a,b);if(!r)i._showActionButtons();else i._updateHeaderUploadStatus()}if(r)i._hideUploadProgress(a)},prepareUpload:function(e,t,i){var n=this.upload;var r=f(n.element);var a=n.options.async.saveField||e.attr("name");var o,s,l,d;n._addInput(e);e.attr("name",a);if(!i){l=this.createFrame(n.name+"_"+T._frameId++);this.registerFrame(l);d=this.createForm(n.options.async.saveUrl,l.attr("name")).append(r);s={frame:l,relatedInput:r,fileNames:t}}else{e.remove();s={fileNames:t}}o=n._enqueueFile(I(e),s);if(l)l.data({form:d,file:o});return o},performUpload:function(e){var t={files:e.data("fileNames")};var i=e.data("frame");var n=this.upload;var r=e.find(".k-file-validation-message");var a=e.find(".k-file-information");var o=e.find(".k-file-size");if(!n.trigger(p,t)){n._hideActionButtons();n._showHeaderUploadStatus(true);i.appendTo(document.body);var s=i.data("form").attr("action",n.options.async.saveUrl).appendTo(document.body);t.data=f.extend({},t.data,u());for(var l in t.data){var d=s.find("input[name='"+l+"']");if(d.length===0)d=f("<input>",{type:"hidden",name:l}).prependTo(s);d.val(t.data[l])}n._fileAction(e,m);n._fileState(e,"uploading");f(e).removeClass("k-file-error").addClass("k-file-progress");if(r.length>0)r.remove();if(a.length>0)a.removeClass("k-hidden");else if(o.length>0)o.removeClass("k-hidden");i.one("load",this.onIframeLoad.bind(this));s[0].submit()}else{n._removeFileEntry(i.data("file"));this.cleanupFrame(i);this.unregisterFrame(i)}},onSaveSelected:function(){var n=this;var r=n.upload;f(".k-file",this.element).each(function(){var e=f(this);var t=J(e);var i=r._filesContainValidationErrors(e.data("fileNames"));if(!t&&!i)n.performUpload(e)})},onIframeLoad:function(e){var t=f(e.target),i;try{i=t.contents().text()}catch(e){i="Error trying to get server response: "+e}this.processResponse(t,i)},processResponse:function(t,e){var i=t.data("file"),n=this,r={responseText:e};Q(e,function(e){f.extend(r,{statusText:"OK",status:"200"});n.upload._onFileProgress({target:f(i,n.upload.wrapper)},100);n.upload._onUploadSuccess({target:f(i,n.upload.wrapper)},e,r);n.cleanupFrame(t);n.unregisterFrame(t)},function(){f.extend(r,{statusText:"error",status:"500"});n.upload._onUploadError({target:f(i,n.upload.wrapper)},r)})},onCancel:function(e){var t=f(e.target).data("frame");this.stopFrameSubmit(t);this.cleanupFrame(t);this.unregisterFrame(t);this.upload._removeFileEntry(t.data("file"))},onRetry:function(e){var t=P(e);this.performUpload(t)},onRemove:function(e,t,i){var n=this;var r=n.upload;var a=P(e);var o=a.data("frame");if(o){n.unregisterFrame(o);r._removeFileEntry(a);n.cleanupFrame(o)}else if(a.hasClass("k-file-success"))K(a,r,t,i);else r._removeFileEntry(a)},onAbort:function(){var e=this.element,t=this;f.each(this.iframes,function(){f("input",this.data("form")).appendTo(e);t.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(e){return f("<iframe"+" name='"+e+"'"+" id='"+e+"'"+" style='display:none;' />")},createForm:function(e,t){return f("<form enctype='multipart/form-data' method='POST'"+" action='"+e+"'"+" target='"+t+"'"+"/>")},stopFrameSubmit:function(e){if(typeof e.stop!="undefined")e.stop();else if(e.document)e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=f.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null);setTimeout(function(){t.remove();e.remove()},1)}},function(e){this.name="formDataUploadModule";this.element=e.wrapper;this.upload=e;this.position={};this.metaData={};this.cancelled={};this.resume={};this.paused={};this.retries={}});function I(e){return f.map(t(e),function(e){return e.name}).join(", ")}function t(e){var t=e[0];if(t.files)return E(t.files);else return[{name:W(t.value),extension:U(t.value),size:null}]}function E(e){return f.map(e,function(e){return V(e)})}function V(e){var t=e.name||e.fileName;return{name:c.htmlEncode(t),extension:U(t),size:typeof e.size=="number"?e.size:e.fileSize,rawFile:e}}function U(e){var t=e.match(O);return t?t[0]:""}function W(e){var t=e.lastIndexOf("\\");return t!=-1?e.substr(t+1):e}function z(e,t){var i=c.guid();return f.map(e,function(e){e.uid=t?c.guid():i;return e})}function j(e,t){var i=q(t.allowedExtensions);var n=t.maxFileSize;var r=t.minFileSize;for(var a=0;a<e.length;a++){G(e[a],i);$(e[a],r,n)}}function q(e){var t=f.map(e,function(e){var t=e.substring(0,1)==="."?e:"."+e;return t.toLowerCase()});return t}function G(e,t){if(t.length>0)if(t.indexOf(e.extension.toLowerCase())<0){e.validationErrors=e.validationErrors||[];if(f.inArray(i,e.validationErrors)===-1)e.validationErrors.push(i)}}function $(e,t,i){if(t!==0&&e.size<t){e.validationErrors=e.validationErrors||[];if(f.inArray(w,e.validationErrors)===-1)e.validationErrors.push(w)}if(i!==0&&e.size>i){e.validationErrors=e.validationErrors||[];if(f.inArray(k,e.validationErrors)===-1)e.validationErrors.push(k)}}function A(e){var t=0;if(typeof e[0].size=="number"){for(var i=0;i<e.length;i++)if(e[i].size)t+=e[i].size}else return"";t/=1024;if(t<1024)return t.toFixed(2)+" KB";else return(t/1024).toFixed(2)+" MB"}function Y(e){return!e.multiple&&f(".k-file",e.wrapper).length>1}function K(a,o,e,t){if(!o._supportsRemove()){if(Y(o)||!t)o._removeFileEntry(a);return}var s=a.data("fileNames");var i=f.map(s,function(e){return e.name});if(t===false){o._removeFileEntry(a);return}o._submitRemove(i,e,function e(t,i,n){var r=o.trigger(d,{operation:"remove",files:s,response:t,XMLHttpRequest:n});if(!r)o._removeFileEntry(a)},function e(t){if(Y(o))o._removeFileEntry(a);o.trigger(h,{operation:"remove",files:s,XMLHttpRequest:t});l("Server response: "+t.responseText)})}function Q(e,t,i){var n=false,r="";try{r=JSON.parse(X(e));n=true}catch(e){i()}if(n)t(r)}function X(e){if(typeof e==="undefined"||e==="")e="{}";return e}function R(e){if(e.originalEvent)e.originalEvent.dataTransfer.dropEffect="copy";e.stopPropagation();e.preventDefault()}function N(e,t,i,n){var r,a;e.on("dragenter"+t,function(e){i(e);a=new Date;if(!r)r=setInterval(function(){var e=new Date-a;if(e>100){n();clearInterval(r);r=null}},100)}).on("dragover"+t,function(){a=new Date})}function J(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function P(e){return f(e.target).closest(".k-file")}return F.prototype={onSelect:function(e,t){var i=this.upload;var n=this;var r=f(e.target);var a=this.prepareUpload(r,t);var o;var s;f.each(a,function(e){o=i._filesContainValidationErrors(f(this.data("fileNames")));if(i.options.async.autoUpload)if(!o)if(i.options.async.chunkSize){n.prepareChunk(this);s=this.prev();if(i.options.async.concurrent||e===0&&!s.length||e===0&&s.hasClass("k-file-success"))n.performUpload(this)}else n.performUpload(this);else{i._fileAction(this,b);i._showHeaderUploadStatus(false)}else{i._fileAction(this,b);if(!o){i._showActionButtons();this.addClass("k-toupload")}else i._updateHeaderUploadStatus()}if(o)i._hideUploadProgress(this)})},prepareUpload:function(e,t){var i=this.enqueueFiles(t);if(e.is("input")){f.each(i,function(){f(this).data("relatedInput",e)});e.data("relatedFileEntries",i);this.upload._addInput(e)}return i},enqueueFiles:function(e){var t=this.upload;var i;var n;var r=e.length;var a;var o;var s=[];if(t.options.async.batch===true){i=f.map(e,function(e){return e.name}).join(", ");if(t.directory||t.options.directoryDrop)f(e).each(function(){if(this.rawFile.webkitRelativePath||this.rawFile.relativePath)this.name=this.rawFile.webkitRelativePath||this.rawFile.relativePath});o=t._enqueueFile(i,{fileNames:e});o.data("files",e);s.push(o)}else for(n=0;n<r;n++){a=e[n];i=a.name;if(t.directory||t.options.directoryDrop)if(a.rawFile.webkitRelativePath||a.rawFile.relativePath)a.name=a.rawFile.webkitRelativePath||a.rawFile.relativePath;o=t._enqueueFile(i,{fileNames:[a]});o.data("files",[a]);s.push(o)}return s},performUpload:function(e){var t=this.upload,i=this.createFormData(),n=this.createXHR(),r={files:e.data("fileNames"),XMLHttpRequest:n},a;var o=e.find(".k-file-validation-message");var s=e.find(".k-file-information");var l=e.find(".k-file-size");if(!t.trigger(p,r)){if(e.find(".k-i-cancel").length===0){if(t.options.async.chunkSize)t._fileAction(e,g);t._fileAction(e,m,t.options.async.chunkSize)}if(!t.wrapper.find(".k-toupload").length)t._hideActionButtons();t._showHeaderUploadStatus(true);if(r.formData)i=r.formData;else{r.data=f.extend({},r.data,u());for(var d in r.data)i.append(d,r.data[d]);a=e.data("files");if(a)this.populateFormData(i,a)}t._fileState(e,"uploading");f(e).removeClass("k-file-error").addClass("k-file-progress");if(o.length>0)o.remove();if(s.length>0)s.removeClass("k-hidden");else if(l.length>0)l.removeClass("k-hidden");if(t.options.async.useArrayBuffer&&window.FileReader)this._readFile(t.options.async.saveUrl,i,e,n);else this.postFormData(t.options.async.saveUrl,i,e,n)}else this.removeFileEntry(e)},_readFile:function(t,i,n,r){var a=this;var o=a.upload;var s=n.data("files")[0];var e=new FileReader;e.onload=function(e){try{if(!a.fileArrayBuffer)a.fileArrayBuffer=e.target.result;else a.fileArrayBuffer=a._appendBuffer(a.fileArrayBuffer,e.target.result)}catch(e){o._onUploadError({target:f(n,o.wrapper)},r);return}if(a.position[s.uid]>s.size){a.postFormData(o.options.async.saveUrl,a.fileArrayBuffer,n,r);a.fileArrayBuffer=null}else a._readFile(t,i,n,r)};e.onerror=function(){o._onUploadError({target:f(n,o.wrapper)},r)};e.readAsArrayBuffer(a._getCurrentChunk(s.rawFile,s.uid))},_appendBuffer:function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);i.set(new Uint8Array(e),0);i.set(new Uint8Array(t),e.byteLength);return i.buffer},onSaveSelected:function(){var n=this;var r=n.upload;f(".k-toupload",this.element).filter(function(){var e=f(this);var t=J(e);var i=r._filesContainValidationErrors(e.data("fileNames"));return!t&&!i}).each(function(e){var t=f(this);var i=t.prev();t.removeClass("k-toupload");if(r.options.async.chunkSize){n.prepareChunk(t);if(r.options.async.concurrent||e===0&&!i.length||(e===0&&i.hasClass("k-file-success")||i.hasClass("k-file-error")))n.performUpload(t)}else n.performUpload(t)})},onCancel:function(e){var t=P(e);if(this.upload.options.async.chunkSize)this.cancelled[t.data("uid")]=true;this.stopUploadRequest(t);this.removeFileEntry(t)},onPause:function(e){var t=P(e);var i=t.data("uid");var n=this.upload.options.async;if(n.chunkSize){this.retries[i]=n.maxAutoRetries+1;this.paused[i]=true;this.resume[i]=false}},onResume:function(e){var t=P(e);var i=t.data("uid");if(this.upload.options.async.chunkSize){delete this.paused[i];this.resume[i]=true;this.retries[t.data("uid")]=1;this._increaseChunkIndex(i);this.performUpload(t)}},onRetry:function(e){var t=P(e);var i=this.upload.options.async;if(i.chunkSize){this.retries[t.data("uid")]=i.maxAutoRetries+1;delete this.paused[t.data("uid")]}this.performUpload(t)},onRemove:function(e,t,i){var n=this;var r=n.upload;var a=P(e);var o=this.upload.options.async;if(o.chunkSize)this.retries[a.data("uid")]=o.maxAutoRetries+1;if(a.hasClass("k-file-success"))K(a,r,t,i);else n.removeFileEntry(a)},createXHR:function(){return new XMLHttpRequest},postFormData:function(e,t,i,n){var r=this;i.data("request",n);n.addEventListener("load",function(e){r.onRequestSuccess.call(r,e,i)},false);n.addEventListener(h,function(e){r.onRequestError.call(r,e,i)},false);n.upload.addEventListener("progress",function(e){r.onRequestProgress.call(r,e,i)},false);n.open("POST",e,true);n.withCredentials=this.upload.options.async.withCredentials;var a=this.upload.options.async.accept;if(a)n.setRequestHeader("Accept",a);n.send(t)},createFormData:function(){return new FormData},populateFormData:function(e,t){var i;var n;var r=t.length;var a;var o=this.upload;if(o.options.async.chunkSize){a=t[0].uid;i=this._getCurrentChunk(t[0].rawFile,a);e.append(o.options.async.saveField||o.name,i);var s=JSON.stringify(this.metaData[a]);e.append("metadata",s)}else for(n=0;n<r;n++)e.append(o.options.async.saveField||o.name,t[n].rawFile);return e},onRequestSuccess:function(e,a){var o=e.target,s=this;function t(){s.upload._onUploadError({target:f(a,s.upload.wrapper)},o)}function i(e){var t=s.upload.options.async.batch;var i=s.upload.options.async.chunkSize;var n=s.upload.options.async.concurrent;var r=e.fileUid;if(s.paused[r]||s.cancelled[r])return;delete s.retries[r];if(i&&!t&&!e.uploaded){s._increaseChunkIndex(r);s.performUpload(a)}else if(i&&!t&&!n&&a.next().length&&!a.next().hasClass("k-toupload")){s.upload._onFileProgress({target:f(a,s.upload.wrapper)},100);s._resetChunkIndex(r);s.upload._onUploadSuccess({target:f(a,s.upload.wrapper)},e,o);s.performUpload(a.next())}else{s.upload._onFileProgress({target:f(a,s.upload.wrapper)},100);s.upload._onUploadSuccess({target:f(a,s.upload.wrapper)},e,o);s.cleanupFileEntry(a)}}if(o.status>=200&&o.status<=299)Q(o.responseText,i,t);else t()},onRequestError:function(e,t){var i=e.target;this.upload._onUploadError({target:f(t,this.upload.wrapper)},i)},cleanupFileEntry:function(e){var t=e.data("relatedInput"),i=true;if(t){f.each(t.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=e[0])i=i&&this.hasClass("k-file-success")});if(i)t.remove()}},removeFileEntry:function(e){var t=this.upload.options.async.chunkSize;var i=this.upload.options.async.concurrent;var n=this.upload.wrapper.find(".k-upload-selected").length>0;this.cleanupFileEntry(e);if(t&&!i&&!n)if(e.next().length)this.performUpload(e.next());this.upload._removeFileEntry(e)},onRequestProgress:function(e,t){var i=Math.round(e.loaded*100/e.total);var n=t.data("uid");var r;if(this.upload.options.async.chunkSize){r=this.metaData[n];i=r&&r.totalChunks?Math.round(r.chunkIndex/r.totalChunks*100):100}this.upload._onFileProgress({target:f(t,this.upload.wrapper)},i)},stopUploadRequest:function(e){if(e.data("request"))e.data("request").abort()},prepareChunk:function(e){var t=e.data("files")[0];var i=t.rawFile;var n=t.uid;var r=this.upload.options.async.chunkSize;this.position[n]=0;this.metaData[n]={chunkIndex:0,contentType:i.type,fileName:i.name,relativePath:t.name,totalFileSize:i.size,totalChunks:Math.ceil(i.size/r),uploadUid:n}},_decreaseChunkIndex:function(e){this.metaData[e].chunkIndex--},_increaseChunkIndex:function(e){this.metaData[e].chunkIndex++},_resetChunkIndex:function(e){this.metaData[e].chunkIndex=0},_decreasePosition:function(e){this.position[e]-=this.upload.options.async.chunkSize},_getCurrentChunk:function(e,t){var i=this.position[t];var n;var r=this.upload.options.async;var a=r.chunkSize||r.bufferChunkSize;if(!this.position[t])this.position[t]=0;this.position[t]+=a;if(!!(n=this._getChunker(e)))return e[n](i,this.position[t]);else return e},_getChunker:function(e){if(e.slice)return"slice";else if(e.mozSlice)return"mozSlice";else if(e.webkitSlice)return"webkitSlice";else return null}},c.ui.plugin(T),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.breadcrumb.min",["kendo.core.min"],function(){var e={id:"breadcrumb",name:"Breadcrumb",category:"web",description:"The Breadcrumb widget displays navigation breadcrumb.",depends:["core"]},c=window.kendo.jQuery,p=void 0,h=window.kendo,n=h.ui.Widget,m=c.extend,g=c.isPlainObject,r=".kendoBreadcrumb",s="aria-hidden",a="aria-label",l="click",o="focus",d="blur",u="keydown",i="change",f=".",v={widget:"k-widget k-breadcrumb",overlay:"k-breadcrumb-container",textbox:"k-input-inner",textboxWrapper:"k-textbox k-input k-input-md k-rounded-md k-input-solid",link:"k-breadcrumb-link",item:"k-breadcrumb-item",delimiter:"k-breadcrumb-delimiter-icon",rootItem:"k-breadcrumb-root-item",rootLink:"k-breadcrumb-root-link",overflowIcon:"k-breadcrumb-overflow-icon",focused:"k-state-focused",hidden:"k-hidden",inputWrapper:"k-breadcrumb-input-container"},t=n.extend({init:function(e,t){var i=this;t=t||{};n.fn.init.call(i,e,t);i._wrapper();if(t.editable){i._editable();i._tabindex()}i.wrapper.on(l+r,"a:not(.k-state-disabled)",i._click.bind(i));if(t.value||t.bindToLocation||!t.items)i._value();else if(t.items)i.items(t.items);i._resizeHandler=h.onResize(function(){i.resize(true)})},options:{editable:false,navigational:false,bindToLocation:false,items:null,name:"Breadcrumb",gap:0,rootIcon:"home",delimiterIcon:"arrow-chevron-right",messages:{rootTitle:"Go to root"}},events:[i,l],destroy:function(){var e=this;n.fn.destroy.call(e);h.unbindResize(e._resizeHandler);e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(r)},items:function(e){var t=this;if(e===p)return t.options.items;t.options.items=e;t._segments=e;t.refresh()},_update:function(e){var t=this;if(e!==t.value()){t._generateSegments(e);t.refresh();t.trigger(i,{sender:this,value:e})}},_generateSegments:function(e){var t=this,i=t.options,n=i.items,r,a;a=t._split(e);if(!n){t.options.items=t._segments=a;return}t._segments=[];for(var o=0;o<a.length;o++){r=t._path(n.slice(0,o+1));if(r!==""&&e.indexOf(r)>-1&&n[o]&&n[o].text===a[o])t._segments.push(n[o]);else t._segments.push(a[o])}},_click:function(e){var t=this,i=t.options,n=c(e.target).closest(f+v.item),r=n.prevAll().addBack(),a=t._getItems(r),o=t._path(a),s=t._segments[n.index()];if(!i.navigational)e.preventDefault();if(!t.trigger(l,{sender:t,originalEvent:e,isRoot:s.type==="rootitem",item:s}))t._update(o)},_getItems:function(e){var t=this;return c.map(e,function(e){return t._segments[c(e).index()]||e.innerText})},_edit:function(){var e=this,t=e.input;e.oldValue=e.value();e.inputWrapper.css("height",e.wrapper.height());e.overlay.hide();e.input.val(e.value());e.input.attr(s,false);e.inputWrapper.show();setTimeout(function(){t.select()})},_blur:function(e){var t=this,i=t.input,n=t.inputWrapper,r=t.wrapper,a=t.overlay,o=i.val().replace(/\/{2,}/g,"/");if(a.is(":visible"))return;if(e)o=t.oldValue;i.attr(s,true);n.hide();a.show();i.val("");t._update(o);r.removeClass(v.focused)},_keydown:function(e){var t=this,i=e.keyCode,n=i===h.keys.ENTER,r=i===h.keys.ESC;if(n||r){t._blur(r);setTimeout(function(){t.overlay.find("a").first().trigger("focus")})}},isNavigational:function(e){var t=e.hasClass(v.textbox)||e.closest(f+v.item);if(e[0]===this.wrapper[0])return false;return t&&!e.hasClass("k-breadcrumb-last-item")},_wrapperKeydown:function(e){var t=this,i=c(e.target),n=t.isNavigational(i);if(e.keyCode===h.keys.ENTER&&!n)t._edit()},_wrapperClick:function(e){var t=this,i=c(e.target),n=t.isNavigational(i);if(!n)this._edit()},_wrapperFocus:function(e){c(e.target).addClass(v.focused)},_wrapperBlur:function(e){c(e.target).removeClass(v.focused)},_wrapper:function(){var e=this,t=this.element,i=t.is("input"),n=c('<div class="'+v.inputWrapper+'"><span class="'+v.textboxWrapper+'"></span></div>');e.wrapper=i?t.wrap(c("<nav />")).parent():t;if(i){e.element.wrap(n).addClass(v.textbox);e.inputWrapper=e.wrapper.find(f+v.inputWrapper).hide()}else e.inputWrapper=e.wrapper.append(n).find(f+v.inputWrapper).hide();e.wrapper.addClass(v.widget);e.wrapper.attr(a,"Breadcrumb");e.overlay=e.wrapper.append(c("<ol />").addClass(v.overlay)).find(f+v.overlay)},_editable:function(){var e=this,t=e.element,i=t.is("input");if(i)e.input=e.element;else e.input=c("<input />");e.inputWrapper.find(f+v.textboxWrapper.split(" ")[0]).append(e.input);e.input.addClass(v.textbox).attr(s,true);e.input.on(d+r,e._blur.bind(e,false)).on(u+r,e._keydown.bind(e));e.wrapper.on(o+r,e._wrapperFocus.bind(e)).on(d+r,e._wrapperBlur.bind(e)).on(u+r,e._wrapperKeydown.bind(e)).on(l+r,e._wrapperClick.bind(e))},_value:function(){var e=this,t=e.options;if(t.value)e.value(t.value);else if(t.bindToLocation)e.value(window.location.href.replace(/http(s?):\/\//,"").replace(/\/$/,""));else e.value("")},_split:function(e){return e.split("/").filter(function(e,t){if(t>0&&e==="")return false;return true})},isRtl:function(){return h.support.isRtl(this.wrapper)},refresh:function(){var e=this,t=e.options,i=t.messages,n=e.options.delimiterIcon,r="",a="",o=e.value()==="",s=e._segments,l,d,u,f;if(n=="arrow-chevron-right"&&e.isRtl())n="arrow-chevron-left";for(d=0,u=s.length;d<u;d++){l=s[d];f=d===s.length-1;if(l!==p){if(!r)a="/";else a+=l.text||l||"";if(typeof l==="string"){l={type:!r?"rootitem":"item",href:t.navigational?a:"#",text:l,showIcon:!r,showText:!!r,icon:!r?t.rootIcon:"",itemClass:!r?"k-breadcrumb-root-item":"",linkClass:!r?v.rootLink:"",delimiterIcon:n,renderDelimiter:!f&&!o,lastSegment:f,iconClass:""};e._segments.splice(d,1,l)}else if(g(l)){l=m({},l,{type:l.type?l.type.toLowerCase():"item"});l=m({},l,{text:l.text||"",title:l.text||"",icon:l.icon||(l.type==="rootitem"?t.rootIcon:""),iconClass:l.iconClass||"",lastSegment:f,renderDelimiter:!f&&s.length>1,href:t.navigational?l.href:"#",delimiterIcon:n,itemClass:l.itemClass||"",linkClass:l.linkClass||"",showIcon:l.showIcon===p?l.type==="rootitem"&&l.type!=="item":l.showIcon,showText:l.showText===p?l.type==="item"&&l.type!=="rootitem":l.showText});if(l.type==="rootitem"){l.itemClass+=" k-breadcrumb-root-item";l.linkClass+=" "+v.rootLink}}if(l.type==="rootitem"&&l.text==="")l.title=i.rootTitle;a+=a.match(/\/$/)?"":"/";r+=h.template(this.itemTemplate)(l)}}this.overlay.empty().append(c(r));this.resize(true)},itemTemplate:'<li class="k-breadcrumb-item #:itemClass# #if(lastSegment){#k-breadcrumb-last-item#}#">'+'<a href="#:href#" class="#:linkClass# '+'#if(type !== "rootitem"){# k-breadcrumb-link#}#'+"#if(showText && showIcon){# k-breadcrumb-icontext-link#}#"+"#if(showIcon && !showText){# k-breadcrumb-icon-link#}#"+'#if(lastSegment && type !== "rootitem"){# k-state-disabled#}#"'+'#if(lastSegment){# aria-current="page"#}#'+'#if(lastSegment && type !== "rootitem"){# aria-disabled="true" #}#'+'title="#:text || title#">'+"#if(showIcon) {#"+'<span class="#if(icon){#k-icon k-i-#:icon##}# #:iconClass#"></span>'+"#}#"+"#if(showText) {#"+"#:text#"+"#}#"+"</a>"+"#if(renderDelimiter) {#"+'<span class="k-breadcrumb-delimiter-icon k-icon k-i-#:delimiterIcon#" aria-hidden="true"></span>'+"#}#"+'#if(type === "rootitem" && renderDelimiter) {#'+'<span class="k-breadcrumb-delimiter-icon k-hidden k-icon k-i-#:delimiterIcon#" aria-hidden="true"></span>'+"#}#"+"</li>",_displayOverflowIcons:function(e){var t=this,i=t.wrapper.find(f+v.rootItem);if(e)i.find(f+v.delimiter).addClass(v.overflowIcon).removeClass(v.hidden);else i.find(f+v.overflowIcon).removeClass(v.overflowIcon).last().addClass(v.hidden)},_shrinkItems:function(){var e=this,t=e.wrapper,i=e.overlay,n=e.overlay.find(f+v.item+":visible:not(.k-breadcrumb-root-item)"),r=t.width()-e.options.gap,a;if(n.length==1)return;for(var o=0;o<n.length;o+=1){a=c(n[o]);if(h._outerWidth(i)>=r){if(o==n.length-1)break;a.hide();e._displayOverflowIcons(true)}}},_showItem:function(e,t,i){if(e.length&&i>t+h._outerWidth(e,true)){e.show();return true}return false},_stretchItems:function(){var e=this,t=e.wrapper,i=e.overlay,n=e.overlay.find(f+v.item+":hidden:not(.k-breadcrumb-root-item)"),r=t.width()-e.options.gap,a,o;if(!n.length)e._displayOverflowIcons(false);for(var s=n.length-1;s>=0;s--){a=c(n[s]);o=h._outerWidth(i);if(o>r||!this._showItem(a,o,r))break}},_resize:function(){this._shrinkItems();this._stretchItems()},getSize:function(){return h.dimensions(this.wrapper)},value:function(e){var t=this;if(e!==p){t._generateSegments(e);t.refresh();return}return t._path(t._segments)},_path:function(e){return c.map(e,function(e){var t=g(e)?e.text:e;return t==="/"?"":t}).join("/")}});return h.ui.plugin(t),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.filebrowser.min",["kendo.listview.min","kendo.dropdownlist.min","kendo.upload.min","kendo.breadcrumb.min"],function(){var e={id:"filebrowser",name:"FileBrowser",category:"web",description:"",hidden:true,depends:["selectable","listview","dropdownlist","upload","breadcrumb"]},l=window.kendo.jQuery,n=void 0,u=window.kendo,r=u.ui.Widget,s=l.isPlainObject,d=l.extend,a=u.support.placeholder,o=u.isFunction,f=/(^\/|\/$)/g,i="change",c="apply",p="error",h="click",m=".kendoFileBrowser",g=".kendoSearchBox",v="name",b="size",_="type",k={field:_,dir:"asc"},w=u.template('<div class="k-listview-item k-listview-item-empty"><span class="k-file-preview"><span class="k-file-icon k-icon k-i-none"></span></span><span class="k-file-name">${text}</span></div>'),y='<div class="k-widget k-filebrowser-toolbar k-toolbar k-floatwrap">'+"# if (showCreate) { #"+'<button type="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button"><span class="k-i-button-icon k-icon k-i-folder-add"></span></button>'+"# } #"+"# if (showUpload) { # "+'<div class="k-widget k-upload">'+'<div class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button">'+'<span class="k-button-icon k-icon k-i-plus"></span>'+'<span class="k-button-text">#=messages.uploadFile#</span>'+'<input type="file" name="file" />'+"</div>"+"</div>"+"# } #"+"# if (showDelete) { #"+'<button type="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-disabled"><span class="k-button-icon k-icon k-i-close"></span></button>'+"# } #"+'<div class="k-tiles-arrange">'+"<label>#=messages.orderBy#: <select></select></label>"+"</div>"+'<span class="k-toolbar-spacer"></span>'+'<input data-role="searchbox" />'+"</div>";function t(e,t,i){var n,r;e.on("dragenter"+m,function(){t();r=new Date;if(!n)n=setInterval(function(){var e=new Date-r;if(e>100){i();clearInterval(n);n=null}},100)}).on("dragover"+m,function(){r=new Date})}function x(e,t){if(e===n||!e.match(/\/$/))e=(e||"")+"/";return e+t}function C(e){if(!e)return"";var t=" bytes";if(e>=1073741824){t=" GB";e/=1073741824}else if(e>=1048576){t=" MB";e/=1048576}else if(e>=1024){t=" KB";e/=1024}return Math.round(e*100)/100+t}function T(e,t){var i=e[t];if(s(i))return i.from||i.field||t;return i}d(true,u.data,{schemas:{filebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),d(true,u.data,{transports:{filebrowser:u.data.RemoteTransport.extend({init:function(e){u.data.RemoteTransport.fn.init.call(this,l.extend(true,{},this.options,e))},_call:function(e,t){t.data=l.extend({},t.data,{path:this.options.path()});if(o(this.options[e]))this.options[e].call(this,t);else u.data.RemoteTransport.fn[e].call(this,t)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var S=r.extend({init:function(e,t){var i=this;t=t||{};r.fn.init.call(i,e,t);i.element.addClass("k-filebrowser");i.element.on(h+m,".k-filebrowser-toolbar button:not(.k-disabled):has(.k-i-close)",i._deleteClick.bind(i)).on(h+m,".k-filebrowser-toolbar button:not(.k-disabled):has(.k-i-folder-add)",i._addClick.bind(i)).on("keydown"+m,".k-listview-item.k-state-selected input",i._directoryKeyDown.bind(i)).on("blur"+m,".k-listview-item.k-state-selected input",i._directoryBlur.bind(i));i._dataSource();i.refresh();i.path(i.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[p,i,c],destroy:function(){var e=this;r.fn.destroy.call(e);e.dataSource.unbind(p,e._errorHandler);e.element.add(e.list).add(e.toolbar).off(m);u.destroy(e.element)},value:function(){var e=this,t=e._selectedItem(),i,n=e.options.transport.fileUrl;if(t&&t.get(_)==="f"){i=x(e.path(),t.get(v)).replace(f,"");if(n)i=o(n)?n(i):u.format(n,encodeURIComponent(i));return i}},_selectedItem:function(){var e=this.listView,t=e.select();if(t.length)return this.dataSource.getByUid(t.attr(u.attr("uid")))},_toolbar:function(){var t=this,e=u.template(y),i=t.options.messages,n=[{text:i.orderByName,value:"name"},{text:i.orderBySize,value:"size"}];t.toolbar=l(e({messages:i,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:i.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:true},upload:t._fileUpload.bind(t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end();t.upload=t.toolbar.find(".k-upload input").data("kendoUpload");t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:n,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList");t.searchBox=t.toolbar.find("input[data-role='searchbox']").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox");t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var e=this;if(e.options.transport.uploadUrl){t(l(document.documentElement),e._dropEnter.bind(e),e._dropLeave.bind(e));e._scrollHandler=e._positionDropzone.bind(e)}},_dropEnter:function(){this._positionDropzone();l(document).on("scroll"+m,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();l(document).off("scroll"+m,this._scrollHandler)},_positionDropzone:function(){var e=this,t=e.element,i=t.offset();e.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(i).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),i=u.format(e.options.messages.deleteFile,t.find(".k-file-name").text());if(t.length&&e._showMessage(i,"confirm"))e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return T(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var i=this,t=i.options,n=t.fileTypes,r=new RegExp(("("+n.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),a=e.files[0].name,o=e.files[0].size,s=v,l=b,d;if(r.test(a)){e.data={path:i.path()};d=i._createFile(a,o);if(!d)e.preventDefault();else i.upload.one("success",function(e){var t=i._insertFileToList(d);if(t._override){t.set(s,e.response[i._getFieldName(s)]);t.set(l,e.response[i._getFieldName(l)]);i.listView.dataSource.pushUpdate(t)}i._tiles=i.listView.items().filter("["+u.attr("type")+"=f]")})}else{e.preventDefault();i._showMessage(u.format(t.messages.invalidFileType,a,n))}},_findFile:function(e){var t=this.dataSource.data(),i,n,r=_,a=v,o;e=e.toLowerCase();for(i=0,o=t.length;i<o;i++)if(t[i].get(r)==="f"&&t[i].get(a).toLowerCase()===e){n=t[i];break}return n},_createFile:function(e,t){var i=this,n={},r=_,a=i._findFile(e);if(a)if(!i._showMessage(u.format(i.options.messages.overwriteFile,e),"confirm"))return null;else{a._override=true;return a}n[r]="f";n[v]=e;n[b]=t;return n},_insertFileToList:function(e){var t;if(e._override)return e;var i=this.dataSource;var n=i.view();for(var r=0,a=n.length;r<a;r++)if(n[r].get(_)==="f"){t=r;break}return i.insert(++t,e)},createDirectory:function(){var i=this,e,t,n=0,r=_,a=v,o=i.dataSource.data(),s=i._nameDirectory(),l=new i.dataSource.reader.model;for(e=0,t=o.length;e<t;e++)if(o[e].get(r)==="d")n=e;l.set(r,"d");l.set(a,s);i.listView.one("dataBound",function(){var e=i.listView.items().filter("["+u.attr("uid")+"="+l.uid+"]");if(e.length)this.edit(e);this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){i.listView.element.find(".k-edit-item input").select()})}).one("save",function(e){var t=e.model.get(a);if(!t)e.model.set(a,s);else e.model.set(a,i._nameExists(t,l.uid)?i._nameDirectory():t)});i.dataSource.insert(++n,l)},_directoryKeyDown:function(e){if(e.keyCode==13)e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var i=this.dataSource.data(),n=_,r=v,a,o;for(a=0,o=i.length;a<o;a++)if(i[a].get(n)==="d"&&i[a].get(r).toLowerCase()===e.toLowerCase()&&i[a].uid!==t)return true;return false},_nameDirectory:function(){var e="New folder",t=this.dataSource.data(),i=[],n=_,r=v,a,o,s;for(o=0,s=t.length;o<s;o++)if(t[o].get(n)==="d"&&t[o].get(r).toLowerCase().indexOf(e.toLowerCase())>-1)i.push(t[o].get(r));if(l.inArray(e,i)>-1){o=2;do{a=e+" ("+o+")";o++}while(l.inArray(a,i)>-1);e=a}return e},orderBy:function(e){this.dataSource.sort([{field:_,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:v,operator:"contains",value:e})},_content:function(){var t=this;t.list=l('<div class="k-filemanager-listview" />').appendTo(t.element).on("dblclick"+m,".k-listview-item",t._dblClick.bind(t));t.listView=new u.ui.ListView(t.list,{layout:"flex",flex:{direction:"row",wrap:"wrap"},dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:true,autoBind:false,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-disabled");if(e.action==="remove"||e.action==="sync"){e.preventDefault();u.ui.progress(t.listView.content,false)}},dataBound:function(){if(t.dataSource.view().length)t._tiles=this.items().filter("["+u.attr("type")+"=f]");else this.content.append(w({text:t.options.messages.emptyFolder}))},change:t._listViewChange.bind(t)})},_dblClick:function(e){var t=this,i=l(e.currentTarget);if(i.hasClass("k-edit-item"))t._directoryBlur();if(i.filter("["+u.attr("type")+"=d]").length){var n=t.dataSource.getByUid(i.attr(u.attr("uid")));if(n){t.path(x(t.path(),n.get(v)));t.breadcrumbs.value("/"+t.path())}}else if(i.filter("["+u.attr("type")+"=f]").length)t.trigger(c)},_listViewChange:function(){var e=this._selectedItem();if(e){this.toolbar.find(".k-i-close").parent().removeClass("k-disabled");this.trigger(i,{selected:e})}},_dataSource:function(){var e=this,t=e.options,i=t.transport,n=d({},k),r={field:v,dir:"asc"},a,o={type:i.type||"filebrowser",sort:[n,r]};if(s(i)){i.path=e.path.bind(e);o.transport=i}if(s(t.schema))o.schema=t.schema;else if(i.type&&s(u.data.schemas[i.type]))a=u.data.schemas[i.type];if(e.dataSource&&e._errorHandler)e.dataSource.unbind(p,e._errorHandler);else e._errorHandler=e._error.bind(e);e.dataSource=u.data.DataSource.create(o).bind(p,e._errorHandler)},_navigation:function(){var e=this,t=l('<div class="k-floatwrap"><nav></nav></div>').appendTo(this.element);e.breadcrumbs=t.find("nav").first().kendoBreadcrumb({editable:true,gap:50,value:e.options.path||"/",change:function(){e.path(this.value())}}).data("kendoBreadcrumb")},_error:function(e){var t=this,i;if(!t.trigger(p,e)){i=e.xhr.status;if(e.status=="error"){if(i=="404")t._showMessage(t.options.messages.directoryNotFound);else if(i!="0")t._showMessage("Error! The requested URL returned "+i+" - "+e.xhr.statusText)}else if(i=="timeout")t._showMessage("Error! Server timeout.");var n=t.dataSource;if(n.hasChanges())n.cancelChanges()}},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation();e._toolbar();e._content()},_editTmpl:function(){var e='<div class="k-listview-item k-state-selected" '+u.attr("uid")+'="#=uid#" ';e+=u.attr("type")+'="${'+_+'}">';e+="#if("+_+' == "d") { #';e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>';e+="#}else{#";e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-loading"></span></div>';e+="#}#";e+="#if("+_+' == "d") { #';e+='<span class="k-file-name"><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input class="k-input-inner" '+u.attr("bind")+'="value:'+v+'"/></span></span>';e+="#}#";e+="</div>";return u.template(e).bind({sizeFormatter:C})},_itemTmpl:function(){var e='<div class="k-listview-item" '+u.attr("uid")+'="#=uid#" ';e+=u.attr("type")+'="${'+_+'}">';e+="#if("+_+' == "d") { #';e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>';e+="#}else{#";e+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-file"></span></div>';e+="#}#";e+='<span class="k-file-name">${'+v+"}</span>";e+="#if("+_+' == "f") { # <span class="k-file-size">${this.sizeFormatter('+b+")}</span> #}#";e+="</div>";return u.template(e).bind({sizeFormatter:C})},path:function(e){var t=this,i=t._path||"";if(e!==n){t._path=e.replace(f,"")+"/";t.dataSource.read({path:t._path});return}if(i)i=i.replace(f,"");return i==="/"||i===""?"":i+"/"}}),D=r.extend({init:function(e,t){var i=this;t=t||{};r.fn.init.call(i,e,t);if(a)i.element.attr("placeholder",i.options.label);i._wrapper();i.element.on("keydown"+g,i._keydown.bind(i)).on("change"+g,i._updateValue.bind(i));i.wrapper.on(h+g,"a",i._click.bind(i));if(!a)i.element.on("focus"+g,i._focus.bind(i)).on("blur"+g,i._blur.bind(i))},options:{name:"SearchBox",label:"Search",value:""},events:[i],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(g);r.fn.destroy.call(e)},_keydown:function(e){if(e.keyCode===13)this._updateValue()},_click:function(e){e.preventDefault();this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();if(t!==e.value()){e.value(t);e.trigger(i)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!a)this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var e=this.element,t=e.parents(".k-search-wrap");e[0].style.width="";e.addClass("k-input-inner");if(!t.length){t=e.wrap(l('<div class="k-widget k-search-wrap"><span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"></span></div>')).parents(".k-search-wrap");if(!a)l('<label style="display:block">'+this.options.label+"</label>").insertBefore(e);l('<span class="k-input-suffix"><a href="#" class="k-icon k-i-zoom k-search"/></span>').appendTo(t.find(".k-textbox"))}this.wrapper=t;this.label=t.find(">label")},value:function(e){var t=this;if(e!==n){t.options.value=e;t.element.val(e);t._toggleLabel();return}return t.options.value}});return u.ui.plugin(S),u.ui.plugin(D),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.imagebrowser.min",["kendo.filebrowser.min"],function(){var e={id:"imagebrowser",name:"ImageBrowser",category:"web",description:"",hidden:true,depends:["filebrowser"]},l=window.kendo.jQuery,u=void 0,f=window.kendo,n=f.ui.FileBrowser,s=l.isPlainObject,d=l.extend,c=f.isFunction,r=/(^\/|\/$)/g,p="error",h=".kendoImageBrowser",m="name",g="size",a="type",v={field:a,dir:"asc"},i=f.template('<div class="k-listview-item k-listview-item-empty"><span class="k-file-preview"><span class="k-file-icon k-icon k-i-none"></span></span><span class="k-file-name">${text}</span></div>');function o(e){return e.offsetTop-l(e).height()}function b(e,t){if(e===u||!e.match(/\/$/))e=(e||"")+"/";return e+t}function _(e){if(!e)return"";var t=" bytes";if(e>=1073741824){t=" GB";e/=1073741824}else if(e>=1048576){t=" MB";e/=1048576}else if(e>=1024){t=" KB";e/=1024}return Math.round(e*100)/100+t}d(true,f.data,{schemas:{imagebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),d(true,f.data,{transports:{imagebrowser:f.data.RemoteTransport.extend({init:function(e){f.data.RemoteTransport.fn.init.call(this,l.extend(true,{},this.options,e))},_call:function(e,t){t.data=l.extend({},t.data,{path:this.options.path()});if(c(this.options[e]))this.options[e].call(this,t);else f.data.RemoteTransport.fn[e].call(this,t)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var t=n.extend({init:function(e,t){var i=this;t=t||{};n.fn.init.call(i,e,t);i.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var e=this,t=e._selectedItem(),i,n=e.options.transport.imageUrl;if(t&&t.get(a)==="f"){i=b(e.path(),t.get(m)).replace(r,"");if(n)i=c(n)?n(i):f.format(n,encodeURIComponent(i));return i}},_fileUpload:function(e){var i=this,t=i.options,n=t.fileTypes,r=new RegExp(("("+n.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),a=e.files[0].name,o=e.files[0].size,s=m,l=g,d;if(r.test(a)){e.data={path:i.path()};d=i._createFile(a,o);if(!d)e.preventDefault();else{d._uploading=true;i.upload.one("error",function(){d=u});i.upload.one("success",function(e){if(d){delete d._uploading;var t=i._insertFileToList(d);t.set(s,e.response[i._getFieldName(s)]);t.set(l,e.response[i._getFieldName(l)]);i._tiles=i.listView.items().filter("["+f.attr("type")+"=f]");i._scroll()}})}}else{e.preventDefault();i._showMessage(f.format(t.messages.invalidFileType,a,n))}},_content:function(){var t=this;t.list=l('<div class="k-filemanager-listview" />').appendTo(t.element).on("dblclick"+h,".k-listview-item",t._dblClick.bind(t));t.listView=new f.ui.ListView(t.list,{layout:"flex",flex:{direction:"row",wrap:"wrap"},dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:true,autoBind:false,dataBinding:function(e){t.toolbar.find(".k-i-close").parent().addClass("k-disabled");if(e.action==="remove"||e.action==="sync"){e.preventDefault();f.ui.progress(t.listView.content,false)}},dataBound:function(){if(t.dataSource.view().length){t._tiles=this.items().filter("["+f.attr("type")+"=f]");t._scroll()}else this.content.append(i({text:t.options.messages.emptyFolder}))},change:t._listViewChange.bind(t)});t.listView.content.on("scroll"+h,t._scroll.bind(t))},_dataSource:function(){var e=this,t=e.options,i=t.transport,n=d({},v),r={field:m,dir:"asc"},a,o={type:i.type||"imagebrowser",sort:[n,r]};if(s(i)){i.path=e.path.bind(e);o.transport=i}if(s(t.schema))o.schema=t.schema;else if(i.type&&s(f.data.schemas[i.type]))a=f.data.schemas[i.type];if(e.dataSource&&e._errorHandler)e.dataSource.unbind(p,e._errorHandler);else e._errorHandler=e._error.bind(e);e.dataSource=f.data.DataSource.create(o).bind(p,e._errorHandler)},_loadImage:function(e){var t=this,i=l(e),n=t.dataSource.getByUid(i.attr(f.attr("uid"))),r=n.get(m),a=t.options.transport.thumbnailUrl,o=l("<img />",{alt:r}),s="?";if(n._uploading)return;o.hide().on("load"+h,function(){l(this).prev().remove().end().addClass("k-image k-file-image").fadeIn()});i.find(".k-i-loading").after(o);if(c(a))a=a(t.path(),encodeURIComponent(r));else{if(a.indexOf("?")>=0)s="&";a=a+s+"path="+encodeURIComponent(t.path()+r);if(n._override){a+="&_="+(new Date).getTime();delete n._override}}o.attr("src",a);e.loaded=true},_scroll:function(){var r=this;if(r.options.transport&&r.options.transport.thumbnailUrl){clearTimeout(r._timeout);r._timeout=setTimeout(function(){var e=f._outerHeight(r.listView.content),i=r.listView.content.scrollTop(),n=i+e;r._tiles.each(function(){var e=o(this),t=e+this.offsetHeight;if(e>=i&&e<n||t>=i&&t<n)r._loadImage(this);if(e>n)return false});r._tiles=r._tiles.filter(function(){return!this.loaded})},250)}},_itemTmpl:function(){var e=this,t='<div class="k-listview-item" '+f.attr("uid")+'="#=uid#" ';t+=f.attr("type")+'="${'+a+'}">';t+="#if("+a+' == "d") { #';t+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-folder"></span></div>';t+="#}else{#";if(e.options.transport&&e.options.transport.thumbnailUrl)t+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-loading"></span></div>';else t+='<div class="k-file-preview"><span class="k-file-icon k-icon k-i-file"></span></div>';t+="#}#";t+='<span class="k-file-name">${'+m+"}</span>";t+="#if("+a+' == "f") { # <span class="k-file-size">${this.sizeFormatter('+g+")}</span> #}#";t+="</div>";return f.template(t).bind({sizeFormatter:_})}});return f.ui.plugin(t),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.tabstrip.min",["kendo.data.min"],function(){var H={id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"],features:[{id:"tabstrip-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]},h=window.kendo.jQuery,a=void 0,b=window.kendo,M,s=b.keys,o=h.map,t=h.each,l=b.trim,_=h.extend,O=b.isFunction,e=b.template,L=b._outerWidth,k=b._outerHeight,r=b.ui.Widget,B=/^(a|div)$/i,u=".kendoTabStrip",i="img",m="href",d="prev",f="next",w="show",y="k-link",n="k-last",c="click",V="error",U=":empty",p="k-image",g="k-first",v="select",x="activate",C="k-tabstrip-content k-content",T="contentUrl",S="mouseenter",W="mouseleave",j="contentLoad",D="k-state-disabled",F="k-state-active",I="k-state-focused",E="k-state-hover",z="k-tab-on-top",A=".k-item:not(."+D+")",q=".k-item",G=".k-tabstrip-items > "+A+":not(."+F+")",$=200,R={content:e("<div class='k-tabstrip-content k-content' #= contentAttributes(data) # tabindex='0'>#= content(item) #</div>"),itemWrapper:e("<#= tag(item) # class='k-link' #= contentUrl(item) # #= textAttributes(item) #>"+"#= image(item) ##= sprite(item) ##= text(item) #"+"</#= tag(item) #>"),item:e("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>"+"#= itemWrapper(data) #"+"</li>"),image:e("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:e("<span class='k-sprite #= spriteCssClass #'></span>"),empty:e("")},Y={wrapperCssClass:function(e,t){var i=["k-tabstrip-item","k-item"],n=t.index;if(t.enabled===false)i.push("k-state-disabled");if(n===0)i.push("k-first");if(n==e.length-1)i.push("k-last");return i.join(" ")},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},text:function(e){return e.encoded===false?e.text:b.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},contentAttributes:function(e){return e.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?b.attr("content-url")+'="'+e.contentUrl+'"':""}};function K(e){e.children(i).addClass(p);e.children("a").addClass(y).children(i).addClass(p);e.filter("li[disabled]").addClass(D).attr("aria-disabled","true").prop("disabled",false);e.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(F+" "+z);e.attr("role","tab");e.filter("."+F).attr("aria-selected",true);e.each(function(){var e=h(this);if(!e.children("."+y).length)e.contents().filter(function(){return!this.nodeName.match(B)&&!(this.nodeType==3&&!l(this.nodeValue))}).wrapAll("<span UNSELECTABLE='on' class='"+y+"'/>")})}function N(e){var t=e.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(g);t.filter(".k-last:not(:last-child)").removeClass(n);t.filter(":first-child").addClass(g);t.filter(":last-child").addClass(n)}function Q(e,t){return"<span class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-tabstrip-"+e+"' unselectable='on'><span class='k-button-icon k-icon "+t+"'></span></span>"}var P=r.extend({init:function(e,t){var i=this,n;r.fn.init.call(i,e,t);i._animations(i.options);t=i.options;i._contentUrls=t.contentUrls||[];i._wrapper();i._isRtl=b.support.isRtl(i.wrapper);i._tabindex();i._updateClasses();i._dataSource();i.tabGroup.attr("role","none");i.wrapper.attr("role","tablist");if(t.dataSource)i.dataSource.fetch();i._tabPosition();i._scrollable();i._processContentUrls();i._attachEvents();if(i.options.value)n=i.options.value;i._initialActivate();i.value(n);b.notify(i)},events:[v,x,w,V,j,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataEncodedField:"",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false,scrollable:{distance:$}},setDataSource:function(e){var t=this;t.options.dataSource=e;t._dataSource();t.dataSource.fetch()},setOptions:function(e){var t=this,i=t.options.animation;t._animations(e);if(e.contentUrls)t._contentUrls=e.contentUrls;e.animation=_(true,i,e.animation);if(e.navigatable)t.wrapper.on("keydown"+u,t._keyDownProxy);else t.wrapper.off("keydown"+u,t._keyDownProxy);r.fn.setOptions.call(t,e)},activateTab:function(e){if(this.tabGroup.children("[data-animating]").length)return;e=this.tabGroup.find(e);var t=this,i=t.options.animation,n=i.open,r=_({},i.close),a=r&&"effects"in r,o=e.parent().children(),s=o.filter("."+F),l=o.index(e),d=n&&"duration"in n&&"effects"in n;r=_(a?r:_({reverse:true},n),{hide:true});if(b.size(n.effects)){s.kendoRemoveClass(F,{duration:r.duration});e.kendoRemoveClass(E,{duration:r.duration})}else{s.removeClass(F);e.removeClass(E)}var u=t.contentAnimators;if(t.inRequest){t.xhr.abort();t.inRequest=false}if(u.length===0){t.tabGroup.find("."+z).removeClass(z);e.addClass(z).css("z-index");e.addClass(F);t._current(e);t.trigger("change");if(t._scrollableModeActive)t._scrollTabsToItem(e);return false}var f=u.filter("."+F),c=t.contentHolder(l),p=c.closest(".k-content");t.tabsHeight=k(t.tabGroup)+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10);if(c.length===0){f.removeClass(F).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(r);return false}e.attr("data-animating",true);var h=(e.children("."+y).data(T)||t._contentUrls[l]||false)&&c.is(U),m=function(){s.removeAttr("aria-selected");e.attr("aria-selected",true);t._current(e);p.addClass(F).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(_({init:function(){t.trigger(w,{item:e[0],contentElement:c[0]});b.resize(c)}},n,{complete:function(){e.removeAttr("data-animating");t.trigger(x,{item:e[0],contentElement:c[0]});b.resize(c);if(d&&(b.support.browser.msie||b.support.browser.edge))c.finish().animate({opacity:.9},"fast","linear",function(){c.finish().animate({opacity:1},"fast","linear")})}}))},g=function(){if(!h){m();t.trigger("change")}else{e.removeAttr("data-animating");t.ajaxRequest(e,c,function(){e.attr("data-animating",true);m();t.trigger("change")})}if(t._scrollableModeActive)t._scrollTabsToItem(e)};var v=t.element.css("min-height");t.element.css("min-height",t.element.outerHeight());f.removeClass(F);t.tabGroup.find("."+z).removeClass(z);e.addClass(z).css("z-index");if(b.size(n.effects))e.kendoAddClass(F,{duration:n.duration});else e.addClass(F);f.attr("aria-hidden",true);f.attr("aria-expanded",false);if(f.length)f.kendoStop(true,true).kendoAnimate(_({complete:g},r));else g();t.element.css("min-height",v);return true},ajaxRequest:function(r,a,o,s){r=this.tabGroup.find(r);var l=this,n=h.ajaxSettings.xhr,e=r.find("."+y),t={},i=r.width()/2,d=false,u=r.find(".k-loading").removeClass("k-complete");if(!u[0])u=h("<span class='k-loading'/>").prependTo(r);var f=i*2-u.width();var c=function(){u.animate({marginLeft:(parseInt(u.css("marginLeft"),10)||0)<i?f:0},500,c)};if(b.support.browser.msie&&b.support.browser.version<10)setTimeout(c,40);s=s||e.data(T)||l._contentUrls[r.index()]||e.attr(m);l.inRequest=true;var p={type:"GET",cache:false,url:s,dataType:"html",data:t,xhr:function(){var t=this,e=n(),i=t.progressUpload?"progressUpload":t.progress?"progress":false;if(e)h.each([e,e.upload],function(){if(this.addEventListener)this.addEventListener("progress",function(e){if(i)t[i](e)},false)});t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest);return e},progress:function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10)+"%";u.stop(true).addClass("k-progress").css({width:t,marginLeft:0})}},error:function(e,t){if(l.trigger("error",{xhr:e,status:t}))this.complete()},stopProgress:function(){clearInterval(d);u.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(e){l.inRequest=false;if(this.noProgress)setTimeout(this.stopProgress,500);else this.stopProgress();if(e.statusText=="abort")u.remove()},success:function(e){u.addClass("k-complete");try{var t=this,i=10;if(t.noProgress){u.width(i+"%");d=setInterval(function(){t.progress({lengthComputable:true,loaded:Math.min(i,100),total:100});i+=10},40)}l.angular("cleanup",function(){return{elements:a.get()}});b.destroy(a);a.html(e)}catch(e){var n=window.console;if(n&&n.error)n.error(e.name+": "+e.message+" in "+s);this.error(this.xhr,"error")}if(o)o.call(l,a);l.angular("compile",function(){return{elements:a.get()}});l.trigger(j,{item:r[0],contentElement:a[0]})}};if(typeof s==="object"){p=h.extend(true,{},p,s);if(O(p.url))p.url=p.url()}l.xhr=h.ajax(p)},append:function(e){var i=this,n=i._create(e);t(n.tabs,function(e){var t=n.contents[e];i.tabGroup.append(this);if(i.options.tabPosition=="bottom")i.tabWrapper.before(t);else i.wrapper.append(t);i.angular("compile",function(){return{elements:[t]}})});N(i.tabGroup);i._updateContentElements();i.resize(true);return i},contentElement:function(e){if(isNaN(e-0))return a;var t=this.contentElements&&this.contentElements[0]&&!b.kineticScrollNeeded?this.contentElements:this.contentAnimators;var i=h(this.tabGroup.children()[e]).attr("aria-controls");if(t)for(var n=0,r=t.length;n<r;n++)if(t.eq(n).closest(".k-content")[0].id==i)return t[n];return a},contentHolder:function(e){var t=h(this.contentElement(e)),i=t.children(".km-scroll-container");return b.support.touch&&i[0]?i:t},deactivateTab:function(e){var t=this,i=t.options.animation,n=i.open,r=_({},i.close),a=r&&"effects"in r;e=t.tabGroup.find(e);r=_(a?r:_({reverse:true},n),{hide:true});if(b.size(n.effects))e.kendoRemoveClass(F,{duration:n.duration});else e.removeClass(F);e.removeAttr("aria-selected");t.contentAnimators.filter("."+F).kendoStop(true,true).kendoAnimate(r).removeClass(F).attr("aria-hidden",true)},destroy:function(){var e=this;r.fn.destroy.call(e);if(e._refreshHandler)e.dataSource.unbind("change",e._refreshHandler);e.wrapper.off(u);e.tabGroup.off(u);if(e._scrollableModeActive){e._scrollPrevButton.off().remove();e._scrollNextButton.off().remove()}b.destroy(e.wrapper)},disable:function(e){this._toggleDisabled(e,false);return this},enable:function(e,t){this._toggleDisabled(e,t!==false);return this},insertAfter:function(e,n){if(h(e).is(h(n)))n=this.tabGroup.find(n).prev();else n=this.tabGroup.find(n);var r=this,a=r._create(e),o=r.element.find("[id='"+n.attr("aria-controls")+"']");t(a.tabs,function(e){var t=a.contents[e];var i=a.newTabsCreated?r._contentUrls.length-(a.tabs.length-e):h(t).index()-1;n.after(this);o.after(t);r._moveUrlItem(i,h(this).index());r.angular("compile",function(){return{elements:[t]}})});N(r.tabGroup);r._updateContentElements(a.newTabsCreated);r.resize(true);return r},insertBefore:function(e,n){if(h(e).is(h(n)))n=this.tabGroup.find(n).next();else n=this.tabGroup.find(n);var r=this,a=r._create(e),o=r.element.find("[id='"+n.attr("aria-controls")+"']");t(a.tabs,function(e){var t=a.contents[e];var i=a.newTabsCreated?r._contentUrls.length-(a.tabs.length-e):h(t).index()-1;n.before(this);o.before(t);r._moveUrlItem(i,h(this).index());r.angular("compile",function(){return{elements:[t]}})});N(r.tabGroup);r._updateContentElements(a.newTabsCreated);r.resize(true);return r},items:function(){return this.tabGroup[0].children},refresh:function(e){var t=this,i=t.options,n=b.getter(i.dataEncodedField),r=b.getter(i.dataTextField),a=b.getter(i.dataContentField),o=b.getter(i.dataContentUrlField),s=b.getter(i.dataImageUrlField),l=b.getter(i.dataUrlField),d=b.getter(i.dataSpriteCssClass),u,f=[],c,p,h=t.dataSource.view(),m;e=e||{};p=e.action;if(p)h=e.items;for(u=0,m=h.length;u<m;u++){c={text:r(h[u])};if(i.dataEncodedField)c.encoded=n(h[u]);if(i.dataContentField)c.content=a(h[u]);if(i.dataContentUrlField)c.contentUrl=o(h[u]);if(i.dataUrlField)c.url=l(h[u]);if(i.dataImageUrlField)c.imageUrl=s(h[u]);if(i.dataSpriteCssClass)c.spriteCssClass=d(h[u]);f[u]=c}if(e.action=="add")if(e.index<t.tabGroup.children().length)t.insertBefore(f,t.tabGroup.children().eq(e.index));else t.append(f);else if(e.action=="remove")for(u=0;u<h.length;u++)t.remove(e.index);else if(e.action=="itemchange"){u=t.dataSource.view().indexOf(h[0]);if(e.field===i.dataTextField)t.tabGroup.children().eq(u).find(".k-link").text(h[0].get(e.field));if(e.field===i.dataUrlField)t._contentUrls[u]=h[0].get(e.field)}else{t.trigger("dataBinding");t.remove("li");t._contentUrls=[];t.append(f);t.trigger("dataBound")}},reload:function(e){e=this.tabGroup.find(e);var n=this;var r=n._contentUrls;e.each(function(){var e=h(this),t=e.find("."+y).data(T)||r[e.index()],i=n.contentHolder(e.index());if(t)n.ajaxRequest(e,i,null,t)});return n},remove:function(e){var i=this;var t=typeof e;var n;if(t==="string")e=i.tabGroup.find(e);else if(t==="number")e=i.tabGroup.children().eq(e);n=e.map(function(){var e=h(this).index();var t=i.contentElement(e);b.destroy(t);i._removeUrlItem(e);return t});e.remove();n.empty();n.remove();i._updateContentElements();i.resize(true);return i},select:function(e){var i=this;if(arguments.length===0)return i.tabGroup.children("li."+F);if(!isNaN(e))e=i.tabGroup.children().get(e);e=i.tabGroup.find(e);h(e).each(function(e,t){t=h(t);if(!t.hasClass(F)&&!i.trigger(v,{item:t[0],contentElement:i.contentHolder(t.index())[0]}))i.activateTab(t)});return i},value:function(e){var t=this;if(e!==a){if(e!=t.value())t.tabGroup.children().each(function(){if(b.trim(h(this).text())==e)t.select(this)})}else return t.select().text()},_active:function(){var e=this.tabGroup.children().filter("."+F);e=e[0]?e:this._endItem("first");if(e[0])this._current(e)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={open:{effects:{}},close:{effects:{}}}},_appendUrlItem:function(e){this._contentUrls.push(e)},_attachEvents:function(){var e=this,t=e.options;e.wrapper.on(S+u+" "+W+u,G,e._toggleHover).on("focus"+u,e._active.bind(e)).on("blur"+u,function(){e._current(null)});e._keyDownProxy=e._keydown.bind(e);if(t.navigatable)e.wrapper.on("keydown"+u,e._keyDownProxy);e.tabGroup.on(c+u,".k-state-disabled .k-link",false).on(c+u," > "+A,e._itemClick.bind(e))},_click:function(e){var t=this,i=e.find("."+y),n=i.attr(m),r=t.options.collapsible,a=e.index(),o=t.contentHolder(a),s,l,d=e.parent().children(),u=d.filter("."+I);if(e.closest(".k-widget")[0]!=t.wrapper[0])return;if(e.is("."+D+(!r?",."+F:""))){u.removeClass(I);t._focused=e;e.addClass(I);t._current(e);if(t._scrollableModeActive)t._scrollTabsToItem(e);return true}l=i.data(T)||t._contentUrls[a]||n&&(n.charAt(n.length-1)=="#"||n.indexOf("#"+t.element[0].id+"-")!=-1);s=!n||l;if(t.tabGroup.children("[data-animating]").length)return s;if(t.trigger(v,{item:e[0],contentElement:o[0]}))return true;if(s===false)return;if(r&&e.is("."+F)){t.deactivateTab(e);return true}if(t.activateTab(e))s=true;return s},_create:function(i){var n=this,e,t,r,a=false;i=i instanceof b.data.ObservableArray?i.toJSON():i;if(h.isPlainObject(i)||Array.isArray(i)){i=Array.isArray(i)?i:[i];a=true;e=o(i,function(e,t){n._appendUrlItem(i[t].contentUrl||null);return h(P.renderItem({group:n.tabGroup,item:_(e,{index:t})}))});t=o(i,function(e,t){if(typeof e.content=="string"||e.contentUrl)return h(P.renderContent({item:_(e,{index:t})}))})}else{if(typeof i=="string"&&i[0]!="<")e=n.element.find(i);else e=h(i);t=h();e.each(function(){if(/k-tabstrip-items/.test(this.parentNode.className)){var e=n.element.find("[id='"+this.getAttribute("aria-controls")+"']");r=e}else r=h("<div class='"+C+"'/>");t=t.add(r)});K(e)}return{tabs:e,contents:t,newTabsCreated:a}},_current:function(e){var t=this,i=t._focused;if(e===a)return i;if(i)i.removeClass(I);if(e){if(!e.hasClass(F))e.addClass(I);if(e[0].id)t.element.attr("aria-activedescendant",e[0].id)}t._focused=e},_dataSource:function(){var e=this;if(e.dataSource&&e._refreshHandler)e.dataSource.unbind("change",e._refreshHandler);else e._refreshHandler=e.refresh.bind(e);e.dataSource=b.data.DataSource.create(e.options.dataSource).bind("change",e._refreshHandler)},_elementId:function(e,t,i){var n=e.attr("id"),r=this.element.attr("id"),a=b.guid();if(!n||n.indexOf(r+"-")>-1){var o=(r||a)+"-";if(i)o+="tab-";return o+(t+1)}return n},_endItem:function(e){return this.tabGroup.children(A)[e]()},_getItem:function(e){return this.tabGroup.children(q)[e]()},_initialActivate:function(){var e=this,t=e.tabGroup.children("li."+F),i=e.contentHolder(t.index());if(t[0]&&i.length>0&&i[0].childNodes.length===0)e.activateTab(t.eq(0))},_item:function(e,t){var i;if(t===d)i="last";else i="first";if(!e)return this._endItem(i);e=e[t]();if(!e[0])e=this.tabGroup.children(q)[i]();if(e.hasClass(D))e.addClass(I);if(e.hasClass(D)||e.hasClass(F))this._focused=e;return e},_itemClick:function(e){var t=this,i=t.wrapper[0];if(i!==document.activeElement){var n=b.support.browser.msie;if(n)try{i.setActive()}catch(e){i.focus()}else i.focus()}if(t._click(h(e.currentTarget)))e.preventDefault()},_keydown:function(e){var t=this,i=e.keyCode,n=t._current(),r=t._isRtl,a=/top|bottom/.test(t.options.tabPosition),o;if(e.target!=e.currentTarget||!n)return;if(i===s.DOWN&&!a)o=f;else if(i===s.UP&&!a)o=d;else if(i===s.RIGHT&&a)o=r?d:f;else if(i===s.LEFT&&a)o=r?f:d;else if(i==s.ENTER||i==s.SPACEBAR){t._click(n);e.preventDefault()}else if(i==s.HOME){t._click(t._getItem("first"));e.preventDefault();return}else if(i==s.END){t._click(t._getItem("last"));e.preventDefault();return}if(o){t._click(t._item(n,o));e.preventDefault()}},_moveUrlItem:function(e,t){this._contentUrls.splice(t,0,this._contentUrls.splice(e,1)[0])},_processContentUrls:function(){var n=this;if(n._contentUrls.length)n.tabGroup.children(".k-item").each(function(e,t){var i=n._contentUrls[e];if(typeof i==="string")h(t).find(">."+y).data(T,i)});else n._contentUrls.length=n.tabGroup.find("li.k-item").length},_removeUrlItem:function(e){this._contentUrls.splice(e,1)},_resize:function(){this._scrollable()},_scrollable:function(){var e=this,t=e.options,i,n,r,a;if(e._scrollableAllowed()){e.wrapper.addClass("k-tabstrip-scrollable");i=e.wrapper[0].offsetWidth;n=e.tabGroup[0].scrollWidth;if(n>i&&!e._scrollableModeActive){e._nowScrollingTabs=false;e._isRtl=b.support.isRtl(e.element);var o=b.support.touch?"touchstart":"mousedown";var s=b.support.touch?"touchend":"mouseup";var l=b.support.browser;var d=e._isRtl&&!l.msie&&!l.edge;e.tabWrapper.prepend(Q("prev","k-i-arrow-60-left"));e.tabWrapper.append(Q("next","k-i-arrow-60-right"));r=e._scrollPrevButton=e.tabWrapper.children(".k-tabstrip-prev");a=e._scrollNextButton=e.tabWrapper.children(".k-tabstrip-next");r.on(o+u,function(){e._nowScrollingTabs=true;e._scrollTabsByDelta(t.scrollable.distance*(d?1:-1))});a.on(o+u,function(){e._nowScrollingTabs=true;e._scrollTabsByDelta(t.scrollable.distance*(d?-1:1))});r.add(a).on(s+u,function(){e._nowScrollingTabs=false});e._scrollableModeActive=true;e._toggleScrollButtons()}else if(e._scrollableModeActive&&n<=i){e._scrollableModeActive=false;e.wrapper.removeClass("k-tabstrip-scrollable");e._scrollPrevButton.off().remove();e._scrollNextButton.off().remove()}else if(!e._scrollableModeActive)e.wrapper.removeClass("k-tabstrip-scrollable");else e._toggleScrollButtons()}},_scrollableAllowed:function(){var e=this.options;if(e.scrollable&&!e.scrollable.distance)e.scrollable={distance:$};return e.scrollable&&!isNaN(e.scrollable.distance)&&(e.tabPosition=="top"||e.tabPosition=="bottom")},_scrollTabsToItem:function(e){var t=this,i=t.tabGroup,n=b.scrollLeft(i),r=L(e),a=t._isRtl?e.position().left:e.position().left-i.children().first().position().left,o=i[0].offsetWidth,s=b.support.browser,l;if(t._isRtl&&(s.mozilla||s.webkit&&s.version>=85))n=n*-1;if(t._isRtl){if(a<0)l=n+a-(o-n);else if(a+r>o)l=n+a-r}else if(n+o<a+r)l=a+r-o;else if(n>a)l=a;i.finish().animate({scrollLeft:l},"fast","linear",function(){t._toggleScrollButtons()})},_scrollTabsByDelta:function(e){var t=this;var i=t.tabGroup;var n=b.scrollLeft(i);var r=b.support.browser;if(t._isRtl&&(r.mozilla||r.webkit&&r.version>=85))n=n*-1;i.finish().animate({scrollLeft:n+e},"fast","linear",function(){if(t._nowScrollingTabs&&!jQuery.fx.off)t._scrollTabsByDelta(e);else t._toggleScrollButtons()})},_tabPosition:function(){var e=this,t=e.options.tabPosition;e.wrapper.addClass("k-floatwrap k-tabstrip-"+t);if(t=="bottom")e.tabWrapper.appendTo(e.wrapper);if(t==="left"||t==="right")e.wrapper.attr("aria-orientation","vertical");e.resize(true)},_toggleHover:function(e){h(e.currentTarget).toggleClass(E,e.type==S)},_toggleDisabled:function(e,t){e=this.tabGroup.find(e);e.each(function(){h(this).toggleClass(D,!t).attr("aria-disabled",!t)})},_toggleScrollButtons:function(){var e=this,t=e.tabGroup,i=b.scrollLeft(t);e._scrollPrevButton.toggleClass("k-disabled",i===0);e._scrollNextButton.toggleClass("k-disabled",i===t[0].scrollWidth-t[0].offsetWidth)},_updateClasses:function(){var e=this,t,i,n;var r=/top|bottom/.test(e.options.tabPosition);e.wrapper.addClass("k-widget k-tabstrip");if(!e.tabGroup){e.tabGroup=e.wrapper.children("ul");e.tabGroup.wrap("<div />");e.tabWrapper=e.tabGroup.parent()}if(!e.tabGroup[0]){e.tabGroup=h("<ul />").prependTo(e.wrapper);e.tabGroup.wrap("<div />");e.tabWrapper=e.tabGroup.parent()}e.tabWrapper.addClass("k-tabstrip-items-wrapper");e.tabWrapper.addClass(r?"k-hstack":"k-vstack");e.tabGroup.addClass("k-tabstrip-items k-reset");t=e.tabGroup.find("li").addClass("k-tabstrip-item k-item");if(t.length){i=t.filter("."+F).index();n=i>=0?i:a;e.tabGroup.contents().filter(function(){return this.nodeType==3&&!l(this.nodeValue)}).remove()}if(i>=0)t.eq(i).addClass(z);e.contentElements=e.wrapper.children("div:not(.k-tabstrip-items-wrapper)");e.contentElements.addClass(C).eq(n).addClass(F).css({display:"block"});if(t.length){K(t);N(e.tabGroup);e._updateContentElements(true)}},_updateContentElements:function(r){var a=this,o=a._contentUrls,s=a.tabGroup.children(".k-item"),l=a.wrapper.children("div:not(.k-tabstrip-items-wrapper)"),d=a._elementId.bind(a);if(l.length&&s.length>l.length)l.each(function(e){var t=d(h(this),e),i=s.filter("[aria-controls="+(t||0)+"]")[0],n;if(!i&&r)i=s[e];if(i){i.setAttribute("aria-controls",t);n=i.id=d(h(i),e,true);this.setAttribute("aria-labelledby",n)}this.setAttribute("id",t)});else s.each(function(e){var t=l.eq(e),i=d(t,e),n;this.setAttribute("aria-controls",i);n=this.id=d(h(this),e,true);if(!t.length&&o[e])h("<div class='"+C+"'/>").appendTo(a.wrapper).attr("id",i);else{t.attr("id",i);if(!h(this).children(".k-loading")[0]&&!o[e])h("<span class='k-loading k-complete'/>").prependTo(this)}t.attr("role","tabpanel");t.attr("tabindex","0");t.attr("aria-labelledby",n);t.filter(":not(."+F+")").attr("aria-hidden",true).attr("aria-expanded",false);t.filter("."+F).attr("aria-expanded",true)});a.contentElements=a.contentAnimators=a.wrapper.children("div:not(.k-tabstrip-items-wrapper)");a.tabsHeight=k(a.tabGroup)+parseInt(a.wrapper.css("border-top-width"),10)+parseInt(a.wrapper.css("border-bottom-width"),10);if(b.kineticScrollNeeded&&b.mobile.ui.Scroller){b.touchScroller(a.contentElements);a.contentElements=a.contentElements.children(".km-scroll-container")}},_wrapper:function(){var e=this;if(e.element.is("ul"))e.wrapper=e.element.wrapAll("<div />").parent();else e.wrapper=e.element}});return _(P,{renderItem:function(e){e=_({tabStrip:{},group:{}},e);var t=R.empty,i=e.item;return R.item(_(e,{image:i.imageUrl?R.image:t,sprite:i.spriteCssClass?R.sprite:t,itemWrapper:R.itemWrapper},Y))},renderContent:function(e){return R.content(_(e,Y))}}),b.ui.plugin(P),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("util/undoredostack.min",["kendo.core.min"],function(){var t=kendo,e=t.Observable.extend({init:function(e){t.Observable.fn.init.call(this,e);this.clear()},events:["undo","redo"],push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){var e=this.stack[this.currentCommandIndex--];e.undo();this.trigger("undo",{command:e})}},redo:function(){if(this.canRedo()){var e=this.stack[++this.currentCommandIndex];e.redo();this.trigger("redo",{command:e})}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});t.deepExtend(t,{util:{UndoRedoStack:e}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/main.min",["../util/undoredostack.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.window.min","kendo.colorpicker.min"],function(){var c=window.kendo.jQuery,p=void 0,h=window.kendo,e=h.Class,m=h.ui.Widget,f=h.support.mobileOS,g=h.support.browser,v=c.extend,b=h.deepExtend,_=h.keys,i="select",r="select.k-select-overlay",a="k-placeholder",o="placeholder",s=200,k="en",t=e.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return h.template(e.template,{useWithBlock:false})(e)}}),w={editorWrapperTemplate:'<table cellspacing="0" cellpadding="0" class="k-widget k-editor" role="presentation">'+"<tbody>"+'<tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-toolbar k-editor-toolbar" role="toolbar"></ul></td></tr>'+'<tr><td class="k-editable-area k-editor-content"></td></tr>'+"</tbody>"+"</table>",buttonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-tool" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="#= iconCssClass #"></span>'+'<span class="k-tool-text k-button-text">#= data.title #</span>'+"</button>",iconTextButtonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-i-import k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="k-button-icon #= iconCssClass #"></span>'+'<span class="k-button-text">#= data.title #</span>'+"</button>",tableWizardButtonTemplate:'# var iconCssClass = "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'# var dataPopup = data.popup ? "data-popup" : "";#'+'<button type="button" tabindex="0" role="button" class="k-tool k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" #= dataPopup # title="#= data.title #" aria-label="#= data.title #">'+'<span class="#= iconCssClass #"></span>'+'<span class="k-tool-text">#= data.title #</span>'+"</button>",colorPickerTemplate:'<input class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />',comboBoxTemplate:'<select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #"></select>',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" aria-label="#= data.title #" class="#= data.cssClass #"></select></span>',separatorTemplate:'<span class="k-separator"></span>',overflowAnchorTemplate:'<button type="button" tabindex="0" role="button" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-tool k-overflow-anchor" data-popup'+' title="#= data.title #" aria-label="#= data.title #" aria-haspopup="true" aria-expanded="false">'+'<span class="k-icon k-i-more-vertical k-button-icon"></span>'+"</button>",formatByName:function(e,t){for(var i=0;i<t.length;i++)if(c.inArray(e,t[i].tags)>=0)return t[i]},getToolCssClass:function(e){var t={superscript:"sup-script",subscript:"sub-script",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",insertUpperRomanList:"list-roman-upper",insertLowerRomanList:"list-roman-lower",import:"import",indent:"indent-increase",outdent:"indent-decrease",createLink:"link-horizontal",unlink:"unlink-horizontal",insertImage:"image",insertFile:"file-add",viewHtml:"html",foreColor:"foreground-color",backColor:"paint",createTable:"table-insert",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCellsHorizontally:"cells-merge-horizontally",mergeCellsVertically:"cells-merge-vertically",splitCellHorizontally:"cell-split-horizontally",splitCellVertically:"cell-split-vertically",tableWizard:"table-properties",tableWizardInsert:"table-wizard",tableAlignLeft:"table-position-left",tableAlignCenter:"table-position-center",tableAlignRight:"table-position-right",cleanFormatting:"clear-css",copyFormat:"copy-format",applyFormat:"apply-format"};var i=t[e];if(i)return i;return e},registerTool:function(e,t){var i=t.options;if(i&&i.template)i.template.options.cssClass="k-"+w.getToolCssClass(e);if(!t.name){t.options.name=e;t.name=e.toLowerCase()}d.defaultTools[e]=t},registerFormat:function(e,t){d.fn.options.formats[e]=t},cacheComments:function(e,t){for(var i in t)e=e.replace(t[i],"{"+i+"}");return e},retrieveComments:function(e,t){for(var i in t)e=e.replace("{"+i+"}",t[i]);return e}},n,y=!f||f.ios&&f.flatVersion>=500||!f.ios&&typeof document.documentElement.contentEditable!="undefined",l={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],formatPainter:["copyFormat","applyFormat"],links:["createLink","unlink"],tables:["tableWizard","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn","mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically","tableAlignLeft","tableAlignCenter","tableAlignRight"]},d=m.extend({init:function(e,t){var n=this,i,r=h.ui.editor,a,o,s,l;var d;var u=r.Dom;if(!y)return;m.fn.init.call(n,e,t);n.options=b({},n.options,t);n.options.tools=n.options.tools.slice();e=n.element;d=e[0];s=u.name(d);this._registerHandler(e.closest("form"),"submit",n.update.bind(n,p));o=v({},n.options);o.editor=n;if(s=="textarea"){n._wrapTextarea();a=n.wrapper.find(".k-editor-toolbar");if(d.id)a.attr("aria-controls",d.id)}else{n.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");o.popup=true;a=c('<ul class="k-toolbar k-editor-toolbar" role="toolbar" />').insertBefore(e)}n.toolbar=new r.Toolbar(a[0],o);n.toolbar.bindTo(n);if(s=="textarea")setTimeout(function(){var e=n.wrapper[0].style.height;var t=parseInt(e,10);var i=n.wrapper.height();if(e.indexOf("px")>0&&!isNaN(t)&&i>t)n.wrapper.height(t-(i-t))});n._resizable();n._initializeContentElement(n);n.keyboard=new r.Keyboard([new r.BackspaceHandler(n),new r.TypingHandler(n),new r.SystemHandler(n),new r.SelectAllHandler(n)]);n.clipboard=new r.Clipboard(this);n.undoRedoStack=new h.util.UndoRedoStack;if(t&&t.value)i=t.value;else if(n.textarea){i=d.value;if(!i.replace(/\s/g,"").length)i=i.replace(/\s/g,"");if(n.options.encoded&&d.defaultValue&&d.defaultValue.trim().length)i=d.defaultValue;var f=r.Serializer.htmlToDom(i,c("<div></div>")[0],n.options.deserialization);l=u.getAllComments(f);i=w.cacheComments(i,l);i=i.replace(/[\r\n\v\f\t ]+/gi," ");i=w.retrieveComments(i,l)}else i=d.innerHTML;n.value(i||"\ufeff");this._registerHandler(document,{mousedown:function(){n._endTyping()},mouseup:function(e){n._mouseup(e)}});n._initializeImmutables();n.toolbar.resize();h.notify(n)},setOptions:function(e){var t=this;m.fn.setOptions.call(t,e);if(e.tools)t.toolbar.bindTo(t);this._initializePlaceholder()},_togglePlaceholder:function(e){var t=this,i=t.body,n=c(i),r=t.options.placeholder;if(!t.textarea||!r)return;n.attr("aria-label",function(){return e?r:""});n.toggleClass(a,e)},_endTyping:function(){var e=this.keyboard;try{if(e.isTypingInProgress()){e.endTyping(true);this.saveSelection()}}catch(e){}},_selectionChange:function(){this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){var e=this.options.resizable;var t=c.isPlainObject(e)?e.content===p||e.content===true:e;if(t&&this.textarea){var i=c("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right'></span></div>").insertAfter(this.textarea);this.wrapper.addClass("k-resizable");this.wrapper.kendoResizable(v({},this.options.resizable,{draggableElement:i,start:function(e){var t=this.editor=c(e.currentTarget).closest(".k-editor");this.initialSize=t.height();t.find("td").last().append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta;var i=this.initialSize+t;var n=this.options.min||0;var r=this.options.max||Infinity;i=Math.min(r,Math.max(n,i));this.editor.height(i)},resizeend:function(){this.editor.find(".k-overlay").remove();this.editor=null}}));if(h.support.mobileOS.ios){var n=this.wrapper.getKendoResizable();n.draggable.options.ignore=r}}},_initializeElementResizing:function(){var e=this;h.ui.editor.ElementResizingFactory.current.create(e);e._showElementResizeHandlesProxy=e._showElementResizeHandles.bind(e);e.bind(i,e._showElementResizeHandlesProxy)},_destroyElementResizing:function(){var e=this;var t=e.elementResizing;if(t){t.destroy();e.elementResizing=null}if(e._showElementResizeHandlesProxy)e.unbind(i,e._showElementResizeHandlesProxy)},_showElementResizeHandles:function(){var e=this;var t=e.elementResizing;if(t&&t.element&&t.element.parentNode)t.showResizeHandles();else if(t&&(!t.element||!t.element.parentNode))e._destroyElementResizing()},_initializeColumnResizing:function(){h.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var e=this;if(e.columnResizing){e.columnResizing.destroy();e.columnResizing=null}},_initializeRowResizing:function(){h.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var e=this;if(e.rowResizing){e.rowResizing.destroy();e.rowResizing=null}},_wrapTextarea:function(){var e=this,t=e.element,i=t[0].style.width,n=t[0].style.height,r=w.editorWrapperTemplate,a=c(r).insertBefore(t),o=a.find(".k-editable-area");a.css({width:i,height:n});t.attr("autocomplete","off").appendTo(o).addClass("k-content k-raw-content").css("display","none");e.textarea=t;e.wrapper=a},_createContentElement:function(e){var t=this;var i,n,r;var a=t.textarea;var o=t.options.domain;var s=o||document.domain;var l="";var d='javascript:""';var u="";a.hide();i=c("<iframe />",{title:t.options.messages.editAreaTitle,frameBorder:"0"})[0];c(i).css("display","").addClass("k-content k-iframe").attr("tabindex",a[0].tabIndex).insertBefore(a);if(o||s!=location.hostname){l='<script>document.domain="'+s+'"<\/script>';d="javascript:document.write('"+l+"')";i.src=d}if(!i.src)i.src="";n=i.contentWindow||i;r=n.document||i.contentDocument;c(i).one("load",function(){t.toolbar.decorateFrom(r.body)});u=document.getElementsByTagName("html")[0].getAttribute("lang")||k;r.open();r.write("<!DOCTYPE html><html lang='"+u+"'><head>"+"<meta charset='utf-8' />"+"<title>Kendo UI Editor content</title>"+"<style>"+"html{padding:0;margin:0;height:100%;min-height:100%;cursor:text;}"+"body{padding:0;margin:0;}"+"body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;"+"word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(h.support.isRtl(a)?"direction:rtl;":"")+(f.ios?"word-break:keep-all;":"")+(g.edge||g.chrome?"height:100%;":"")+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"span{-ms-high-contrast-adjust:none;}"+"a{color:#00a}"+"code{font-size:1.23em}"+"telerik\\3Ascript{display: none;}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table th{outline:0;border: 1px dotted #999;}"+".k-table p{margin:0;padding:0;}"+".k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}"+".k-column-resize-handle {width: 100%; height: 100%;}"+".k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}"+".k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}"+".k-row-resize-handle {display: table; width: 100%; height: 100%;}"+".k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}"+".k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}"+".k-element-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}"+".k-element-resize-handle {width: 100%; height: 100%;}"+".k-element-resize-handle.k-resize-east{cursor:e-resize;}"+".k-element-resize-handle.k-resize-north{cursor:n-resize;}"+".k-element-resize-handle.k-resize-northeast{cursor:ne-resize;}"+".k-element-resize-handle.k-resize-northwest{cursor:nw-resize;}"+".k-element-resize-handle.k-resize-south{cursor:s-resize;}"+".k-element-resize-handle.k-resize-southeast{cursor:se-resize;}"+".k-element-resize-handle.k-resize-southwest{cursor:sw-resize;}"+".k-element-resize-handle.k-resize-west{cursor:w-resize;}"+".k-table.k-element-resizing{opacity:0.6;}"+".k-placeholder{color:grey}"+"k\\:script{display:none;}"+"</style>"+l+c.map(e,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");r.close();return n},_blur:function(){var e=this.textarea;var t=e?e.val():this._oldValue;var i=this.options.encoded?this.encodedValue():this.value();this.update();if(e)e.trigger("blur");if(i!=t){this.trigger("change");if(e)e.trigger("change")}},_spellCorrect:function(e){var t;var i=false;this._registerHandler(e.body,{contextmenu:function(){e.one("select",function(){t=null});e._spellCorrectTimeout=setTimeout(function(){t=new h.ui.editor.RestorePoint(e.getRange(),e.body);i=false},10)},input:function(){if(!t)return;if(h.support.browser.mozilla&&!i){i=true;return}h.ui.editor._finishUpdate(e,t)}})},_registerHandler:function(e,t,i){var n=this;var r=".kendoEditor";var a;var o;e=c(e);if(!this._handlers)this._handlers=[];if(e.length)if(c.isPlainObject(t)){for(var s in t)if(t.hasOwnProperty(s))this._registerHandler(e,s,t[s])}else{a=h.applyEventMap(t).split(" ");for(o=0;o<a.length;o++){n._handlers.push({element:e,type:a[o]+r,handler:i});e.on(a[o]+r,i)}}},_deregisterHandlers:function(){var e=this._handlers;for(var t=0;t<e.length;t++){var i=e[t];i.element.off(i.type,i.handler)}this._handlers=[]},_initializeContentElement:function(){var f=this;var e;var t;var i;if(f.textarea){f.window=f._createContentElement(f.options.stylesheets);e=f.document=f.window.contentDocument||f.window.document;if(!e.body){var n=e.createElement("body");n.setAttribute("contenteditable","true");n.setAttribute("autocorrect","off");e.getElementsByTagName("html")[0].appendChild(n);var r=setInterval(function(){if(c(f.document).find("body").length>1){c(f.document).find("body").last().remove();window.clearInterval(r)}},10)}f.body=e.body;t=f.window;i=e;this._registerHandler(e,"mouseup",this._mouseup.bind(this))}else{f.window=window;e=f.document=document;f.body=f.element[0];t=f.body;i=f.body;f.toolbar.decorateFrom(f.body)}this._registerHandler(t,"blur",this._blur.bind(this));f._registerHandler(i,"down",f._mousedown.bind(f));try{e.execCommand("enableInlineTableEditing",null,false)}catch(e){}if(h.support.touch)this._registerHandler(e,{keydown:function(){if(h._activeElement()!=e.body)f.window.focus()}});this._initializePlaceholder();this._spellCorrect(f);this._registerHandler(f.document,{"mouseover dragenter":function(e){var t=c(f.body).height();var i=c(f.body.parentElement).height();if(i>t&&e.target.nodeName.toLowerCase()==="html"){f._cachedHeight=""+f.body.style.height;f.body.style.height="100%"}},"mouseout dragleave drop contextmenu":function(e){var t=function(){if(f._cachedHeight!==p&&e.target===f.body){f.body.style.height=f._cachedHeight;delete f._cachedHeight}};if(e.type==="contextmenu")setTimeout(function(){t()},10);else t()}});this._registerHandler(f.body,{keydown:function(e){var t;if((e.keyCode===_.BACKSPACE||e.keyCode===_.DELETE)&&f.body.getAttribute("contenteditable")!=="true")return false;if(e.keyCode===_.F10){setTimeout(f.toolbar.focus.bind(f.toolbar),100);f.toolbar.preventPopupHide=true;e.preventDefault();return}else if(e.keyCode==_.LEFT||e.keyCode==_.RIGHT){t=f.getRange();var i=e.keyCode==_.LEFT;var n=t[i?"startContainer":"endContainer"];var r=t[i?"startOffset":"endOffset"];var a=i?-1:1;var o=r+a;var s=i?o:r;if(n.nodeType==3&&n.nodeValue[s]=="\ufeff"){t.setStart(n,o);t.collapse(true);f.selectRange(t)}}var l=f.toolbar.tools;var d=f.keyboard.toolFromShortcut(l,e);var u=d?l[d].options:{};if(d&&!u.keyPressCommand){e.preventDefault();if(!/^(undo|redo)$/.test(d))f.keyboard.endTyping(true);f.trigger("keydown",e);f.exec(d);f._runPostContentKeyCommands(e);return false}f.keyboard.clearTimeout();f.keyboard.keydown(e)},keypress:function(e){setTimeout(function(){f._runPostContentKeyCommands(e);f._showElementResizeHandles()},0)},keyup:function(e){var t=[_.BACKSPACE,_.TAB,_.PAGEUP,_.PAGEDOWN,_.END,_.HOME,_.LEFT,_.UP,_.RIGHT,_.DOWN,_.INSERT,_.DELETE];if(c.inArray(e.keyCode,t)>-1||e.keyCode==65&&e.ctrlKey&&!e.altKey&&!e.shiftKey){window.clearTimeout(this._refreshInterval);this._refreshInterval=window.setTimeout(function(){f._selectionChange()},s)}f.keyboard.keyup(e)},click:function(e){var t=h.ui.editor.Dom,i;if(t.name(e.target)==="img"){i=f.createRange();i.selectNode(e.target);f.selectRange(i)}},"cut copy paste drop dragover":function(e){f.clipboard["on"+e.type](e)},focusin:function(){if(f.body.hasAttribute("contenteditable")){c(this).addClass("k-state-active");f.toolbar.show();f._togglePlaceholder(false)}},focusout:function(){setTimeout(function(){var e=h._activeElement();var t=f.body;var i=f.toolbar;if(i.options.popup){var n=i.window.element.get(0);if(n&&!(c.contains(n,e)||n==e))i.preventPopupHide=false}if(e!=t&&!c.contains(t,e)&&!i.focused()&&!i.preventPopupHide){c(t).removeClass("k-state-active");i.hide()}f._togglePlaceholder(!f.value().trim())},10)}});f._initializeColumnResizing();f._initializeRowResizing();f._initializeElementResizing()},_initializePlaceholder:function(){var e=this,t=e.options.placeholder,i,n;if(!e.textarea||!t)return;i="<style id='"+o+"'>."+a+":before { content: '"+t+"'; }"+"</style>";n=c(e.document.head);n.find("#"+o).remove();n.append(i);e._togglePlaceholder(!e.value().trim())},_initializeImmutables:function(){var e=this,t=h.ui.editor;if(e.options.immutables)e.immutables=new t.Immutables(e)},_mousedown:function(e){var t=this;t._selectionStarted=true;if(c(t.body).parents(".k-window").length)e.stopPropagation();if(g.gecko)return;var i=c(e.target).closest("a[href]");if((e.which==2||e.which==1&&e.ctrlKey)&&i&&i.is("a[href]"))window.open(i.attr("href"),"_new");if(e.target.tagName&&e.target.tagName.toLowerCase()==="html")setTimeout(function(){t.body.focus()},0)},_mouseup:function(e){var t=this;if(h.support.mobileOS.ios&&e&&c(e.target).is(r))return;if(t._selectionStarted)setTimeout(function(){t._selectionChange()},1)},_runPostContentKeyCommands:function(e){var t=this.getRange();var i=this.keyboard.toolsFromShortcut(this.toolbar.tools,e);for(var n=0;n<i.length;n++){var r=i[n];var a=r.options;if(!a.keyPressCommand)continue;var o=new a.command({range:t});if(o.changesContent()){this.keyboard.endTyping(true);this.exec(r.name)}}},refresh:function(){var e=this;if(e.textarea){e._destroyResizings();var t=e.value();e.textarea.val(t);e.wrapper.find("iframe").remove();e._initializeContentElement(e);e.value(t)}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Ok",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCellsHorizontally:"Merge cells horizontally",mergeCellsVertically:"Merge cells vertically",splitCellHorizontally:"Split cells horizontally",splitCellVertically:"Split cells vertically",tableAlignLeft:"Table Align Left",tableAlignCenter:"Table Align Center",tableAlignRight:"Table Align Right",tableWizard:"Table Wizard",tableTab:"Table",cellTab:"Cell",accessibilityTab:"Accessibility",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",background:"Background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Select All Cells",exportAs:"Export As",import:"Import",print:"Print",headerRows:"Header Rows",headerColumns:"Header Cols",tableSummaryPlaceholder:"Summary attribute is not HTML5 compatible.",associateNone:"None",associateScope:"Associate using 'scope' attribute",associateIds:"Associate using Ids",copyFormat:"Copy format",applyFormat:"Apply format",borderNone:"None",undo:"Undo",redo:"Redo"},placeholder:"",formats:{},encoded:true,domain:null,resizable:false,deserialization:{custom:null},serialization:{entities:true,semantic:true,scripts:false,optimizeTags:false,keepEOL:false},pasteCleanup:{all:false,css:false,custom:null,keepNewLines:false,msAllFormatting:false,msConvertLists:true,msTags:true,none:false,span:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial, Helvetica, sans-serif"},{text:"Courier New",value:'"Courier New", Courier, monospace'},{text:"Georgia",value:"Georgia, serif"},{text:"Impact",value:"Impact, Charcoal, sans-serif"},{text:"Lucida Console",value:'"Lucida Console", Monaco, monospace'},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{text:"Times New Roman",value:'"Times New Roman", Times, serif'},{text:"Trebuchet MS",value:'"Trebuchet MS", Helvetica, sans-serif'},{text:"Verdana",value:"Verdana, Geneva, sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],l.basic,["undo","redo"],l.alignment,l.formatPainter,l.lists,l.indenting,l.links,["insertImage"],l.tables)},destroy:function(){var e=this;m.fn.destroy.call(this);this._endTyping(true);this._deregisterHandlers();clearTimeout(this._spellCorrectTimeout);this._focusOutside();this.toolbar.destroy();e._destroyUploadWidget();e._destroyResizings();h.destroy(this.wrapper)},_destroyResizings:function(){var e=this;e._destroyElementResizing();h.ui.editor.ElementResizingFactory.current.dispose(e);e._destroyRowResizing();h.ui.editor.RowResizing.dispose(e);e._destroyColumnResizing();h.ui.editor.ColumnResizing.dispose(e)},_focusOutside:function(){if(h.support.browser.msie&&this.textarea){var e=c("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).trigger("focus");e.trigger("blur").remove()}},_destroyUploadWidget:function(){var e=this;if(e._uploadWidget){e._uploadWidget.destroy();e._uploadWidget=null}},state:function(e){var t=d.defaultTools[e];var i=t&&(t.options.finder||t.finder);var n=h.ui.editor.RangeUtils;var r,a;if(i){r=this.getRange();a=n.textNodes(r);if(!a.length&&r.collapsed)a=[r.startContainer];return i.getFormat?i.getFormat(a):i.isFormatted(a)}return false},value:function(e){var t=this.body,i=h.ui.editor,n=this.options,r=i.Serializer.domToXhtml(t,n.serialization);if(e===p)return r;if(e==r)return;i.Serializer.htmlToDom(e,t,n.deserialization);this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(e){e=e||this.getRange();var t=e.commonAncestorContainer,i=this.body;if(t==i||c.contains(i,t))this.selectionRestorePoint=new h.ui.editor.RestorePoint(e,i)},_focusBody:function(){var e=this.body;var t=this.wrapper&&this.wrapper.find("iframe")[0];var i=this.document.documentElement;var n=h._activeElement();var r;if(!t&&e.scrollHeight>e.clientHeight){r=e.scrollTop;e.focus();e.scrollTop=r}else if(n!=e&&n!=t){r=i.scrollTop;e.focus();i.scrollTop=r}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint)this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(e);this._togglePlaceholder(!e.trim())}else this._oldValue=e},encodedValue:function(){return h.ui.editor.Dom.encode(this.value())},createRange:function(e){return h.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return h.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges();t.addRange(e);this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),i=this.document;if(t.startContainer==i&&t.endContainer==i&&!t.startOffset&&!t.endOffset){t.setStart(this.body,0);t.collapse(true)}return t},_containsRange:function(e){var t=h.ui.editor.Dom;var i=this.body;return e&&t.isAncestorOrSelf(i,e.startContainer)&&t.isAncestorOrSelf(i,e.endContainer)},_deleteSavedRange:function(){if("_range"in this)delete this._range},selectedHtml:function(){return h.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,t){this.focus();var i=new h.ui.editor.InsertHtmlCommand(c.extend({range:this.getRange(),html:e},t));i.editor=this;i.exec()},exec:function(e,t){var i=this;var n=null;var r,a,o;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(i.body.getAttribute("contenteditable")!=="true"&&e!=="print"&&e!=="pdf"&&e!=="exportAs")return false;e=e.toLowerCase();if(!i.keyboard.isTypingInProgress()){i._focusBody();i.selectRange(i._range||i.getRange())}a=i.toolbar.toolById(e);if(!a)for(var s in d.defaultTools)if(s.toLowerCase()==e){a=d.defaultTools[s];break}if(a){r=i.getRange();if(a.command)n=a.command(v({range:r,body:i.body,immutables:!!i.immutables},t));o=i.trigger("execute",{name:e,command:n});if(o)return;if(/^(undo|redo)$/i.test(e))i.undoRedoStack[e]();else if(n){i.execCommand(n);if(n.async){n.change=i._selectionChange.bind(i);return}}i._selectionChange()}},execCommand:function(e){if(!e.managesUndoRedo)this.undoRedoStack.push(e);e.editor=this;e.exec()}}),u=(d.defaultTools={},h.ui.plugin(d),e.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title,"aria-label":t.title})},command:function(e){return new this.options.command(e)},update:c.noop})),x=(u.exec=function(e,t,i){e.exec(t,{value:i})},u.extend({command:c.noop,update:function(e,t,i){var n=this,r=n.options.name;switch(r){case"undo":e.attr("disabled",!i.canUndo());break;case"redo":e.attr("disabled",!i.canRedo());break;default:break}}})),C=(w.registerTool("separator",new u({template:new t({template:w.separatorTemplate})})),w.registerTool("undo",new x({key:"Z",ctrl:true,template:new t({template:w.buttonTemplate,title:"Undo"})})),w.registerTool("redo",new x({key:"Y",ctrl:true,template:new t({template:w.buttonTemplate,title:"Redo"})})),"\ufeff"),T=C;if(g.msie||g.edge)T=C="&nbsp;";if(v(h.ui,{editor:{ToolTemplate:t,EditorUtils:w,Tool:u,emptyElementContent:C,emptyTableCellContent:T}}),h.PDFMixin){h.PDFMixin.extend(d.prototype);d.prototype._drawPDF=function(){return h.drawing.drawDOM(this.body,this.options.pdf)};d.prototype.saveAsPDF=function(){var t=new c.Deferred;var e=t.promise();var i={promise:e};if(this.trigger("pdfExport",i))return;var n=this.options.pdf;this._drawPDF(t).then(function(e){return h.drawing.exportPDF(e,n)}).done(function(e){h.saveAs({dataURI:e,fileName:n.fileName,proxyURL:n.proxyURL,proxyTarget:n.proxyTarget,forceProxy:n.forceProxy});t.resolve()}).fail(function(e){t.reject(e)});return e}}})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/dom.min",["./main.min"],function(){var w=window.kendo.jQuery,o=window.kendo,a=w.map,n=w.extend,s=o.support.browser,u="style",r="float",l="cssFloat",d="styleFloat",f="class",c="k-marker";function e(e){var t={},i,n;for(i=0,n=e.length;i<n;i++)t[e[i]]=true;return t}var i=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),t="p,div,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),p=t.concat(["ul","ol","li"]),h=e(p),m=e("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),g="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),v=e(g),b=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),_=["hgroup","ol","ul","dl","object","video","audio","table","colgroup","tbody","thead","tfoot","tr","select","optgroup"],k=function(e){if(e.nodeType==1)e.normalize()};if(s.msie&&s.version>=8)k=function(e){if(e.nodeType==1&&e.firstChild){var t=e.firstChild,i=t;k(i);while(true){i=i.nextSibling;if(!i)break;k(i);if(i.nodeType==3&&t.nodeType==3){i.nodeValue=t.nodeValue+i.nodeValue;A.remove(t)}t=i}}};var y=/^\s+$/,x=/^[\n\r\t]+$/,C=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,T=/\ufeff/g,S=/^(\s+|\ufeff)$/,D,F=("color,padding-left,padding-right,padding-top,padding-bottom,"+"background-color,background-attachment,background-image,background-position,background-repeat,"+"border-top-style,border-top-width,border-top-color,"+"border-bottom-style,border-bottom-width,border-bottom-color,"+"border-left-style,border-left-width,border-left-color,"+"border-right-style,border-right-width,border-right-color,"+"font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),I=/[<>\&]/g,E=/[\u00A0-\u2666<>\&]/g,z={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},A={block:h,inline:v,findNodeIndex:function(e,t){var i=0;if(!e)return-1;while(true){e=e.previousSibling;if(!e)break;if(!(t&&e.nodeType==3))i++}return i},isDataNode:function(e){return e&&e.nodeValue!==null&&e.data!==null},isAncestorOf:function(e,t){try{return!A.isDataNode(e)&&(w.contains(e,A.isDataNode(t)?t.parentNode:t)||t.parentNode==e)}catch(e){return false}},isAncestorOrSelf:function(e,t){return A.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(A.isAncestorOf(e,t))while(t&&t.parentNode!=e)t=t.parentNode;return t},getAllComments:function(e){var t=[];var i=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},false);var n=i.nextNode();while(n){t.push(n.nodeValue);n=i.nextNode()}return t},getNodeLength:function(e){return A.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){var i=e.cloneNode(false);var n="";var r=e.nextSibling;var a;while(r&&r.nodeType==3&&r.nodeValue){n+=r.nodeValue;a=r;r=r.nextSibling;A.remove(a)}e.deleteData(t,e.length);i.deleteData(0,t);i.nodeValue+=n;A.insertAfter(i,e)},attrEquals:function(e,t){for(var i in t){var n=e[i];if(i==r)n=e[o.support.cssFloat?l:d];if(typeof n=="object"){if(!A.attrEquals(n,t[i]))return false}else if(n!=t[i])return false}return true},blockParentOrBody:function(e){return A.parentOfType(e,p)||e.ownerDocument.body},blockParents:function(e){var t=[],i,n;for(i=0,n=e.length;i<n;i++){var r=A.parentOfType(e[i],A.blockElements);if(r&&w.inArray(r,t)<0)t.push(r)}return t},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:k,blockElements:p,nonListBlockElements:t,inlineElements:g,empty:i,fillAttrs:b,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(e){var t=C.exec(e);if(!t)return e;return"#"+a(t.slice(1),function(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e}).join("")},encode:function(e,t){var i=!t||t.entities?E:I;return e.replace(i,function(e){var t=e.charCodeAt(0);var i=z[t];return i?"&"+i+";":e})},isBom:function(e){return e&&e.nodeType===3&&/^[\ufeff]+$/.test(e.nodeValue)},stripBom:function(e){return(e||"").replace(T,"")},stripBomNode:function(e){if(A.isBom(e))e.parentNode.removeChild(e)},insignificant:function(e){var t=e.attributes;return e.className=="k-marker"||A.is(e,"br")&&(e.className=="k-br"||t._moz_dirty||t._moz_editor_bogus_node)||A.is(e,"span")&&e.className=="k-br"},tableCell:function(e){return A.is(e,"td")||A.is(e,"th")},significantNodes:function(e){return w.grep(e,function(e){var t=A.name(e);if(t=="br")return false;else if(A.insignificant(e))return false;else if(A.emptyTextNode(e))return false;else if(e.nodeType==1&&!i[t]&&A.emptyNode(e))return false;return true})},emptyTextNode:function(e){return e&&e.nodeType==3&&S.test(e.nodeValue)},emptyNode:function(e){return e.nodeType==1&&!A.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(e){return w.grep(e.childNodes,function(e){return e.nodeType!=3||!A.isWhitespace(e)})},lastTextNode:function(e){var t=null;if(e.nodeType==3)return e;for(var i=e.lastChild;i;i=i.previousSibling){t=A.lastTextNode(i);if(t)return t}return t},is:function(e,t){return e&&A.name(e)==t},isMarker:function(e){return e.className==c},isWhitespace:function(e){return y.test(e.nodeValue)},allowsTextContent:function(t){var i=true;_.every(function(e){if(A.is(t,e)){i=false;return false}else return true});return i},allWhitespaceContent:function(e){var t=e.firstChild;while(t&&A.isWhitespace(t))t=t.nextSibling;return!t},isEmptyspace:function(e){return x.test(e.nodeValue)},htmlIndentSpace:function(e){if(!(A.isDataNode(e)&&A.isWhitespace(e)))return false;if(x.test(e.nodeValue))return true;var t=function(e,t){while(e[t]){e=e[t];if(A.significantNodes([e]).length>0)return e}};var i=e.parentNode;var n=t(e,"previousSibling");var r=t(e,"nextSibling");if(T.test(e.nodeValue))return!!(n||r);if(w(i).is("tr,tbody,thead,tfoot,table,ol,ul"))return true;if(A.isBlock(i)||A.is(i,"body")){var a=n&&A.isBlock(n);var o=r&&A.isBlock(r);if(!r&&a||!n&&o||a&&o)return true}return false},isBlock:function(e){return h[A.name(e)]},isSelfClosing:function(e){return m[A.name(e)]},isEmpty:function(e){return i[A.name(e)]},isInline:function(e){return v[A.name(e)]},isBr:function(e){return A.name(e)=="br"},list:function(e){var t=e?A.name(e):"";return t=="ul"||t=="ol"||t=="dl"},scrollContainer:function(e){var t=A.windowFromDocument(e),i=(t.contentWindow||t).document||t.ownerDocument||t;if(i.compatMode=="BackCompat")i=i.body;else i=i.scrollingElement||i.documentElement;return i},scrollTo:function(e,t){var i=e.ownerDocument;var n=A.windowFromDocument(i);var r=n.innerHeight;var a=A.scrollContainer(i);var o,s,l,d;if(A.isDataNode(e))if(t){d=A.create(i,"span",{innerHTML:"&#xfeff;"});A.insertBefore(d,e);o=w(d)}else o=w(e.parentNode);else o=w(e);s=o.offset().top;l=o[0].offsetHeight;if(t||!l)l=parseInt(o.css("line-height"),10)||Math.ceil(1.2*parseInt(o.css("font-size"),10))||15;if(d)A.remove(d);if(l+s>a.scrollTop+r)a.scrollTop=l+s-r},persistScrollTop:function(e){D=A.scrollContainer(e).scrollTop},offset:function(e,t){var i={top:e.offsetTop,left:e.offsetLeft};var n=e.offsetParent;while(n&&(!t||A.isAncestorOf(t,n))){i.top+=n.offsetTop;i.left+=n.offsetLeft;n=n.offsetParent}return i},restoreScrollTop:function(e){if(typeof D=="number"){A.scrollContainer(e).scrollTop=D;D=undefined}},insertAt:function(e,t,i){e.insertBefore(t,e.childNodes[i]||null)},insertBefore:function(e,t){if(t.parentNode)return t.parentNode.insertBefore(e,t);else return t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){if(e.parentNode)e.parentNode.removeChild(e)},removeChildren:function(e){while(e.firstChild)e.removeChild(e.firstChild)},removeTextSiblings:function(e){var t=e.parentNode;while(e.nextSibling&&e.nextSibling.nodeType==3)t.removeChild(e.nextSibling);while(e.previousSibling&&e.previousSibling.nodeType==3)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var i=e.childNodes[t];if(A.isDataNode(i)){if(!A.stripBom(i.nodeValue).length)A.remove(i)}else if(i.className!=c){A.trim(i);if(!A.isEmpty(i)&&i.childNodes.length===0||A.isBlock(i)&&A.allWhitespaceContent(i))A.remove(i)}}return e},closest:function(e,t){if(typeof t==="string")t=[t];while(e&&t.indexOf(A.name(e))<0)e=e.parentNode;return e},closestBy:function(e,t,i){while(e&&!t(e)){if(i&&i(e))return null;e=e.parentNode}return e},sibling:function(e,t){do{e=e[t]}while(e&&e.nodeType!=1);return e},next:function(e){return A.sibling(e,"nextSibling")},prev:function(e){return A.sibling(e,"previousSibling")},parentOfType:function(e,t){do{e=e.parentNode}while(e&&!A.ofType(e,t));return e},ofType:function(e,t){return w.inArray(A.name(e),t)>=0},changeTag:function(e,t,i){var n=A.create(e.ownerDocument,t),r=e.attributes,a,o,s,l,d;if(!i)for(a=0,o=r.length;a<o;a++){d=r[a];if(d.specified){s=d.nodeName;l=d.nodeValue;if(s==f)n.className=l;else if(s==u)n.style.cssText=e.style.cssText;else n.setAttribute(s,l)}}while(e.firstChild)n.appendChild(e.firstChild);A.insertBefore(n,e);A.remove(e);return n},editableParent:function(e){while(e&&(e.nodeType==3||e.contentEditable!=="true"))e=e.parentNode;return e},wrap:function(e,t){A.insertBefore(t,e);t.appendChild(e);return t},unwrap:function(e){var t=e.parentNode;while(e.firstChild)t.insertBefore(e.firstChild,e);t.removeChild(e)},wrapper:function(e){var t=A.closestBy(e,function(e){return e.parentNode&&A.significantNodes(e.parentNode.childNodes).length>1});return w(t).is("body,.k-editor")?undefined:t},create:function(e,t,i){return A.attr(e.createElement(t),i)},createEmptyNode:function(e,t,i){var n=A.attr(e.createElement(t),i);n.innerHTML="\ufeff";return n},attr:function(e,t){t=n({},t);if(t&&u in t){A.style(e,t.style);delete t.style}for(var i in t)if(t[i]===null){e.removeAttribute(i);delete t[i]}else if(i=="className")e[i]=t[i];return n(e,t)},mergeAttributes:function(e,t,i){if(!e.attributes.length)return;w.each(e.attributes,function(){if(this.name!=="contenteditable"&&(!i||this.name!==u))w(t).attr(this.name,this.value);if(i&&this.name===u)w.each(e.style,function(){t.style[this]=e.style[this]})})},style:function(e,t){w(e).css(t||{})},unstyle:function(e,t){for(var i in t){if(i==r)i=o.support.cssFloat?l:d;e.style[i]=""}if(e.style.cssText==="")e.removeAttribute(u)},inlineStyle:function(e,t,i){var n=w(A.create(e.ownerDocument,t,i)),r;e.appendChild(n[0]);r=a(F,function(e){if(s.msie&&e=="line-height"&&n.css(e)=="1px")return"line-height:1.5";else return e+":"+n.css(e)}).join(";");n.remove();return r},getEffectiveBackground:function(e){var t=e.css("background-color")||"";if(t.indexOf("rgba(0, 0, 0, 0")<0&&t!=="transparent")return t;else if(e[0].tagName.toLowerCase()==="html")return"Window";else return A.getEffectiveBackground(e.parent())},innerText:function(e){var t=e.innerHTML;t=t.replace(/<!--(.|\s)*?-->/gi,"");t=t.replace(/<\/?[^>]+?\/?>/gm,"");return t},removeClass:function(e,t){var i=" "+e.className+" ",n=t.split(" "),r,a;for(r=0,a=n.length;r<a;r++)i=i.replace(" "+n[r]+" "," ");i=o.trim(i);if(i.length)e.className=i;else e.removeAttribute(f)},commonAncestor:function(){var e=arguments.length,t=[],i=Infinity,n=null,r,a,o,s,l;if(!e)return null;if(e==1)return arguments[0];for(r=0;r<e;r++){a=[];o=arguments[r];while(o){a.push(o);o=o.parentNode}t.push(a.reverse());i=Math.min(i,a.length)}if(e==1)return t[0][0];for(r=0;r<i;r++){s=t[0][r];for(l=1;l<e;l++)if(s!=t[l][r])return n;n=s}return n},closestSplittableParent:function(e){var t;if(e.length==1)t=A.parentOfType(e[0],["ul","ol"]);else t=A.commonAncestor.apply(null,e);if(!t)t=A.parentOfType(e[0],["p","td"])||e[0].ownerDocument.body;if(A.isInline(t))t=A.blockParentOrBody(t);var i=a(e,A.editableParent);var n=A.commonAncestor(i)[0];if(w.contains(t,n))t=n;return t},closestEditable:function(e,t){var i;var n=A.editableParent(e);if(A.ofType(e,t))i=e;else i=A.parentOfType(e,t);if(i&&n&&w.contains(i,n))i=n;else if(!i&&n)i=n;return i},closestEditableOfType:function(e,t){var i=A.closestEditable(e,t);if(i&&A.ofType(i,t)&&!w(i).is(".k-editor"))return i},filter:function(t,e,i){var n=function(e){return A.name(e)==t};return A.filterBy(e,n,i)},filterBy:function(e,t,i){var n=0;var r=e.length;var a=[];var o;for(;n<r;n++){o=t(e[n]);if(o&&!i||!o&&i)a.push(e[n])}return a},ensureTrailingBreaks:function(e){var t=w(e).find("p,td,th");var i=t.length;var n=0;if(i)for(;n<i;n++)A.ensureTrailingBreak(t[n]);else A.ensureTrailingBreak(e)},removeTrailingBreak:function(e){w(e).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){A.removeTrailingBreak(e);var t=e.lastChild;var i=t&&A.name(t);var n;if(!i||i!="br"&&i!="img"||i=="br"&&t.className!="k-br"){n=e.ownerDocument.createElement("br");n.className="k-br";e.appendChild(n)}},reMapTableColumns:function(e,t){A._mapColIndices(e,t)},clearTableMappings:function(e,t){w(e).find("["+t+"]").removeAttr(t)},_mapColIndices:function(e,t){var i={};for(var n=0;n<e.rows.length;n++){var r=e.rows[n].cells;var a=0;for(var o=0;o<r.length;o++,a++){var s=r[o];if(s.rowSpan>1)this._mapColspan(s,n,a,i);if(i[n])while(i[n][a])a++;s.setAttribute(t,a);if(s.colSpan>1)a=a+s.colSpan-1}}},_mapColspan:function(e,t,i,n){var r=e.rowSpan,a=e.colSpan,o;for(var s=0;s<a;s++){o=i+s;for(var l=t+1;l<t+r;l++){if(!n[l]){n[l]={};n[l].length=0}if(n[t])while(n[t][o])o++;n[l][o]=true;n[l].length++}}},associateWithIds:function(e){var t=this;var i=0;var n=e.rows;var r=n.length;var a=[];var o=[];var s,l;if(e.tHead){s=e.tHead.rows;i=s.length}else{i=t._getNumberOfHeaderRows(e);s=[];for(l=0;l<i;l++)s.push(n[l])}for(l=0;l<i;l++)a.push([]);for(l=0;l<r;l++)o.push([]);t._generateIdsForColumns(a,s);t._generateIdsForRows(a,o,i,n);t._assignIds(a,o,i,n)},_generateIdsForColumns:function(e,t){var i=(new Date).getTime();var n=t?t.length:0;var r,a,o,s,l,d,u,f,c,p,h;for(f=0;f<n;f++){r=t[f];a=r.cells;s=0;for(c=0;c<a.length;c++){o=a[c];l="table"+f+c+ ++i;o.setAttribute("id",l);d=o.getAttribute("colspan")||1;u=o.getAttribute("rowspan")||1;while(e[f][c+s])s+=1;for(p=0;p<u;p++)for(h=0;h<d;h++)e[f+p][c+s+h]=l}}},_generateIdsForRows:function(e,t,i,n){var r=this;var a=(new Date).getTime();var o=n.length;var s,l,d,u,f,c,p,h,m,g,v,b,_;var k=function(e){_.push(e[b])};for(h=i;h<o;h++){s=n[h];l=w(s.cells).filter("th");u=0;for(m=0;m<l.length;m++){d=l[m];f="table"+h+m+ ++a;d.setAttribute("id",f);c=d.getAttribute("colspan")||1;p=d.getAttribute("rowspan")||1;while(t[h][m+u])u+=1;for(g=0;g<p;g++)for(v=0;v<c;v++)t[h+g][m+u+v]=f;b=d.getAttribute("col-index");_=[];e.forEach(k);_=_.filter(r._onlyUnique);d.setAttribute("headers",_.join(" ").trim())}}},_assignIds:function(e,t,i,n){var r=this;var a=n.length;var o,s,l,d,u,f,c;var p=function(e){c.push(e[f])};for(d=i;d<a;d++){o=n[d];s=w(o.cells).filter("td");for(u=0;u<s.length;u++){l=s[u];f=l.getAttribute("col-index");c=t[d].slice();e.forEach(p);c=c.filter(r._onlyUnique);l.setAttribute("headers",c.join(" ").trim())}}},_getNumberOfColumns:function(e){var t=w(e).find("th, td");var i=0;var n,r,a;for(r=0;r<t.length;r++){n=t[r];a=Number(n.getAttribute("col-index"))+1;if(a>i)i=a}return i},_getNumberOfHeaderColumns:function(e,t){var i=e.rows;var n=0;var r,a,o,s,l;for(o=t;o<i.length;o++){a=i[o];for(s=0;s<a.cells.length;s++){l=a.cells[s];if(this.is(l,"th")){r=Number(l.getAttribute("col-index"))+1;if(r>n)n=r}}}return n},_getNumberOfHeaderRows:function(e){var t=e.rows;var i=e.tHead;var n=i&&e.tHead.rows?e.tHead.rows.length:0;var r,a,o,s;if(n===0){a=t[0];s=a.cells&&a.cells.length;while(a&&s&&this.is(a.cells[0],"th")){for(r=0;r<s;r++){o=a?a.cells[r]:null;if(!this.is(o,"th"))a=null}if(a){n+=1;a=this.next(a);s=a&&a.cells&&a.cells.length}}}return n},_onlyUnique:function(e,t,i){return i.indexOf(e)===t}};o.ui.editor.Dom=A})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/serializer.min",["./dom.min"],function(){var w=window.kendo.jQuery,y=void 0,x=window.kendo,C=x.ui.editor,T=C.Dom,e=w.extend,s="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),l=/"/g,d=/<br[^>]*>/i,S=/^\d+(\.\d*)?(px)?$/i,D=/<p>(?:&nbsp;)?<\/p>/i,F=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,I=/^sizzle-\d+/i,E=/^k-script-/i,t=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,i='<br class="k-br">',a="<span class='k-br'>\ufeff</span>",n=document.createElement("div"),z=(n.innerHTML=" <hr>",n.firstChild.nodeType===3),u=(n=null,x.isFunction),A="td",f={toEditableHtml:function(e){return(e||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,function(e){return e.replace(t,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,i+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+i)},_toEditableImmutables:function(e){var t=C.Immutables.immutable,i=T.emptyTextNode,n=e.firstChild,r=e.lastChild;while(i(n))n=n.nextSibling;while(i(r))r=r.previousSibling;if(n&&t(n))w(a).prependTo(e);if(r&&t(r))w(a).appendTo(e)},_fillEmptyElements:function(e){w(e).find("p,td").each(function(){var e=w(this);if(/^\s*$/g.test(e.text())&&!e.find("img,input").length){var t=this;while(t.children[0]&&t.children[0].nodeType!=3)t=t.children[0];if(t.nodeType==1&&!T.empty[T.name(t)])if(T.is(t,"td"))t.innerHTML=x.ui.editor.emptyTableCellContent;else t.innerHTML=x.ui.editor.emptyElementContent}})},_removeSystemElements:function(e){w(".k-paste-container",e).remove()},_resetOrderedLists:function(e){var t=e.getElementsByTagName("ol"),i,n,r;for(i=0;i<t.length;i++){n=t[i];r=n.getAttribute("start");n.setAttribute("start",1);if(r)n.setAttribute("start",r);else n.removeAttribute(r)}},_preventScriptExecution:function(e){w(e).find("*").each(function(){var e=this.attributes;var t,i,n,r;var a=[];for(i=0,n=e.length;i<n;i++){t=e[i];r=t.nodeName;if(t.specified&&/^on/i.test(r)){this.setAttribute("k-script-"+r,t.value);a.push(r)}}for(i=0,n=a.length;i<n;i++)this.removeAttribute(a[i])})},htmlToDom:function(e,t,i){var n=x.support.browser;var r=n.msie;var a=i||{};var o=a.immutables;e=f.toEditableHtml(e);if(u(a.custom))e=a.custom(e)||e;t.innerHTML=e;if(o)o.deserialize(t);if(r){T.normalize(t);f._resetOrderedLists(t)}f._preventScriptExecution(t);f._fillEmptyElements(t);f._removeSystemElements(t);f._toEditableImmutables(t);w("table",t).addClass("k-table");return t},domToXhtml:function(e,u){var f=[];var c=u&&u.immutables;function o(e){return w.grep(e,function(e){return e.name!="style"})}function t(e,t){f.push("<"+t);g(e);f.push(">")}var p={iframe:{start:function(e){t(e,"iframe")},end:function(){f.push("</iframe>")}},"k:script":{start:function(e){t(e,"script")},end:function(){f.push("<\/script>")},skipEncoding:true},span:{canOptimize:true,semantic:true,start:function(e){var t=e.style;var i=m(e);var n=o(i);if(n.length){f.push("<span");g(e,n);f.push(">")}if(t.textDecoration=="underline")f.push("<u>");var r=[];if(t.color)r.push('color="'+T.toHex(t.color)+'"');if(t.fontFamily)r.push('face="'+t.fontFamily+'"');if(t.fontSize){var a=w.inArray(t.fontSize,s);r.push('size="'+a+'"')}if(r.length)f.push("<font "+r.join(" ")+">")},end:function(e){var t=e.style;if(t.color||t.fontFamily||t.fontSize)f.push("</font>");if(t.textDecoration=="underline")f.push("</u>");if(o(m(e)).length)f.push("</span>")}},strong:{semantic:true,start:function(e){t(e,"b")},end:function(){f.push("</b>")}},em:{semantic:true,start:function(e){t(e,"i")},end:function(){f.push("</i>")}},b:{semantic:false,start:function(e){t(e,"strong")},end:function(){f.push("</strong>")}},i:{semantic:false,start:function(e){t(e,"em")},end:function(){f.push("</em>")}},u:{semantic:false,start:function(e){f.push("<span");var t=m(e);var i=w(t).filter(function(e,t){return t.name=="style"})[0];var n={nodeName:"style",value:"text-decoration:underline;"};if(i){n.value=i.value;if(!/text-decoration/i.test(n.value))n.value="text-decoration:underline;"+n.value;t.splice(w.inArray(i,t),1)}t.push(n);g(e,t);f.push(">")},end:function(){f.push("</span>")}},font:{canOptimize:true,semantic:false,start:function(e){f.push('<span style="');var t=e.getAttribute("color");var i=s[e.getAttribute("size")];var n=e.getAttribute("face");if(t){f.push("color:");f.push(T.toHex(t));f.push(";")}if(n){f.push("font-family:");f.push(n);f.push(";")}if(i){f.push("font-size:");f.push(i);f.push(";")}f.push('">')},end:function(){f.push("</span>")}}};p.script=p["k:script"];u=u||{};if(typeof u.semantic=="undefined")u.semantic=true;function n(e){var t=x.trim;var i=t(e);var n;var r,a;var o=[];F.lastIndex=0;while(true){n=F.exec(i);if(!n)break;r=t(n[1].toLowerCase());a=t(n[2]);if(r=="font-size-adjust"||r=="font-stretch")continue;if(r.indexOf("color")>=0)a=T.toHex(a);else if(r.indexOf("font")>=0)a=a.replace(l,"'");else if(/\burl\(/g.test(a))a=a.replace(l,"");o.push({property:r,value:a})}return o}function h(e){var t=n(e);var i;for(i=0;i<t.length;i++){f.push(t[i].property);f.push(":");f.push(t[i].value);f.push(";")}}function m(e){var t=[];var i=e.attributes;var n,r,a;var o,s,l;for(r=0,a=i.length;r<a;r++){n=i[r];o=n.nodeName;s=n.value;l=n.specified;if(o=="value"&&"value"in e&&e.value)l=true;else if(o=="type"&&s=="text")l=true;else if(o=="class"&&!s)l=false;else if(I.test(o))l=false;else if(o=="complete")l=false;else if(o=="altHtml")l=false;else if(o=="start"&&T.is(e,"ul"))l=false;else if(o=="start"&&T.is(e,"ol")&&s=="1")l=false;else if(o.indexOf("_moz")>=0)l=false;else if(E.test(o))l=!!u.scripts;else if(o=="data-role"&&s=="resizable"&&(T.is(e,"tr")||T.is(e,"td")))l=false;if(l)t.push(n)}return t}function g(e,t){var i,n,r,a,o;t=t||m(e);if(T.is(e,"img")){var s=e.style.width,l=e.style.height,d=w(e);if(s&&S.test(s)){d.attr("width",parseInt(s,10));T.unstyle(e,{width:y})}if(l&&S.test(l)){d.attr("height",parseInt(l,10));T.unstyle(e,{height:y})}}if(!t.length)return;for(i=0,n=t.length;i<n;i++){r=t[i];a=r.nodeName;o=r.value;if(a=="class"&&o=="k-table")continue;a=a.replace(E,"");f.push(" ");f.push(a);f.push('="');if(a=="style")h(o||e.style.cssText);else if(a=="src"||a=="href")f.push(x.htmlEncode(e.getAttribute(a,2)));else f.push(T.fillAttrs[a]?a:o);f.push('"')}}function v(e,t,i){for(var n=e.firstChild;n;n=n.nextSibling)r(n,t,i)}function b(e){return e.nodeValue.replace(/\ufeff/g,"")}function _(e){if(T.isBom(e)){do{e=e.parentNode;if(T.is(e,A)&&e.childNodes.length===1)return true;if(e.childNodes.length!==1)return false}while(!T.isBlock(e));return true}return false}function r(e,t,i){var n=e.nodeType,r,a,o,s,l,d;if(c&&C.Immutables.immutable(e))f.push(c.serialize(e));else if(n==1){r=T.name(e);d=w(e);if(d.hasClass("k-element-resize-handle-wrapper")||d.hasClass("k-column-resize-handle-wrapper")||d.hasClass("k-row-resize-handle-wrapper"))return;if(!r||T.insignificant(e))return;if(!u.scripts&&(r=="script"||r=="k:script"))return;a=p[r];if(a){if(a.canOptimize&&u.optimizeTags&&k(e)){v(e,false,a.skipEncoding);return}if(typeof a.semantic=="undefined"||u.semantic^a.semantic){a.start(e);v(e,false,a.skipEncoding);a.end(e);return}}f.push("<");f.push(r);g(e);if(T.empty[r])f.push(" />");else{f.push(">");v(e,t||T.is(e,"pre"));f.push("</");f.push(r);f.push(">")}}else if(n==3){if(_(e)){f.push("&nbsp;");return}s=b(e);if(!t&&z){o=e.parentNode;l=e.previousSibling;if(!l)l=(T.isInline(o)?o:e).previousSibling;if(!l||l.innerHTML===""||T.isBlock(l))if(u.keepEOL)s=s.replace(/[\r\n\v\f\t ]+/," ");else s=s.replace(/^[\r\n\v\f\t ]+/,"");s=s.replace(/ +/," ")}f.push(i?s:T.encode(s,u))}else if(n==4){f.push("<![CDATA[");f.push(e.data);f.push("]]>")}else if(n==8)if(e.data.indexOf("[CDATA[")<0){f.push("\x3c!--");f.push(e.data);f.push("--\x3e")}else{f.push("<!");f.push(e.data);f.push(">")}}function k(e){return e.attributes.length===0}function i(e){var t=e.childNodes.length;var i=t&&e.firstChild.nodeType==3;return i&&(t==1||t==2&&T.insignificant(e.lastChild))}function a(){if(x.isFunction(u.custom))f=u.custom(f)||f}if(i(e)){f=T.encode(b(e.firstChild).replace(/[\r\n\v\f\t ]+/," "),u);a();return f}v(e);f=f.join("");a();if(f.replace(d,"").replace(D,"")==="")return"";return f}};e(C,{Serializer:f})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/components.min",["./serializer.min"],function(){var d=window.kendo.jQuery,n=void 0,u=window.kendo,r=u.ui.DropDownList,l=u.ui.editor.Dom,e=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t);if(u.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",this._initSelectOverlay.bind(this))}i.text(i.options.title);i.element.attr("title",i.options.title);i.wrapper.attr("title",i.options.title);i.bind("open",function(){if(i.options.autoSize){var e=i.list,t;e.css({whiteSpace:"nowrap",width:"auto"});t=e.width();if(t>0)t+=20;else t=i._listWidth;e.css("width",t+u.support.scrollbar());i._listWidth=t}})},options:{name:"SelectBox",index:-1,size:"medium",fillMode:"solid",rounded:"medium"},_initSelectOverlay:function(){var e=this;var t=e.value();var i=this.dataSource.view();var n;var r="";var a=u.htmlEncode;for(var o=0;o<i.length;o++){n=i[o];r+="<option value='"+a(n.value)+"'";if(n.value==t)r+=" selected";r+=">"+a(n.text)+"</option>"}var s=d("<select class='k-select-overlay'>"+r+"</select>");var l=d(this.element).closest(".k-dropdownlist");l.next(".k-select-overlay").remove();s.insertAfter(l);s.on("change",function(){e.value(this.value);e.trigger("change")})},value:function(e){var t=this,i=r.fn.value.call(t,e);if(e===n)return i;if(!r.fn.value.call(t))t.text(t.options.title)},decorate:function(e){var t=this,i=t.dataSource,n=i.data(),r,a,o,s;if(e)t.list.css("background-color",l.getEffectiveBackground(d(e)));for(r=0;r<n.length;r++){a=n[r].tag||"span";o=n[r].className;s=l.inlineStyle(e,a,{className:o});s=s.replace(/"/g,"'");n[r].style=s+";display:inline-block"}i.trigger("change")}});u.ui.plugin(e),u.ui.editor.SelectBox=e,u.cssProperties.registerPrefix("SelectBox","k-picker-"),u.cssProperties.registerValues("SelectBox",[{prop:"rounded",values:u.cssProperties.roundedValues.concat([["full","full"]])}])})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/range.min",["./components.min"],function(){var r=window.kendo.jQuery,t=window.kendo,e=t.Class,i=r.extend,a=t.ui.editor,l=t.support.browser,g=a.Dom,m=g.findNodeIndex,v=g.isDataNode,n=g.findClosestAncestor,u=g.getNodeLength,b=g.normalize,o={selectionFromWindow:function(e){if(!e)return;if(!("getSelection"in e))return new h(e.document);return e.getSelection()},selectionFromRange:function(e){var t=F.documentFromRange(e);return o.selectionFromDocument(t)},selectionFromDocument:function(e){return o.selectionFromWindow(g.windowFromDocument(e))}},f=e.extend({init:function(e){r.extend(this,{ownerDocument:e,startContainer:e,endContainer:e,commonAncestorContainer:e,startOffset:0,endOffset:0,collapsed:true})},setStart:function(e,t){this.startContainer=e;this.startOffset=t;c(this);d(this,true)},setEnd:function(e,t){this.endContainer=e;this.endOffset=t;c(this);d(this,false)},setStartBefore:function(e){this.setStart(e.parentNode,m(e))},setStartAfter:function(e){this.setStart(e.parentNode,m(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,m(e))},setEndAfter:function(e){this.setEnd(e.parentNode,m(e)+1)},selectNode:function(e){this.setStartBefore(e);this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0);this.setEnd(e,e[e.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;if(e)t.setEnd(t.startContainer,t.startOffset);else t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();if(e.startContainer!=e.commonAncestorContainer)e.setStartAfter(n(e.commonAncestorContainer,e.startContainer));e.collapse(true);(function e(t){while(t.next())if(t.hasPartialSubtree())e(t.getSubtreeIterator());else t.remove()})(new p(t))},cloneContents:function(){var r=F.documentFromRange(this);return function e(t){var i,n=r.createDocumentFragment();while(i=t.next()){i=i.cloneNode(!t.hasPartialSubtree());if(t.hasPartialSubtree())i.appendChild(e(t.getSubtreeIterator()));n.appendChild(i)}return n}(new p(this))},extractContents:function(){var r=this,e=r.cloneRange();if(r.startContainer!=r.commonAncestorContainer)r.setStartAfter(n(r.commonAncestorContainer,r.startContainer));r.collapse(true);var a=F.documentFromRange(r);return function e(t){var i,n=a.createDocumentFragment();while(i=t.next()){if(t.hasPartialSubtree()){i=i.cloneNode(false);i.appendChild(e(t.getSubtreeIterator()))}else t.remove(r.originalRange);n.appendChild(i)}return n}(new p(e))},insertNode:function(e){var t=this;if(v(t.startContainer)){if(t.startOffset!=t.startContainer.nodeValue.length)g.splitDataNode(t.startContainer,t.startOffset);g.insertAfter(e,t.startContainer)}else g.insertAt(t.startContainer,e,t.startOffset);t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return r.extend(new f(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return[e=="#text"?this.startContainer.nodeValue:e,"(",this.startOffset,") : ",t=="#text"?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}});function s(e,t,i,n){if(e==t)return n-i;var r=t;while(r&&r.parentNode!=e)r=r.parentNode;if(r)return m(r)-i;r=e;while(r&&r.parentNode!=t)r=r.parentNode;if(r)return n-m(r)-1;var a=g.commonAncestor(e,t);var o=e;while(o&&o.parentNode!=a)o=o.parentNode;if(!o)o=a;var s=t;while(s&&s.parentNode!=a)s=s.parentNode;if(!s)s=a;if(o==s)return 0;return m(s)-m(o)}function d(e,t){function i(e){try{return s(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(e){return true}}if(i(e)){if(t){e.commonAncestorContainer=e.endContainer=e.startContainer;e.endOffset=e.startOffset}else{e.commonAncestorContainer=e.startContainer=e.endContainer;e.startOffset=e.endOffset}e.collapsed=true}}function c(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;var t=e.startContainer;while(t&&t!=e.endContainer&&!g.isAncestorOf(t,e.endContainer))t=t.parentNode;e.commonAncestorContainer=t}f.fromNode=function(e){return new f(e.ownerDocument)};var p=e.extend({init:function(e){r.extend(this,{range:e,_current:null,_next:null,_end:null});if(e.collapsed)return;var t=e.commonAncestorContainer;this._next=e.startContainer==t&&!v(e.startContainer)?e.startContainer.childNodes[e.startOffset]:n(t,e.startContainer);this._end=e.endContainer==t&&!v(e.endContainer)?e.endContainer.childNodes[e.endOffset]:n(t,e.endContainer).nextSibling},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null;if(v(e._current)){if(e.range.endContainer==e._current){t=t.cloneNode(true);t.deleteData(e.range.endOffset,t.length-e.range.endOffset)}if(e.range.startContainer==e._current){t=t.cloneNode(true);t.deleteData(0,e.range.startOffset)}}return t},traverse:function(e){var t=this,i;function n(){t._current=t._next;t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null;return t._current}while(i=n())if(t.hasPartialSubtree())t.getSubtreeIterator().traverse(e);else e(i);return i},remove:function(e){var t=this,i=t.range.startContainer==t._current,n=t.range.endContainer==t._current,r,a,o;if(v(t._current)&&(i||n)){r=i?t.range.startOffset:0;a=n?t.range.endOffset:t._current.length;o=a-r;if(e&&(i||n)){if(t._current==e.startContainer&&r<=e.startOffset)e.startOffset-=o;if(t._current==e.endContainer&&a<=e.endOffset)e.endOffset-=o}t._current.deleteData(r,o)}else{var s=t._current.parentNode;if(e&&(t.range.startContainer==s||t.range.endContainer==s)){var l=m(t._current);if(s==e.startContainer&&l<=e.startOffset)e.startOffset-=1;if(s==e.endContainer&&l<e.endOffset)e.endOffset-=1}g.remove(t._current)}},hasPartialSubtree:function(){return!v(this._current)&&(g.isAncestorOrSelf(this._current,this.range.startContainer)||g.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new p(this.getSubRange())},getSubRange:function(){var e=this,t=e.range.cloneRange();t.selectNodeContents(e._current);if(g.isAncestorOrSelf(e._current,e.range.startContainer))t.setStart(e.range.startContainer,e.range.startOffset);if(g.isAncestorOrSelf(e._current,e.range.endContainer))t.setEnd(e.range.endContainer,e.range.endOffset);return t}}),h=e.extend({init:function(e){this.ownerDocument=e;this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();k(t,e,false);k(t,e,true);t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;if(e.type!="None")e.empty()},getRangeAt:function(){var e,t=new f(this.ownerDocument),i=this.ownerDocument.selection,n,r;try{e=i.createRange();n=e.item?e.item(0):e.parentElement();if(n.ownerDocument!=this.ownerDocument)return t}catch(e){return t}if(i.type=="Control")t.selectNode(e.item(0));else{r=_(e);w(e,t,r,true);w(e,t,r,false);if(t.startContainer.nodeType==9)t.setStart(t.endContainer,t.startOffset);if(t.endContainer.nodeType==9)t.setEnd(t.startContainer,t.endOffset);if(e.compareEndPoints("StartToEnd",e)===0)t.collapse(false);var a=t.startContainer,o=t.endContainer,s=this.ownerDocument.body;if(!t.collapsed&&t.startOffset===0&&t.endOffset==u(t.endContainer)&&!(a==o&&v(a)&&a.parentNode==s)){var l=false,d=false;while(m(a)===0&&a==a.parentNode.firstChild&&a!=s){a=a.parentNode;l=true}while(m(o)==u(o.parentNode)-1&&o==o.parentNode.lastChild&&o!=s){o=o.parentNode;d=true}if(a==s&&o==s&&l&&d){t.setStart(a,0);t.setEnd(o,u(s))}}}return t}});function _(e){var t=e.duplicate(),i=e.duplicate();t.collapse(true);i.collapse(false);return g.commonAncestor(e.parentElement(),t.parentElement(),i.parentElement())}function k(e,t,i){var n=t[i?"startContainer":"endContainer"],r=t[i?"startOffset":"endOffset"],a=0,o=v(n),s=o?n:n.childNodes[r]||null,l=o?n.parentNode:n,d=t.ownerDocument,u=d.body.createTextRange(),f;if(n.nodeType==3||n.nodeType==4)a=r;if(!l)l=d.body;if(l.nodeName.toLowerCase()=="img"){u.moveToElementText(l);u.collapse(false);e.setEndPoint(i?"StartToStart":"EndToStart",u)}else{f=l.insertBefore(g.create(d,"a"),s);u.moveToElementText(f);g.remove(f);u[i?"moveStart":"moveEnd"]("character",a);u.collapse(false);e.setEndPoint(i?"StartToStart":"EndToStart",u)}}function w(e,t,i,n){var r=g.create(t.ownerDocument,"a"),a=e.duplicate(),o=n?"StartToStart":"StartToEnd",s,l,d,u,f,c,p,h=false;r.innerHTML="\ufeff";a.collapse(n);l=a.parentElement();if(!g.isAncestorOrSelf(i,l))l=i;do{if(h)l.insertBefore(r,r.previousSibling);else{l.appendChild(r);h=true}a.moveToElementText(r)}while((s=a.compareEndPoints(o,e))>0&&r.previousSibling);d=r.nextSibling;if(s==-1&&v(d)){a.setEndPoint(n?"EndToStart":"EndToEnd",e);g.remove(r);c=[d,a.text.length]}else{u=!n&&r.previousSibling;f=n&&r.nextSibling;if(v(f))c=[f,0];else if(v(u))c=[u,u.length];else{p=m(r);if(l.nextSibling&&p==l.childNodes.length-1)c=[l.nextSibling,0];else c=[l,p]}g.remove(r)}t[n?"setStart":"setEnd"].apply(t,c)}var y=e.extend({init:function(e){this.enumerate=function(){var t=[];function i(e){if(g.is(e,"img")||e.nodeType==3&&(!g.isEmptyspace(e)||e.nodeValue=="\ufeff"))t.push(e);else{e=e.firstChild;while(e){i(e);e=e.nextSibling}}}new p(e).traverse(i);return t}}}),x=p.extend({hasPartialSubtree:function(){var e=a.Immutables&&a.Immutables.immutable;return e&&!e(this._current)&&p.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new x(this.getSubRange())}}),C=e.extend({init:function(e){this.enumerate=function(){var t=[];var i=a.Immutables&&a.Immutables.immutable;function n(e){if(i&&!i(e))if(g.is(e,"img")||e.nodeType==3&&(!g.isEmptyspace(e)||e.nodeValue=="\ufeff"))t.push(e);else{e=e.firstChild;while(e){n(e);e=e.nextSibling}}}new x(e).traverse(n);return t}}}),T=e.extend({init:function(e,t,i){var n=this;n.range=e;n.rootNode=F.documentFromRange(e);n.body=t||n.getEditable(e);if(g.name(n.body)!="body")n.rootNode=n.body;n.startContainer=n.nodeToPath(e.startContainer);n.endContainer=n.nodeToPath(e.endContainer);n.startOffset=n.offset(e.startContainer,e.startOffset);n.endOffset=n.offset(e.endContainer,e.endOffset);n.immutables=i&&i.immutables;if(n.immutables)n.serializedImmutables=a.Immutables.removeImmutables(n.body);n.html=n.body.innerHTML;if(n.immutables&&!n.serializedImmutables.empty)a.Immutables.restoreImmutables(n.body,n.serializedImmutables)},index:function(e){var t=0,i=e.nodeType;while(e=e.previousSibling){var n=e.nodeType;if(n!=3||i!=n)t++;i=n}return t},getEditable:function(e){var t=e.commonAncestorContainer;while(t&&(t.nodeType==3||t.attributes&&(!t.attributes.contentEditable||t.attributes.contentEditable.nodeValue.toLowerCase()=="false")))t=t.parentNode;return t},restoreHtml:function(){var e=this;g.removeChildren(e.body);e.body.innerHTML=e.html;if(e.immutables&&!e.serializedImmutables.empty)a.Immutables.restoreImmutables(e.body,e.serializedImmutables)},offset:function(e,t){if(e.nodeType==3)while((e=e.previousSibling)&&e.nodeType==3)t+=e.nodeValue.length;return t},nodeToPath:function(e){var t=[];while(e!=this.rootNode){t.push(this.index(e));e=e.parentNode}return t},toRangePoint:function(e,t,i,n){var r=this.rootNode,a=i.length,o=n;while(a--&&r)r=r.childNodes[i[a]];while(r&&r.nodeType==3&&r.nodeValue.length<o){o-=r.nodeValue.length;r=r.nextSibling}if(r&&o>=0)e[t?"setStart":"setEnd"](r,o)},toRange:function(){var e=this,t=e.range.cloneRange();e.toRangePoint(t,true,e.startContainer,e.startOffset);e.toRangePoint(t,false,e.endContainer,e.endOffset);return t}}),S=e.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;var i=t.caret=g.create(F.documentFromRange(e),"span",{className:"k-marker"});e.insertNode(i);g.stripBomNode(i.previousSibling);g.stripBomNode(i.nextSibling);e.selectNode(i);return i},removeCaret:function(e){var t=this,i=t.caret.previousSibling,n=0;if(i)n=v(i)?i.nodeValue.length:m(i);var r=t.caret.parentNode;var a=i?m(i):0;g.remove(t.caret);b(r);var o=r.childNodes[a];if(v(o))e.setStart(o,n);else if(o){var s=g.lastTextNode(o);if(s)e.setStart(s,s.nodeValue.length);else e[i?"setStartAfter":"setStartBefore"](o)}else{if(!l.msie&&!r.innerHTML)r.innerHTML='<br _moz_dirty="" />';e.selectNodeContents(r)}e.collapse(true)},add:function(e,t){var i=this;var n=e.collapsed&&!F.isExpandable(e);var r=F.documentFromRange(e);if(t&&e.collapsed){i.addCaret(e);e=F.expand(e)}var a=e.cloneRange();a.collapse(false);i.end=g.create(r,"span",{className:"k-marker"});a.insertNode(i.end);a=e.cloneRange();a.collapse(true);i.start=i.end.cloneNode(true);a.insertNode(i.start);i._removeDeadMarkers(i.start,i.end);if(n){var o=r.createTextNode("\ufeff");g.insertAfter(o.cloneNode(),i.start);g.insertBefore(o,i.end)}b(e.commonAncestorContainer);e.setStartBefore(i.start);e.setEndAfter(i.end);return e},_removeDeadMarkers:function(e,t){if(e.previousSibling&&e.previousSibling.nodeValue=="\ufeff")g.remove(e.previousSibling);if(t.nextSibling&&t.nextSibling.nodeValue=="\ufeff")g.remove(t.nextSibling)},_normalizedIndex:function(e){var t=m(e);var i=e;while(i.previousSibling){if(i.nodeType==3&&i.previousSibling.nodeType==3)t--;i=i.previousSibling}return t},remove:function(e){var t=this,i=t.start,n=t.end,r,a,o;b(e.commonAncestorContainer);while(!i.nextSibling&&i.parentNode)i=i.parentNode;while(!n.previousSibling&&n.parentNode)n=n.parentNode;r=i.previousSibling&&i.previousSibling.nodeType==3&&(i.nextSibling&&i.nextSibling.nodeType==3);a=n.previousSibling&&n.previousSibling.nodeType==3&&(n.nextSibling&&n.nextSibling.nodeType==3);o=r&&a;i=i.nextSibling;n=n.previousSibling;var s=i===n&&g.isBom(i);if(s&&i.length>1)i.nodeValue=i.nodeValue.charAt(0);var l=s;var d=false;if(i==t.end){d=!!t.start.previousSibling;i=n=t.start.previousSibling||t.end.nextSibling;l=true}g.remove(t.start);g.remove(t.end);if(!i||!n){e.selectNodeContents(e.commonAncestorContainer);e.collapse(true);return}var u=l?v(i)?i.nodeValue.length:i.childNodes.length:0;var f=v(n)?n.nodeValue.length:n.childNodes.length;if(i.nodeType==3)while(i.previousSibling&&i.previousSibling.nodeType==3){i=i.previousSibling;u+=i.nodeValue.length}if(n.nodeType==3)while(n.previousSibling&&n.previousSibling.nodeType==3){n=n.previousSibling;f+=n.nodeValue.length}var c=i.parentNode;var p=n.parentNode;var h=this._normalizedIndex(i);var m=this._normalizedIndex(n);b(c);if(i.nodeType==3)i=c.childNodes[h];b(p);if(n.nodeType==3)n=p.childNodes[m];if(l){if(i.nodeType==3)e.setStart(i,u);else e[d?"setStartAfter":"setStartBefore"](i);e.collapse(true)}else{if(i.nodeType==3)e.setStart(i,u);else e.setStartBefore(i);if(n.nodeType==3)e.setEnd(n,f);else e.setEndAfter(n)}if(t.caret)t.removeCaret(e)}}),D=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,F={nodes:function(e){var t=F.textNodes(e);if(!t.length){e.selectNodeContents(e.commonAncestorContainer);t=F.textNodes(e);if(!t.length)t=g.significantChildNodes(e.commonAncestorContainer)}return t},textNodes:function(e){var t=new y(e).enumerate(),i=t.filter(function(e){return g.allowsTextContent(e.parentElement)});return i},editableTextNodes:function(e){var t=[],i=a.Immutables&&a.Immutables.immutableParent,n=[];if(i&&!i(e.commonAncestorContainer)){t=new C(e).enumerate();n=t.filter(function(e){return g.allowsTextContent(e.parentElement)})}return n},documentFromRange:function(e){var t=e.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(e){return e.createRange()},selectRange:function(e){var t=F.image(e);if(t){e.setStartAfter(t);e.setEndAfter(t)}var i=o.selectionFromRange(e);i.removeAllRanges();i.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",g.name(e.startContainer),e.startOffset,g.name(e.endContainer),e.endOffset)},split:function(n,r,a){function e(e){var t=n.cloneRange();t.collapse(e);t[e?"setStartBefore":"setEndAfter"](r);var i=t.extractContents();if(a)i=g.trim(i);g[e?"insertBefore":"insertAfter"](i,r)}e(true);e(false)},mapAll:function(e,i){var n=[];new p(e).traverse(function(e){var t=i(e);if(t&&r.inArray(t,n)<0)n.push(t)});return n},getAll:function(e,t){var i=t;if(typeof t=="string")t=function(e){return g.is(e,i)};return F.mapAll(e,function(e){if(t(e))return e})},getMarkers:function(e){return F.getAll(e,function(e){return e.className=="k-marker"})},image:function(e){var t=F.getAll(e,"img");if(t.length==1)return t[0]},isStartOf:function(e,t){if(e.startOffset!==0)return false;var i=e.cloneRange();while(i.startOffset===0&&i.startContainer!=t){var n=g.findNodeIndex(i.startContainer);var r=i.startContainer.parentNode;while(n>0&&r[n-1]&&g.insignificant(r[n-1]))n--;i.setStart(r,n)}return i.startOffset===0&&i.startContainer==t},isEndOf:function(e,t){var i=e.cloneRange();i.collapse(false);var n=i.startContainer;if(g.isDataNode(n)&&i.startOffset==g.getNodeLength(n)){i.setStart(n.parentNode,g.findNodeIndex(n)+1);i.collapse(true)}i.setEnd(t,g.getNodeLength(t));var r=[];function a(e){if(!g.insignificant(e)&&!(g.isDataNode(e)&&/^[\ufeff]*$/.test(e.nodeValue)))r.push(e)}new p(i).traverse(a);return!r.length},wrapSelectedElements:function(e){var t=g.editableParent(e.startContainer);var i=g.editableParent(e.endContainer);while(e.startOffset===0&&e.startContainer!=t)e.setStart(e.startContainer.parentNode,g.findNodeIndex(e.startContainer));function n(e,t){var i=g.getNodeLength(t);if(e==i)return true;for(var n=e;n<i;n++)if(!g.insignificant(t.childNodes[n]))return false;return true}while(n(e.endOffset,e.endContainer)&&e.endContainer!=i)e.setEnd(e.endContainer.parentNode,g.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t=e.cloneRange();var i=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1];var n=t.endContainer.childNodes[t.endOffset];if(!v(i)||!v(n))return t;var r=i.nodeValue;var a=n.nodeValue;if(!r||!a)return t;var o=r.split("").reverse().join("").search(D);var s=a.search(D);if(!o||!s)return t;s=s==-1?a.length:s;o=o==-1?0:r.length-o;t.setStart(i,o);t.setEnd(n,s);return t},isExpandable:function(e){var t=e.startContainer;var i=F.documentFromRange(e);if(t==i||t==i.body)return false;var n=e.cloneRange();var r=t.nodeValue;if(!r)return false;var a=r.substring(0,n.startOffset);var o=r.substring(n.startOffset);var s=0,l=0;if(a)s=a.split("").reverse().join("").search(D);if(o)l=o.search(D);return s&&l}};i(a,{SelectionUtils:o,W3CRange:f,RangeIterator:p,W3CSelection:h,RangeEnumerator:y,RestorePoint:T,Marker:S,RangeUtils:F})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/immutables.min",["./range.min"],function(){var o=window.kendo.jQuery,i=void 0,d=window.kendo,e=d.Class,r=d.ui.editor,u=r.Dom,a=d.template,s=r.RangeUtils,f=["ul","ol","tbody","thead","table"],t=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],l="k-immutable",c="["+l+"]",p="[contenteditable='false']",n=function(e){return o(e).is("body,.k-editor")},h=function(e){return e.getAttribute&&e.getAttribute("contenteditable")=="false"},m=function(e){return u.closestBy(e,h,n)},g=function(e){var t=m(e.startContainer);var i=m(e.endContainer);if(t||i){if(t)e.setStartBefore(t);if(i)e.setEndAfter(i)}},v=function(e){if(m(e.commonAncestorContainer))return true;else if(m(e.startContainer)||m(e.endContainer)){var t=s.editableTextNodes(e);if(t.length===0)return true}return false},b=function(e){var t="";var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=e||10;n>0;--n)t+=i.charAt(Math.round(Math.random()*(i.length-1)));return t},_=function(e){var i={empty:true},n,r,a;o(e).find(p).each(function(e,t){n=u.name(t);r=b();a="<"+n+" "+l+"='"+r+"'></"+n+">";i[r]={node:t,style:o(t).attr("style")};i.empty=false;o(t).replaceWith(a)});return i},k=function(e,i){var n,r;o(e).find(c).each(function(e,t){n=t.getAttribute(l);r=i[n];o(t).replaceWith(r.node);if(r.style!=o(r.node).attr("style"))o(r.node).removeAttr("style").attr("style",r.style)})},w=function(e){var t=d.keys;return e===t.BACKSPACE||e==t.DELETE},y=function(e){var t=e?e.options:i;if(t&&t.finder)t.finder._initOptions({immutables:true})},x=e.extend({init:function(e){this.editor=e;this.serializedImmutables={};this.options=o.extend({},e&&e.options&&e.options.immutables);var t=e.toolbar.tools;y(t.justifyLeft);y(t.justifyCenter);y(t.justifyRight);y(t.justifyFull)},serialize:function(e){var t=this._toHtml(e),i;if(t.indexOf(l)===-1){i=this.randomId();t=t.replace(/>/," "+l+'="'+i+'">')}else i=t.match(/k-immutable\s*=\s*['"](.*)['"]/)[1];this.serializedImmutables[i]=e;return t},_toHtml:function(e){var t=this.options.serialization;var i=typeof t;var n;switch(i){case"string":return a(t)(e);case"function":return t(e);default:n=u.name(e);return"<"+n+"></"+n+">"}},deserialize:function(e){var i=this;var n=this.options.deserialization;o(c,e).each(function(){var e=this.getAttribute(l);var t=i.serializedImmutables[e];if(d.isFunction(n))n(this,t);o(this).replaceWith(t)});i.serializedImmutables={}},randomId:function(e){return b(e)},keydown:function(e,t){var i=w(e.keyCode);var n=i&&this._cancelDeleting(e,t)||!i&&this._cancelTyping(e,t);if(n){e.preventDefault();return true}},_cancelTyping:function(e,t){var i=this.editor;var n=i.keyboard;return t.collapsed&&!n.typingInProgress&&n.isTypingKey(e)&&v(t)},_cancelDeleting:function(e,t){var i=d.keys;var n=e.keyCode===i.BACKSPACE;var r=e.keyCode==i.DELETE;if(!n&&!r)return false;var a=false;if(t.collapsed){if(v(t))return true;var o=this.nextImmutable(t,r);if(o&&n){var s=u.closest(t.commonAncestorContainer,"li");if(s){var l=u.closest(o,"li");if(l&&l!==s)return a}}if(o&&!u.tableCell(o)){if(u.parentOfType(o,f)===u.parentOfType(t.commonAncestorContainer,f)){while(o&&o.parentNode.childNodes.length==1)o=o.parentNode;if(u.tableCell(o))return a;this._removeImmutable(o,t)}a=true}}return a},nextImmutable:function(e,t){var i=e.commonAncestorContainer;if(u.isBom(i)||(t&&s.isEndOf(e,i)||!t&&s.isStartOf(e,i))){var n=this._nextNode(i,t);if(n&&u.isBlock(n)&&!m(n))while(n&&n.children&&n.children[t?0:n.children.length-1])n=n.children[t?0:n.children.length-1];return m(n)}},_removeImmutable:function(e,t){var i=this.editor;var n=new r.RestorePoint(t,i.body);u.remove(e);r._finishUpdate(i,n)},_nextNode:function(e,t){var i=t?"nextSibling":"previousSibling";var n=e,r;while(n&&!r){r=n[i];if(r&&u.isDataNode(r)&&/^\s|[\ufeff]$/.test(r.nodeValue)){n=r;r=n[i]}if(!r)n=n.parentNode}return r}});x.immutable=h,x.immutableParent=m,x.expandImmutablesIn=g,x.immutablesContext=v,x.toolsToBeUpdated=t,x.removeImmutables=_,x.restoreImmutables=k,r.Immutables=x})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/command.min",["./immutables.min"],function(){var n=window.kendo.jQuery,r=window.kendo,e=r.Class,t=r.ui.editor,i=t.Dom,a=t.RestorePoint,o=t.Marker,s=n.extend;function l(e,t){var i=e.selectionRestorePoint=new a(e.getRange(),e.body);var n=new u(t,i);n.editor=e;e.undoRedoStack.push(n);e.toolbar.refreshTools();return i}var d=e.extend({init:function(e){this.options=e;this.restorePoint=new a(e.range,e.body,{immutables:e.immutables});this.marker=new o;this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e);this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml();this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(e,t){var i=this.editor;return n(e).appendTo(document.body).kendoWindow(s({},i.options.dialogOptions,t)).closest(".k-window").toggleClass("k-rtl",r.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(e);this.releaseRange(e)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(e){if(this.immutables()){r.ui.editor.Immutables.expandImmutablesIn(e);this.restorePoint=new a(e,this.editor.body)}}}),u=e.extend({init:function(e,t){this.body=e.body;this.startRestorePoint=e;this.endRestorePoint=t},redo:function(){i.removeChildren(this.body);this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){i.removeChildren(this.body);this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});s(t,{_finishUpdate:l,Command:d,GenericCommand:u})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/toolbar.min",["./range.min"],function(){var _=window.kendo.jQuery,f=void 0,k=window.kendo,e=k.ui,c=e.editor,n=e.Widget,l=_.extend,u=k.keys,s=".kendoEditor",t=c.EditorUtils,i=c.ToolTemplate,r=c.Tool,a=k._outerWidth,d=k._outerHeight,w="overflowAnchor",p=".k-tool-group:visible .k-tool:not(.k-disabled):not([disabled]),"+".k-tool.k-overflow-anchor:visible,"+".k-tool-group:visible .k-colorpicker:not(input),"+".k-tool-group:visible .k-selectbox,"+".k-tool-group:visible .k-dropdownlist,"+".k-tool-group:visible .k-combobox .k-input-inner",o={"k-i-sup-script":"superscript","k-i-sub-script":"subscript","k-i-align-left":"justifyLeft","k-i-align-center":"justifyCenter","k-i-align-right":"justifyRight","k-i-align-justify":"justifyFull","k-i-list-unordered":"insertUnorderedList","k-i-list-ordered":"insertOrderedList","k-i-list-roman-upper":"insertUpperRomanList","k-i-list-roman-lower":"insertLowerRomanList","k-i-import":"import","k-i-indent-increase":"indent","k-i-indent-decrease":"outdent","k-i-link-horizontal":"createLink","k-i-unlink-horizontal":"unlink","k-i-image":"insertImage","k-i-file-add":"insertFile","k-i-html":"viewHtml","k-i-foreground-color":"foreColor","k-i-paint":"backColor","k-i-table-insert":"createTable","k-i-table-column-insert-left":"addColumnLeft","k-i-table-column-insert-right":"addColumnRight","k-i-table-row-insert-above":"addRowAbove","k-i-table-row-insert-below":"addRowBelow","k-i-table-row-delete":"deleteRow","k-i-table-column-delete":"deleteColumn","k-i-table-properties":"tableWizard","k-i-table-wizard":"tableWizardInsert","k-i-table-position-left":"tableAlignLeft","k-i-table-position-center":"tableAlignCenter","k-i-table-position-right":"tableAlignRight","k-i-clear-css":"cleanFormatting","k-i-cells-merge-horizontally":"mergeCellsHorizontally","k-i-cells-merge-vertically":"mergeCellsVertically","k-i-cell-split-horizontally":"splitCellHorizontally","k-i-cell-split-vertically":"splitCellVertically","k-i-copy-format":"copyFormat","k-i-apply-format":"applyFormat",".k-i-undo":"undo","k-i-redo":"redo"},h=r.extend({initialize:function(e,t){var i=t.editor.toolbar;e.attr("aria-controls",t.editor.element.attr("id")).on("click",function(){this.overflowPopup.toggle()}.bind(i))},options:{name:w},command:_.noop,update:_.noop,destroy:_.noop}),m=(t.registerTool(w,new h({key:"",ctrl:true,template:new i({template:t.overflowAnchorTemplate})})),n.extend({init:function(e,t){var i=this;t=l({},t,{name:"EditorToolbar"});n.fn.init.call(i,e,t);if(t.popup)i._initPopup();if(t.resizable&&t.resizable.toolbar){i._resizeHandler=k.onResize(function(){i.resize(true)});i.element.addClass("k-toolbar-resizable")}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],undo:["undo","redo"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","insertUpperRomanList","insertLowerRomanList","indent","outdent"],tablesInsert:["createTable"],tablesAddDelete:["addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],tablesMerge:["mergeCellsHorizontally","mergeCellsVertically","splitCellHorizontally","splitCellVertically"],tablesPosition:["tableAlignLeft","tableAlignCenter","tableAlignRight"],advanced:["viewHtml","cleanFormatting","print","pdf","exportAs","import"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"],formatPainter:["copyFormat","applyFormat"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){var t=this;this.window=_(this.element).wrap("<div class='editorToolbarWindow' />").parent().prepend("<span class='k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag'></span></span>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(e){if(!_(e.target).is(".k-icon"))t.preventPopupHide=true}).on("focusout",function(){t.options.editor.element.focusout()}).data("kendoWindow")},_toggleOverflowStyles:function(e,t){e.find("> li").toggleClass("k-item",t).find(".k-tool:not(.k-disabled), .k-overflow-button").toggleClass("k-overflow-button",t)},_initOverflowPopup:function(t){var i=this;var e="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";i.overflowPopup=_(e).appendTo("body").kendoPopup({anchor:t,origin:k.support.isRtl(i.element)?"bottom left":"bottom right",position:k.support.isRtl(i.element)?"top left":"top right",copyAnchorStyles:false,open:function(e){if(this.element.is(":empty"))e.preventDefault();i._toggleOverflowStyles(this.element,true);t.attr("aria-expanded",true)},close:function(){t.attr("aria-expanded",false)},activate:i.focusOverflowPopup.bind(i)}).data("kendoPopup")},items:function(){var e=this.options.resizable&&this.options.resizable.toolbar,t,i;i=this.element.children().find("> *, select");if(e){t=this.overflowPopup;i=i.add(t.element.children().find("> *"))}return i},focused:function(){var e=k._activeElement(),t=this.window,i=this.overflowPopup;return t&&_(e).closest(t.wrapper).length||i&&i.visible()},toolById:function(e){var t,i=this.tools;for(t in i)if(t.toLowerCase()==e)return i[t]},toolGroupFor:function(e){var t,i=this.groups;if(this.isCustomTool(e))return"custom";for(t in i)if(_.inArray(e,i[t])>=0)return t},bindTo:function(l){var d=this,e=d.window;if(d._editor)d._editor.unbind("select",d.resize.bind(d));d._editor=l;if(d.options.resizable&&d.options.resizable.toolbar)l.options.tools.push(w);d.tools=d.expandTools(l.options.tools);d.render();d.element.find(".k-combobox .k-input-inner").on("keydown",function(e){var t=_(this).closest(".k-combobox").data("kendoComboBox"),i=e.keyCode;if(i==u.RIGHT||i==u.LEFT)t.close();else if(i==u.DOWN)if(!t.dropDown.isOpened()){e.stopImmediatePropagation();t.open()}});d._attachEvents();d.items().each(function e(){var t=d._toolName(this),i=t!=="moreVertical"?d.tools[t]:d.tools.overflowAnchor,n=i&&i.options,r=l.options.messages,a=n&&n.tooltip||r[t],o=_(this);if(!i||!i.initialize)return;if(t=="fontSize"||t=="fontName"){var s=r[t+"Inherit"];o.find("input").val(s).end().find("span.k-input-inner").text(s).end()}i.initialize(o,{title:d._appendShortcutSequence(a,i),editor:d._editor});o.closest(".k-dropdownlist",d.element).addClass("k-editor-widget");o.closest(".k-combobox",d.element).addClass("k-editor-widget");o.closest(".k-colorpicker",d.element).next(".k-colorpicker").addClass("k-editor-widget")});l.bind("select",d.resize.bind(d));d.update();if(e)e.wrapper.css({top:"",left:"",width:""})},show:function(){var e=this,t=e.window,i=e.options.editor,n,r,a,o=k.support.browser;if(t){n=t.wrapper;r=i.element;if(!n.is(":visible")||!e.window.options.visible){if(!n[0].style.width)n.width(this._getWindowWidth());if(!t._moved){a=r.offset();n.css({top:Math.max(0,parseInt(a.top,10)-d(n)-parseInt(e.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(a.left,10))})}if((o.msie||o.edge)&&e._overlaps(r))setTimeout(function(){t.open()},0);else t.open()}}},_getWindowWidth:function(){var e=this,t=e.window.wrapper,i=e.options.editor.element;return a(i)-parseInt(t.css("border-left-width"),10)-parseInt(t.css("border-right-width"),10)},_overlaps:function(e){var t=this.window.wrapper,i=t.offset(),n=i.left,r=i.top,a=e.offset(),o=a.left,s=a.top;return!(o+e.width()<n||o>n+t.width()||s+e.height()<r||s>r+t.height())},hide:function(){if(this.window)this.window.close()},focus:function(){var e="tabIndex";var t=this.element;var i=this._editor.element.attr(e);t.attr(e,i||0).trigger("focus").find(p).first().trigger("focus");if(!i&&i!==0)t.removeAttr(e)},focusOverflowPopup:function(){var e="tabIndex";var t=this.overflowPopup.element;var i=this._editor.element.attr(e);t.closest(".k-animation-container").addClass("k-overflow-wrapper");t.attr(e,i||0).find(p).first().trigger("focus");if(!i&&i!==0)t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var i=e+" (";if(t.ctrl)i+="Ctrl + ";if(t.shift)i+="Shift + ";if(t.alt)i+="Alt + ";i+=t.key+")";return i},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function(e){return!(e in k.ui.Editor.defaultTools)},expandTools:function(e){var t,i,n=this._nativeTools,r,a=k.deepExtend({},k.ui.Editor.defaultTools),o={},s;for(i=0;i<e.length;i++){t=e[i];s=t.name;if(_.isPlainObject(t))if(s&&a[s]){o[s]=l({},a[s]);l(o[s].options,t)}else{r=l({cssClass:"k-i-gear",type:"button",title:""},t);if(!r.name)r.name="custom";r.cssClass="k-"+r.name;if(!r.template&&r.type=="button"){r.template=c.EditorUtils.buttonTemplate;r.title=r.title||r.tooltip}o[s]={options:r}}else if(a[t])o[t]=a[t]}for(i=0;i<n.length;i++)if(!o[n[i]])o[n[i]]=a[n[i]];return o},render:function(){var e=this,t=e.tools,i,n,r,a,o=e._editor.element,s=e.element.empty(),l,d,u=e._editor.options.tools,f,c,p=0,h=e.options.resizable&&e.options.resizable.toolbar,m=this.overflowFlaseTools;function g(e){var t="";if(e.getHtml)t=e.getHtml();else{if(!k.isFunction(e))e=k.template(e);t=e(i)}return k.trim(t)}function v(){if(f.children().length){if(h){f.data("position",p);p++}f.appendTo(s)}}function b(e){if(e!==w){f=_("<li class='k-tool-group' role='presentation' />");f.data("overflow",_.inArray(e,m)===-1?true:false)}else f=_("<li class='k-overflow-tools' />")}s.empty();if(u.length)a=u[0].name||u[0];b(a,m);for(c=0;c<u.length;c++){a=u[c].name||u[c];i=t[a]&&t[a].options;if(!i&&_.isPlainObject(a))i=a;n=i&&i.template;if(a=="break"){v();_("<li class='k-row-break' role='presentation' />").appendTo(e.element);b(a,m)}if(!n)continue;d=e.toolGroupFor(a);if(l!=d||a==w){v();b(a,m);l=d}if(a==w)n.options.title=e.options.messages.overflowAnchor;n=g(n);r=_(n).appendTo(f);if(d=="custom"){v();b(a,m)}if(i.exec&&r.hasClass("k-tool"))r.on("click",i.exec.bind(o[0]))}v();_(e.element).children(":has(> .k-tool)").not(".k-overflow-tools").addClass("k-button-group");e.updateGroups();if(h)e._initOverflowPopup(e.element.find(".k-overflow-anchor"));e.angular("compile",function(){return{elements:e.element}})},updateGroups:function(){_(this.element).children().not(".k-overflow-tools").each(function(){_(this).children().removeClass("k-group-start k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var e=_(this).data("kendoSelectBox");if(e)e.decorate(t)})},destroy:function(){n.fn.destroy.call(this);var e,t=this.tools;for(e in t)if(t[e].destroy)t[e].destroy();if(this.window)this.window.destroy();if(this._resizeHandler)k.unbindResize(this._resizeHandler);if(this.overflowPopup)this.overflowPopup.destroy()},_attachEvents:function(){var e=this,t=e.overflowPopup?e.overflowPopup.element:_([]);e.attachToolsEvents(e.element.add(t))},attachToolsEvents:function(e){var d=this,t="[role=button].k-tool",i=t+":not(.k-disabled)"+", [role=button].k-i-import:not(.k-disabled)",n=t+".k-disabled",r=".k-dropdownlist",a=".k-colorpicker",o=[t,r,a].join(",");e.off(s).on("mouseenter"+s,i,function(){_(this).addClass("k-hover")}).on("mouseleave"+s,i,function(){_(this).removeClass("k-hover")}).on("mousedown"+s,o,function(e){e.preventDefault()}).on("keydown"+s,p,function(e){var a=this;var t=d.options.resizable&&d.options.resizable.toolbar;var i=k.support.isRtl(d.element)?-1:1;var n;var r,o,s=e.keyCode;function l(e,t,i){var n=t.find(p);var r=n.index(a)+e;if(i)r=Math.max(0,Math.min(n.length-1,r));return n[r]}if(s==u.RIGHT||s==u.LEFT)if(!_(a).is(".k-dropdownlist"))r=l(s==u.RIGHT?1*i:-1*i,d.element,true);else r=_(a);else if(t&&(s==u.UP||s==u.DOWN))r=l(s==u.DOWN?1:-1,d.overflowPopup.element,true);else if(s==u.HOME){r=d.element.find(p)[0];e.preventDefault()}else if(s==u.END){n=d.element.find(p).filter(function(){return _(this).css("visibility")!=="hidden"});r=n[n.length-1];e.preventDefault()}else if(s==u.ESC){if(d.overflowPopup&&d.overflowPopup.visible())d.overflowPopup.close();r=d._editor}else if(s==u.TAB&&!(e.ctrlKey||e.altKey)){if(t)o=_(a.parentElement).hasClass("k-overflow-tool-group")?d.overflowPopup.element:d.element;else o=d.element;if(e.shiftKey)r=l(-1,o);else{r=l(1,o);if(!r||_(r).closest(".k-overflow-tools").css("visibility")==="hidden")r=d._editor}}if(r){e.preventDefault();r.focus()}if((s===u.ENTER||s===u.SPACEBAR)&&(_(a).is("button")||_(a).is("a"))&&!_(a).attr("href"))d._executeToolCommand(a,e)}).on("click"+s,i,function(e){d._executeToolCommand(this,e)}).on("click"+s,n,function(e){e.preventDefault()})},_executeToolCommand:function(e,t){var i=this;var n=_(e);t.preventDefault();t.stopPropagation();n.removeClass("k-hover");if(!n.is("[data-popup]"))i._editor.exec(i._toolName(e))},_toolName:function(e){if(!e)return;var t=e.className;if(/k-tool\b/i.test(t))t=e.firstChild.className;var i=_.grep(t.split(" "),function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)});if(i[0]){var n=i[0];if(o[n])n=o[n];if(n.indexOf("k-i-")>=0)return k.toCamelCase(n.substring(n.indexOf("k-i-")+4));else return n.substring(n.lastIndexOf("-")+1)}return"custom"},refreshTools:function(){var i=this,n=i._editor,e=n.getRange(),r=c.RangeUtils.textNodes(e),a=n.options.immutables,o=i._immutablesContext(e);r=c.Dom.filterBy(r,c.Dom.htmlIndentSpace,true);if(!r.length)r=[e.startContainer];i.items().each(function(){var e=i.tools[i._toolName(this)];if(e){var t=_(this);if(e.update)e.update(t,r,n.undoRedoStack);if(a)i._updateImmutablesState(e,t,o)}});this.update()},_immutablesContext:function(e){if(this._editor.options.immutables)if(e.collapsed)return c.Immutables.immutablesContext(e);else return c.RangeUtils.editableTextNodes(e).length===0},_updateImmutablesState:function(e,t,i){var n=e.name;var r=t;var a=e.options.trackImmutables;if(a===f)a=_.inArray(n,c.Immutables.toolsToBeUpdated)>-1;if(a){var o=i?"none":"";if(!t.is(".k-tool")){var s=t.data();for(var l in s)if(l.match(/^kendo[A-Z][a-zA-Z]*/)){var d=s[l];r=d.wrapper;break}}r.css("display",o);var u=r.closest("li");if(u.children(":visible").length===0)u.css("display",o)}},update:function(){this.updateGroups()},_resize:function(e){var t=e.width;var i=this.options.resizable&&this.options.resizable.toolbar;var n=this.overflowPopup;var r=this.options.editor.element;var a=this.window;this.refreshTools();if(!i)return;if(a){a.wrapper.width(this._getWindowWidth());if(!a._moved)a.wrapper.css({left:Math.max(0,parseInt(r.offset().left,10))})}if(n.visible())n.close(true);this._refreshWidths();this._shrink(t);this._stretch(t);this._toggleOverflowStyles(this.element,false);this._toggleOverflowStyles(this.overflowPopup.element,true);this.element.children("li.k-overflow-tools").css("visibility",n.element.is(":empty")?"hidden":"visible")},_refreshWidths:function(){this.element.children("li").each(function(e,t){var i=_(t);i.data("outerWidth",a(i,true))})},_shrink:function(e){var t,i;if(e<this._groupsWidth()){i=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var n=i.length-1;n>=0;n--){t=i.eq(n);if(e>this._groupsWidth())break;else this._hideGroup(t)}}},_stretch:function(e){var t,i;if(e>this._groupsWidth()){i=this._hiddenGroups();for(var n=0;n<i.length;n++){t=i.eq(n);if(e<this._groupsWidth()||!this._showGroup(t,e))break}}},_hiddenGroups:function(){var e=this.overflowPopup;var t=this.element.children("li.k-tool-group").filter(":hidden");t=t.add(e.element.children("li"));t.sort(function(e,t){return _(e).data("position")>_(t).data("position")?1:-1});return t},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var e=0;this._visibleGroups().each(function(){e+=_(this).data("outerWidth")});return Math.ceil(e)},_hideGroup:function(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group")}else e.addClass("k-hidden")},_showGroup:function(e,t){var i,n,r;if(e.hasClass("k-disabled"))return true;if(e.hasClass("k-overflow-tool-group"))r=e.data("outerWidth");else{e.removeClass("k-hidden");r=a(e,true);e.addClass("k-hidden")}if(e.length&&t>this._groupsWidth()+r){if(e.hasClass("k-overflow-tool-group")){i=e.data("position");if(i===0)e.detach().prependTo(this.element);else{n=this.element.children().filter(function(e,t){return _(t).data("position")===i-1});e.detach().insertAfter(n)}e.removeClass("k-overflow-tool-group")}else e.removeClass("k-hidden");return true}return false}}));_.extend(c,{Toolbar:m})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/viewhtml.min",["../command.min"],function(){var u=window.kendo.jQuery,f=void 0,c=window.kendo,e=u.extend,t=c.ui.editor,p=t.EditorUtils,i=t.Command,n=t.Tool,r=t.ToolTemplate,h=t.Dom,m=i.extend({init:function(e){var t=this;t.options=e;i.fn.init.call(t,e);t.attributes=null;t.async=true},exec:function(){var t=this,i=t.editor,n=i.options,e=i.options.messages,r=u(c.template(m.template)(e)).appendTo(document.body),a=".k-editor-textarea > textarea",o,s;n.serialization.immutables=i.immutables;s=h.getAllComments(i.body);o=p.cacheComments(i.value(),s);o=m.indent(o);o=p.retrieveComments(o,s);n.serialization.immutables=f;function l(e){n.deserialization.immutables=i.immutables;i.value(r.find(a).val());n.deserialization.immutables=f;d(e);if(t.change)t.change();i.trigger("change")}function d(e){e.preventDefault();r.data("kendoWindow").destroy();if(i.immutables)i.immutables.serializedImmutables={};i.focus()}this.createDialog(r,{title:e.viewHtml,width:600,height:400,resizable:true,close:d,visible:false}).find(a).val(o).end().find(".k-dialog-update").on("click",l).end().find(".k-dialog-close").on("click",d).end().data("kendoWindow").center().open();r.find(a).trigger("focus")}});e(m,{template:""+"<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'>"+"<span class='k-input k-textarea k-input-solid k-input-md k-rounded-md k-editor-textarea'><textarea class='k-input-inner !k-overflow-auto !k-resize-none'></textarea></span>"+"<div class='k-edit-buttons'>"+"<button class='k-dialog-update k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary'><span class='k-button-text'>#: dialogUpdate #</span></button>"+"<button class='k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class='k-button-text'>#: dialogCancel #</span></button>"+"</div>"+"</div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.EditorUtils.registerTool("viewHtml",new n({command:c.ui.editor.ViewHtmlCommand=m,template:new r({template:p.buttonTemplate,title:"View HTML"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/format.min",["../command.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=e.extend,n=t.ui.editor,r=n.Tool,a=n.Command,o=n.EditorUtils,s=a.extend({init:function(e){e.formatter=e.formatter();var t=e.formatter.finder;if(t&&o.formatByName("immutable",t.format))t._initOptions({immutables:e.immutables});a.fn.init.call(this,e)}}),l=r.extend({init:function(e){r.fn.init.call(this,e)},command:function(e){var t=this;return new s(i(e,{formatter:t.options.formatter}))},update:function(e,t){var i=this.options.finder.isFormatted(t);e.toggleClass("k-selected",i);e.attr("aria-pressed",i)}});e.extend(n,{FormatCommand:s,FormatTool:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/inlineformat.min",["./format.min"],function(){var l=window.kendo.jQuery,m=window.kendo,e=m.Class,r=m.ui.editor,t=m.ui.Editor.fn.options.formats,d=r.EditorUtils,u=r.Tool,i=r.ToolTemplate,n=r.FormatTool,g=r.Dom,a=r.RangeUtils,f=l.extend,o=r.EditorUtils.registerTool,s=r.EditorUtils.registerFormat,c="mousedown.kendoEditor",p="keydown.kendoEditor",h="k-marker",v=e.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t=0,i=0,n=0,r=e.parentNode,a;for(a=r.firstChild;a;a=a.nextSibling)if(a!=e)if(a.className==h)n++;else if(a.nodeType==3)t++;else i++;if(n>1&&r.firstChild.className==h&&r.lastChild.className==h)return 0;else return i+t},findSuitable:function(e,t){if(!t&&this.numberOfSiblings(e)>0)return null;var i=e.parentNode;var n=this.format[0].tags;while(!g.ofType(i,n)){if(this.numberOfSiblings(i)>0)return null;i=i.parentNode}return i},findFormat:function(e){var t=this.format,i=g.attrEquals,n,r,a,o,s;for(n=0,r=t.length;n<r;n++){a=e;o=t[n].tags;s=t[n].attr;if(a&&g.ofType(a,o)&&i(a,s))return a;while(a){a=g.parentOfType(a,o);if(a&&i(a,s))return a}}return null},isFormatted:function(e){var t,i;for(t=0,i=e.length;t<i;t++)if(this.findFormat(e[t]))return true;return false}}),b=e.extend({init:function(e,t){this.finder=new v(e);this.attributes=f({},e[0].attr,t);this.tag=e[0].tags[0]},wrap:function(e){return g.wrap(e,g.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){if(this.finder.isFormatted(t)){this.split(e);this.remove(t)}else this.apply(t)},toggle:function(e){var t=this.immutables()?a.editableTextNodes:a.textNodes;var i=t(e);if(i.length>0)this.activate(e,i)},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(e){var t=[];var i,n,r,a;if(e.length>1)for(i=0,n=e.length;i<n;i++){r=e[i];a=this.format(r,true);t.push(a)}else{r=e[0];a=this.format(r,false)}this.consolidate(t)},format:function(e,t){var i=this.finder.findSuitable(e);var n=this.attributes;var r=n?n.style||{}:{};if(i){if(g.is(i,"font")){if(r.color)i.removeAttribute("color");if(r.fontName)i.removeAttribute("face");if(r.fontSize)i.removeAttribute("size")}g.attr(i,n)}else{while(!g.isBlock(e.parentNode)&&e.parentNode.childNodes.length==1&&e.parentNode.contentEditable!=="true"&&t)e=e.parentNode;i=this.wrap(e)}return i},remove:function(e){var t,i,n;for(t=0,i=e.length;t<i;t++){n=this.finder.findFormat(e[t]);if(n)if(this.attributes&&this.attributes.style){g.unstyle(n,this.attributes.style);if(!n.style.cssText&&!n.attributes["class"])g.unwrap(n)}else g.unwrap(n)}},split:function(e){var t=a.textNodes(e);var i=t.length;var n,r;if(i>0)for(n=0;n<i;n++){r=this.finder.findFormat(t[n]);if(r)a.split(e,r,true)}},consolidate:function(e){var t,i;while(e.length>1){t=e.pop();i=e[e.length-1];if(t.previousSibling&&t.previousSibling.className==h)i.appendChild(t.previousSibling);if(t.tagName==i.tagName&&t.previousSibling==i&&t.style.cssText==i.style.cssText&&t.className===i.className){while(t.firstChild)i.appendChild(t.firstChild);g.remove(t)}}}}),_=v.extend({init:function(e,t,i){this.format=e;this.greedyProperty=t;this.fontAttr=i;v.fn.init.call(this,e)},getInlineCssValue:function(e){var t=e.attributes;var i=m.trim;var n,r,a,o,s,l,d,u,f;var c,p,h;if(!t)return;for(n=0,r=t.length;n<r;n++){a=t[n];o=a.nodeName;s=a.nodeValue;if(a.specified&&o=="style"){l=i(s||e.style.cssText).split(";");for(u=0,f=l.length;u<f;u++){d=l[u];if(d.length){c=d.split(":");p=i(c[0].toLowerCase());h=i(c[1]);if(p!=this.greedyProperty)continue;return p.indexOf("color")>=0?g.toHex(h):h}}}if(this.fontAttr&&a.specified&&o==this.fontAttr){p=a.nodeValue;h=a.nodeValue;return p.indexOf("color")>=0?g.toHex(h):h}}},getFormatInner:function(e){var t=l(g.isDataNode(e)?e.parentNode:e);var i=t.parentsUntil("[contentEditable]").addBack().toArray().reverse();var n,r,a;for(n=0,r=i.length;n<r;n++){a=this.greedyProperty=="className"?i[n].className:this.getInlineCssValue(i[n]);if(a)return a}return"inherit"},getFormat:function(e){var t=this.getFormatInner(e[0]),i,n;for(i=1,n=e.length;i<n;i++)if(t!=this.getFormatInner(e[i]))return"";return t},isFormatted:function(e){return this.getFormat(e)!==""}}),k=b.extend({init:function(e,t,i){b.fn.init.call(this,e,t);this.values=t;this.finder=new _(e,i);if(i)this.greedyProperty=m.toCamelCase(i)},activate:function(e,t){var i=this.greedyProperty;var n="apply";this.split(e);if(i&&this.values.style[i]=="inherit")n="remove";this[n](t)}}),w=n.extend({init:function(e){n.fn.init.call(this,f(e,{finder:new v(e.format),formatter:function(){return new b(e.format)}}))}}),y=u.extend({update:function(e,t){var i=e.data(this.type);i.close();i.value(this.finder.getFormat(t))}}),x=y.extend({init:function(e){u.fn.init.call(this,e);this.type=m.support.browser.msie||m.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span","font"]}];this.finder=new _(this.format,e.cssAttr,e.fontAttr)},command:function(e){var t=this.options,i=this.format,n={};return new r.FormatCommand(f(e,{formatter:function(){n[t.domAttr]=e.value;return new k(i,{style:n},t.cssAttr)}}))},initialize:function(e,t){var i=t.editor,n=this.options,r=n.name,a,o,s=[];if(n.defaultValue)s=[{text:i.options.messages[n.defaultValue[0].text],value:n.defaultValue[0].value}];a=s.concat(n.items?n.items:i.options[r]||[]);e.attr({title:t.title});e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:a,change:function(){i._range=o;u.exec(i,r,this.value())},close:function(){setTimeout(function(){i._deleteSavedRange()},0)},highlightFirst:false});e.closest(".k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on");var l=e.data(this.type);l.value("inherit");l.wrapper.on(c,".k-select,.k-input-button,.k-input",function(){var e=i.getRange();o=i._containsRange(e)?e:o}).on(p,function(e){if(e.keyCode===m.keys.ENTER){i._deleteSavedRange();e.preventDefault()}})}}),C=u.extend({init:function(e){u.fn.init.call(this,e);this.format=[{tags:["span","font"]}];this.finder=new _(this.format,e.cssAttr)},options:{palette:"websafe",columns:18},update:function(){this._widget.close()},command:function(e){var t=this.options,i=this.format,n={};return new r.FormatCommand(f(e,{formatter:function(){n[t.domAttr]=e.value;return new k(i,{style:n},t.cssAttr)}}))},initialize:function(t,e){var i=this,n=e.editor,r=this.name,a=f({},C.fn.options,this.options),o=a.palette,s=a.columns;t=this._widget=new m.ui.ColorPicker(t,{closeOnSelect:true,views:["palette"],preview:false,input:false,buttons:false,toolIcon:"k-icon k-i-"+d.getToolCssClass(a.name),palette:o,columns:s,change:function(){var e=t.value();if(m.support.browser.msie&&i.storedRange&&i._inputFocused)n.selectRange(i.storedRange);if(e)u.exec(n,r,e);delete i.storedRange;delete i._inputFocused;n.focus()},open:function(e){var t=e.sender;i.storedRange=n.getRange();t._popup.element.on(c,function(e){if(!l(e.target).is("input.k-color-value"))e.preventDefault()});if(!t._popup.element.is("[unselectable='on']"))t._popup.element.attr({unselectable:"on"}).find("*:not(input)").attr("unselectable","on").end().find("input").on("focus",function(){i._inputFocused=true});setTimeout(function(){t._popup.element.find(".k-colorpalette").trigger("focus")})},close:function(e){e.sender._popup.element.off(c);if(m.support.browser.msie&&i.storedRange&&i._inputFocused)n.selectRange(i.storedRange)},activate:function(e){e.preventDefault();if(e.sender._value.toCssRgba()==="rgba(255, 255, 255, 0)")return;t.trigger("change")}});t.wrapper.attr({title:e.title,unselectable:"on"}).find("*:not(input)").attr("unselectable","on");t.value("transparent")}});f(r,{InlineFormatFinder:v,InlineFormatter:b,DelayedExecutionTool:y,GreedyInlineFormatFinder:_,GreedyInlineFormatter:k,InlineFormatTool:w,FontTool:x,ColorTool:C}),s("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),o("bold",new w({key:"B",ctrl:true,format:t.bold,template:new i({template:d.buttonTemplate,title:"Bold"})})),s("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),o("italic",new w({key:"I",ctrl:true,format:t.italic,template:new i({template:d.buttonTemplate,title:"Italic"})})),s("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),o("underline",new w({key:"U",ctrl:true,format:t.underline,template:new i({template:d.buttonTemplate,title:"Underline"})})),s("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),o("strikethrough",new w({format:t.strikethrough,template:new i({template:d.buttonTemplate,title:"Strikethrough"})})),s("superscript",[{tags:["sup"]}]),o("superscript",new w({format:t.superscript,template:new i({template:d.buttonTemplate,title:"Superscript"})})),s("subscript",[{tags:["sub"]}]),o("subscript",new w({format:t.subscript,template:new i({template:d.buttonTemplate,title:"Subscript"})})),o("foreColor",new C({cssAttr:"color",fontAttr:"color",domAttr:"color",name:"foreColor",template:new i({template:d.colorPickerTemplate,title:"Color"})})),o("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new i({template:d.colorPickerTemplate,title:"Background Color"})})),o("fontName",new x({cssAttr:"font-family",fontAttr:"face",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new i({template:d.comboBoxTemplate,title:"Font Name"})})),o("fontSize",new x({cssAttr:"font-size",fontAttr:"size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new i({template:d.comboBoxTemplate,title:"Font Size"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/link.min",["./inlineformat.min"],function(){var s=window.kendo.jQuery,l=void 0,d=window.kendo,e=d.Class,t=s.extend,i=d.ui.editor,u=i.Dom,f=i.RangeUtils,n=i.EditorUtils,r=i.Command,a=i.Tool,o=i.ToolTemplate,c=i.InlineFormatter,p=i.InlineFormatFinder,h=f.textNodes,m=f.editableTextNodes,g=i.EditorUtils.registerTool,v=d.keys,b="http://",_=/^\w*:\/\//,k=/[\w\/\$\-_\*\?]/i,w=e.extend({findSuitable:function(e){return u.parentOfType(e,["a"])}}),y=e.extend({init:function(){this.finder=new w},apply:function(e,t){var i=this.immutables?m(e):h(e);var n,r,a,o,s;if(t.innerText){r=f.documentFromRange(e);n=f.getMarkers(e);e.deleteContents();o=u.create(r,"a",t);e.insertNode(o);s=o.parentNode;if(u.name(s)=="a")u.insertAfter(o,s);if(u.emptyNode(s))u.remove(s);var l=o;for(var d=0;d<n.length;d++){u.insertAfter(n[d],l);l=n[d]}if(n.length){u.insertBefore(r.createTextNode("\ufeff"),n[1]||n[0]);u.insertAfter(r.createTextNode("\ufeff"),n[1]||n[0]);e.setStartBefore(n[0]);e.setEndAfter(n[n.length-1])}}else{a=new c([{tags:["a"]}],t);a.finder=this.finder;a.apply(i)}}}),x=r.extend({init:function(e){var i=this;e.formatter={toggle:function(e){var t=i.immutables()?m(e):h(e);new c([{tags:["a"]}]).remove(t)}};this.options=e;r.fn.init.call(this,e)}}),C=r.extend({init:function(e){var t;this.options=e;r.fn.init.call(this,e);this.formatter=new y;if(!e.url){this.attributes=null;this.async=true}else this.exec=function(){this.formatter.immutables=t&&t.immutables();this.formatter.apply(e.range,{href:e.url,innerText:e.text||e.url,target:e.target})}},_dialogTemplate:function(){return d.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+"<div class='k-edit-label'>"+"<label for='k-editor-link-url'>#: messages.linkWebAddress #</label>"+"</div>"+"<div class='k-edit-field'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-url'></span>"+"</div>"+"<div class='k-edit-label k-editor-link-text-row'>"+"<label for='k-editor-link-text'>#: messages.linkText #</label>"+"</div>"+"<div class='k-edit-field k-editor-link-text-row'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-text'></span>"+"</div>"+"<div class='k-edit-label'>"+"<label for='k-editor-link-title'>#: messages.linkToolTip #</label>"+"</div>"+"<div class='k-edit-field'>"+"<span class=\"k-textbox k-input k-input-md k-rounded-md k-input-solid\"><input type='text' class='k-input-inner' id='k-editor-link-title'></span>"+"</div>"+"<div class='k-edit-label'></div>"+"<div class='k-edit-field'>"+"<input type='checkbox' class='k-checkbox k-checkbox-md k-rounded-md' id='k-editor-link-target'>"+"<label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label>"+"</div>"+"<div class='k-edit-buttons'>"+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages})},exec:function(){var e=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);this.formatter.immutables=this.immutables();var t=h(this._range);var i=t.length?this.formatter.finder.findSuitable(t[0]):null;var n=t.length&&u.name(t[0])=="img";var r=this.createDialog(this._dialogTemplate(),{title:e.createLink,close:this._close.bind(this),visible:false});if(i){this._range.selectNodeContents(i);t=h(this._range)}this._initialText=this.linkText(t);r.find(".k-dialog-insert").on("click",this._apply.bind(this)).end().find(".k-dialog-close").on("click",this._close.bind(this)).end().find(".k-edit-field input").on("keydown",this._keydown.bind(this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").attr("checked",i?i.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!n);this._dialog=r.data("kendoWindow").center().open();s("#k-editor-link-url",r).trigger("focus").select()},_keydown:function(e){var t=d.keys;if(e.keyCode==t.ENTER)this._apply(e);else if(e.keyCode==t.ESC)this._close(e)},_apply:function(e){var t=this._dialog.element;var i=s("#k-editor-link-url",t).val();var n,r,a;var o=s("#k-editor-link-text",t);if(i&&i!=b){if(i.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(i))i="mailto:"+i;this.attributes={href:i};n=s("#k-editor-link-title",t).val();if(n)this.attributes.title=n;if(o.is(":visible")){r=d.trim(o.val());if(!r&&!this._initialText)this.attributes.innerText=i;else if(r&&r!==this._initialText)this.attributes.innerText=u.stripBom(r)}a=s("#k-editor-link-target",t).is(":checked");this.attributes.target=a?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(e);if(this.change)this.change()},_close:function(e){e.preventDefault();this._dialog.destroy();u.windowFromDocument(f.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(e){if(e)return e.getAttribute("href",2);return b},linkText:function(e){var t="";var i;for(i=0;i<e.length;i++)t+=e[i].nodeValue;return u.stripBom(t||"")},redo:function(){var e=this.lockRange(true);this.formatter.apply(e,this.attributes);this.releaseRange(e)}}),T=r.extend({init:function(e){r.fn.init.call(this,e);this.formatter=new y},exec:function(){var e=this.detectLink();if(!e)return;var t=this.getRange();var i=new d.ui.editor.Marker;var n=t.cloneRange();n.setStart(e.start.node,e.start.offset);n.setEnd(e.end.node,e.end.offset);t=this.lockRange();i.add(n);this.formatter.apply(n,{href:this._ensureWebProtocol(e.text)});i.remove(n);this.releaseRange(t)},detectLink:function(){var e=this.getRange();var t=e.startContainer;var i=e.startOffset;var n=t.previousSibling;if(!n&&(u.isBom(t)&&!t.nextSibling||!i&&u.isDataNode(t))){t=t.parentNode;i=0}var r=new A({node:t,offset:i,cancelAtNode:function(e){return e&&u.name(e)==="a"}});var a=new D(r);return a.detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(e){var t=this._hasProtocolPrefix(e);return t?e:this._prefixWithWebProtocol(e)},_hasProtocolPrefix:function(e){return _.test(e)},_prefixWithWebProtocol:function(e){return b+e}}),S=a.extend({init:function(e){this.options=e;this.finder=new p([{tags:["a"]}]);a.fn.init.call(this,s.extend(e,{command:x}))},initialize:function(e,t){a.fn.initialize.call(this,e,t);e.addClass("k-disabled")},update:function(e,t){e.toggleClass("k-disabled",!this.finder.isFormatted(t)).removeClass("k-hover")}}),D=e.extend({init:function(e){this.traverser=e;this.start=E();this.end=E();this.text=""},detectLink:function(){var e=this.traverser.node;var t=this.traverser.offset;if(u.isDataNode(e)){var i=e.data.substring(0,t);if(/\s{2}$/.test(u.stripBom(i)))return}else if(t===0){var n=u.closestEditableOfType(e,u.blockElements);if(n&&n.previousSibling)this.traverser.init({node:n.previousSibling})}this.traverser.traverse(this._detectEnd.bind(this));if(!this.end.blank()){this.traverser=this.traverser.clone(this.end);this.traverser.traverse(this._detectStart.bind(this));if(!this._isLinkDetected()){var r=this.traverser.extendOptions(this.start);var a=new R(r);a.traverse(this._skipStartPuntuation.bind(this));if(!this._isLinkDetected())this.start=E()}}if(this.start.blank())return null;else return{start:this.start,end:this.end,text:this.text}},_isLinkDetected:function(){return _.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(e,t){var i=F(e,k);if(i>-1){this.end.node=t;this.end.offset=i+1;return false}},_detectStart:function(e,t){var i=F(e,/\s/);var n=i+1;this.text=e.substring(n)+this.text;this.start.node=t;this.start.offset=n;if(i>-1)return false},_skipStartPuntuation:function(e,t,i){var n=I(e,/\w/);var r=n;if(n===-1)r=e.length;this.text=this.text.substring(r);this.start.node=t;this.start.offset=r+(i|0);if(n>-1)return false}});function F(e,t){var i=e.length;while(i--&&!t.test(e[i]));return i}function I(e,t){var i=t.exec(e);return i?i.index:-1}var E=function(){return{node:null,offset:null,blank:function(){return this.node===null&&this.offset===null}}},z=e.extend({init:function(e){this.node=e.node;this.offset=e.offset===l?u.isDataNode(this.node)&&this.node.length||0:e.offset;this.cancelAtNode=e.cancelAtNode||this.cancelAtNode||s.noop},traverse:function(e){if(!e)return;this.cancel=false;this._traverse(e,this.node,this.offset)},_traverse:function(e,t,i){if(!t||this.cancel)return;if(t.nodeType===3){var n=t.data;if(i!==l)n=this.subText(n,i);this.cancel=e(n,t,i)===false}else{var r=this.edgeNode(t);this.cancel=this.cancel||this.cancelAtNode(r);return this._traverse(e,r)}var a=this.next(t);if(!a){var o=t.parentNode;while(!a&&u.isInline(o)){a=this.next(o);o=o.parentNode}}this.cancel=this.cancel||this.cancelAtNode(a);this._traverse(e,a)},extendOptions:function(e){return s.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},e||{})},edgeNode:function(e){},next:function(e){},subText:function(e,t){}}),A=z.extend({subText:function(e,t){return e.substring(0,t)},next:function(e){return e.previousSibling},edgeNode:function(e){return e.lastChild},clone:function(e){var t=this.extendOptions(e);return new A(t)}}),R=z.extend({subText:function(e,t){return e.substring(t)},next:function(e){return e.nextSibling},edgeNode:function(e){return e.firstChild},clone:function(e){var t=this.extendOptions(e);return new R(t)}});t(d.ui.editor,{LinkFormatFinder:w,LinkFormatter:y,UnlinkCommand:x,LinkCommand:C,AutoLinkCommand:T,UnlinkTool:S,DomTextLinkDetection:D,LeftDomTextTraverser:A,RightDomTextTraverser:R}),g("createLink",new a({key:"K",ctrl:true,command:C,template:new o({template:n.buttonTemplate,title:"Create Link"})})),g("unlink",new S({key:"K",ctrl:true,shift:true,template:new o({template:n.buttonTemplate,title:"Remove Link"})})),g("autoLink",new a({key:[v.ENTER,v.SPACEBAR],keyPressCommand:true,command:T}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatblock.min",["./format.min"],function(){var f=window.kendo.jQuery,e=window.kendo,t=e.Class,c=f.extend,h=e.ui.editor,i=e.ui.Editor.fn.options.formats,m=h.Dom,n=h.ToolTemplate,r=h.FormatTool,p=h.EditorUtils,a=p.registerTool,o=p.registerFormat,s=h.RangeUtils,l=t.extend({init:function(e){this.format=e},contains:function(e,t){var i,n,r;for(i=0,n=t.length;i<n;i++){r=t[i];if(!r||!m.isAncestorOrSelf(e,r))return false}return true},findSuitable:function(e){var t=this.format,i=[],n,r,a;for(n=0,r=e.length;n<r;n++){for(var o=t.length-1;o>=0;o--){a=m.ofType(e[n],t[o].tags)?e[n]:m.closestEditableOfType(e[n],t[o].tags);if(a)break}if(!a||a.contentEditable==="true")return[];if(f.inArray(a,i)<0)i.push(a)}this._resolveListsItems(i);for(n=0,r=i.length;n<r;n++)if(this.contains(i[n],i))return[i[n]];return i},_resolveListsItems:function(e){var t,i,n;for(t=0;t<e.length;t++){i=e[t];n=m.is(i,"li")?i:m.wrapper(i);n=n&&m.list(n)?n.children[0]:n;if(m.is(n,"li"))i=e[t]=n}},findFormat:function(e,t){var i=this.format,n,r,a,o,s;var l=m.editableParent(e);var d=this.options&&this.options.immutables;var u=h.Immutables;for(n=0,r=i.length;n<r;n++){a=e;o=i[n].tags;s=i[n].attr;if(d&&o&&o[0]=="immutable"){var f=u.immutableParent(a);if(f&&m.attrEquals(f,s))return a}while(a&&m.isAncestorOf(l,a)){if(m.ofType(a,o)&&m.attrEquals(a,s))return a;if(t&&t(a))break;a=a.parentNode}}return null},getFormat:function(e){var t=this,i=function(e){return t.findFormat(m.isDataNode(e)?e.parentNode:e)},n=i(e[0]),r,a;if(!n)return"";for(r=1,a=e.length;r<a;r++)if(n!=i(e[r]))return"";return n.nodeName.toLowerCase()},isFormatted:function(e,t){for(var i=0,n=e.length;i<n;i++)if(!this.findFormat(e[i],t))return false;return true}}),g=t.extend({init:function(e,t){this.format=e;this.values=t;this.finder=new l(e)},wrap:function(e,t,i){var n=i.length==1?m.blockParentOrBody(i[0]):m.commonAncestor.apply(null,i);if(m.isInline(n))n=m.blockParentOrBody(n);var r=m.significantChildNodes(n),a=m.findNodeIndex(r[0]),o=m.create(n.ownerDocument,e,t),s,l;for(s=0;s<r.length;s++){l=r[s];if(m.isBlock(l)){m.attr(l,t);if(o.childNodes.length){m.insertBefore(o,l);o=o.cloneNode(false)}a=m.findNodeIndex(l)+1;continue}o.appendChild(l)}if(o.firstChild)m.insertAt(n,o,a)},apply:function(e){var t,i=this.values;function n(e){return c({},e&&e.attr,i)}this._handleImmutables(e,true);var r=m.filter("img",e);var a=p.formatByName("img",this.format);var o=n(a);f.each(r,function(){m.attr(this,o)});if(r.length==e.length)return;var s=m.filter("img",e,true);var l=this.finder.findSuitable(s);if(l.length)for(var d=0,u=l.length;d<u;d++){t=p.formatByName(m.name(l[d]),this.format);m.attr(l[d],n(t))}else{t=this.format[0];this.wrap(t.tags[0],n(t),s)}},_handleImmutables:function(e,t){if(!this.immutables())return;var i=p.formatByName("immutable",this.format);if(!i)return;var n=h.Immutables;var r=e.length-1;for(var a=r;a>=0;a--){var o=n.immutableParent(e[a]);if(!o)continue;if(o!==e[a+1])if(t)m.attr(o,i.attr);else m.unstyle(o,i.attr.style);e.splice(a,1)}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(e){var t,i,n,r,a;this._handleImmutables(e,false);for(t=0,i=e.length;t<i;t++){n=this.finder.findFormat(e[t]);if(n){a=m.name(n);r=p.formatByName(a,this.format);if(r.attr.style)m.unstyle(n,r.attr.style);if(r.attr.className)m.removeClass(n,r.attr.className)}}},toggle:function(e){var t=this,i=m.filterBy(s.nodes(e),m.htmlIndentSpace,true);if(t.finder.isFormatted(i))t.remove(i);else t.apply(i)}}),d=t.extend({init:function(e,t){var i=this;i.format=e;i.values=t;i.finder=new l(e)},apply:function(e){var t=this.format;var i=m.blockParents(e);var n=t[0].tags[0];var r,a,o,s,l;var d;var u;var f;var c;if(i.length)for(r=0,a=i.length;r<a;r++){f=i[r];c=this.immutables()&&h.Immutables.immutableParent(f);if(!c){u=m.name(f);if(u=="li"){o=f.parentNode;s=new h.ListFormatter(o.nodeName.toLowerCase(),n);l=this.editor.createRange();l.selectNode(i[r]);s.toggle(l)}else if(n&&(u=="td"||f.attributes.contentEditable))new g(t,this.values).apply(f.childNodes);else{d=m.changeTag(f,n);m.attr(d,t[0].attr)}}}else{var p=new g(t,this.values);p.editor=this.editor;p.apply(e)}},toggle:function(e){var t=s.textNodes(e);if(!t.length){e.selectNodeContents(e.commonAncestorContainer);t=s.textNodes(e);if(!t.length)t=m.significantChildNodes(e.commonAncestorContainer)}this.apply(t)},immutables:function(){return this.editor&&this.editor.options.immutables}}),u=r.extend({init:function(e){r.fn.init.call(this,c(e,{finder:new l(e.format),formatter:function(){return new g(e.format)}}))}}),v=(c(h,{BlockFormatFinder:l,BlockFormatter:g,GreedyBlockFormatter:d,BlockFormatTool:u}),["ul","ol","li"]);o("justifyLeft",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:v,attr:{style:{textAlign:"left",listStylePosition:""}}}]),a("justifyLeft",new u({format:i.justifyLeft,template:new n({template:p.buttonTemplate,title:"Justify Left"})})),o("justifyCenter",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:v,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),a("justifyCenter",new u({format:i.justifyCenter,template:new n({template:p.buttonTemplate,title:"Justify Center"})})),o("justifyRight",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:v,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),a("justifyRight",new u({format:i.justifyRight,template:new n({template:p.buttonTemplate,title:"Justify Right"})})),o("justifyFull",[{tags:m.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:v,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),a("justifyFull",new u({format:i.justifyFull,template:new n({template:p.buttonTemplate,title:"Justify Full"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/lists.min",["./formatblock.min"],function(){var c=window.kendo.jQuery,e=window.kendo,t=e.Class,i=c.extend,u=e.ui.editor,p=u.Dom,l=u.RangeUtils,n=u.EditorUtils,r=u.Command,a=u.ToolTemplate,o=u.FormatTool,s=u.BlockFormatFinder,d=l.textNodes,f=u.EditorUtils.registerTool,h=s.extend({init:function(e){this.tag=e.tag;this.attr=e.attr;this.altAttr=e.altAttr;var t=this.tags=[this.tag=="ul"?"ol":"ul",this.tag];var i=[{tags:t,attr:this.attr}];if(this.altAttr)i.push({tags:t,attr:this.altAttr});s.fn.init.call(this,i)},matchesType:function(e){return p.attrEquals(e,this.attr)||this.altAttr&&p.attrEquals(e,this.altAttr)},isList:function(e){return p.list(e)},isFormatted:function(e){var t=[];var i,n;for(n=0;n<e.length;n++){i=this.findFormat(e[n],this.isList);if(i&&p.name(i)==this.tag&&this.matchesType(i))t.push(i)}if(t.length<1)return false;if(t.length!=e.length)return false;for(n=0;n<t.length;n++){if(t[n].parentNode!=i.parentNode)break;if(t[n]!=i)return false}return true},findSuitable:function(e){var t=this.findFormat(e[0],this.isList);if(t&&p.name(t)==this.tag)return t;return null}}),m=t.extend({init:function(e,t){var i=this;e=c.isPlainObject(e)?e:{tag:e,attr:null};i.tag=e.tag;i.attr=e.attr;i.finder=new h(e);i.unwrapTag=t},isList:function(e){return p.list(e)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(e,t){var i=p.create(e.ownerDocument,"li"),n,r,a=this.immutables()?u.Immutables.immutable:c.noop;for(n=0;n<t.length;n++){r=t[n];if(p.is(r,"li")){e.appendChild(r);continue}if(this.isList(r)){while(r.firstChild)e.appendChild(r.firstChild);continue}if(p.is(r,"td")){while(r.firstChild)i.appendChild(r.firstChild);e.appendChild(i);r.appendChild(e);e=e.cloneNode(false);i=i.cloneNode(false);continue}i.appendChild(r);if(p.isBlock(r)){e.appendChild(i);if(!a(r))p.unwrap(r);i=i.cloneNode(false)}}if(i.firstChild)e.appendChild(i)},containsAny:function(e,t){for(var i=0;i<t.length;i++)if(p.isAncestorOrSelf(e,t[i]))return true;return false},suitable:function(e,t){if(e.className=="k-marker"){var i=e.nextSibling;if(i&&p.isBlock(i))return false;i=e.previousSibling;if(i&&p.isBlock(i))return false}return this.containsAny(e,t)||p.isInline(e)||e.nodeType==3},_parentLists:function(e){var t=p.closestEditable(e);return c(e).parentsUntil(t,"ul,ol")},split:function(e){var t=d(e);var i,n,r;if(t.length){i=p.parentOfType(t[0],["li"]);n=p.parentOfType(t[t.length-1],["li"]);e.setStartBefore(i);e.setEndAfter(n);for(var a=0,o=t.length;a<o;a++){var s=this.finder.findFormat(t[a]);if(s){r=this._parentLists(s);if(r.length)l.split(e,r.last()[0],true);else l.split(e,s,true)}}}},merge:function(e,t){var i=t.previousSibling,n;while(i&&(i.className=="k-marker"||i.nodeType==3&&p.isWhitespace(i)))i=i.previousSibling;if(i&&p.name(i)==e&&this.finder.matchesType(i)){while(t.firstChild)i.appendChild(t.firstChild);p.remove(t);t=i}n=t.nextSibling;while(n&&(n.className=="k-marker"||n.nodeType==3&&p.isWhitespace(n)))n=n.nextSibling;if(n&&p.name(n)==e&&this.finder.matchesType(n)){while(t.lastChild)n.insertBefore(t.lastChild,n.firstChild);p.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|thead|tr|td/.test(p.name(e))&&!e.attributes.contentEditable},findSuitableNode:function(e){var t=this,i=t.finder,n=t.tag,r;r=i.findSuitable(e);if(!r){i=new h({tag:n=="ul"?"ol":"ul"});r=i.findSuitable(e)}if(!r){i=new h({tag:n});r=i.findSuitable(e);r=r&&t.finder.matchesType(r)?null:r}return r},applyOnSection:function(e,t){var i=this.tag;var n=this.attr;var r=p.closestSplittableParent(t);var a=[];var o=this.findSuitableNode(t);var s;if(/table|tbody|thead/.test(p.name(r)))s=c.map(t,function(e){return p.parentOfType(e,["td"])});else{s=p.significantChildNodes(r);if(c.grep(s,p.isBlock).length)s=c.grep(s,function(e){return this.containsAny(e,t)}.bind(this));if(!s.length)s=t}function l(){a.push(this)}for(var d=0;d<s.length;d++){var u=s[d];var f=(!o||!p.isAncestorOrSelf(o,u))&&this.suitable(u,t);if(!f)continue;if(o&&this.isList(u)){c.each(u.children,l);p.remove(u)}else a.push(u)}if(a.length==s.length&&this.breakable(r))a=[r];if(!o){o=p.create(r.ownerDocument,i,n);if(p.isBlock(a[0]))p.mergeAttributes(a[0],o);p.insertBefore(o,a[0])}this.wrap(o,a);while(p.isBom(o.nextSibling))p.remove(o.nextSibling);if(!this.finder.matchesType(o)){o.removeAttribute("type");o.style.listStyleType="";p.mergeAttributes(p.create(r.ownerDocument,i,n),o,true)}if(o&&o.getAttribute("type")==="")o.removeAttribute("type");if(!p.is(o,i))p.changeTag(o,i);this.merge(i,o)},apply:function(e){var t=0,i=[],n,r,a,o,s=e.length,l=this.immutables()?u.Immutables.immutableParent:c.noop;function d(){if(n)i.push({section:n,nodes:r})}for(t=0;t<s;t++){o=l(e[t])||e[t];a=p.closestEditable(o,["td","th","body"]);if(!n||a!=n){d();r=[o];n=a}else r.push(o)}d();for(t=0;t<i.length;t++)this.applyOnSection(i[t].section,i[t].nodes)},unwrap:function(e){var t=e.ownerDocument.createDocumentFragment(),i=this.unwrapTag,n,r,a,o;for(r=e.firstChild;r;r=r.nextSibling){a=p.create(e.ownerDocument,i||"p");while(r.firstChild){o=r.firstChild;if(p.isBlock(o)){if(a.firstChild){t.appendChild(a);a=p.create(e.ownerDocument,i||"p")}t.appendChild(o)}else a.appendChild(o)}if(a.firstChild)t.appendChild(a)}n=this._parentLists(e);if(n[0]){p.insertAfter(t,n.last()[0]);n.last().remove()}else p.insertAfter(t,e);p.remove(e)},remove:function(e){var t;for(var i=0,n=e.length;i<n;i++){t=this.finder.findFormat(e[i]);if(t)this.unwrap(t)}},toggle:function(e){var t=this,i=d(e),n=e.commonAncestorContainer;if(!i.length){e.selectNodeContents(n);i=d(e);if(!i.length){var r=n.ownerDocument.createTextNode("");e.startContainer.appendChild(r);i=[r];e.selectNode(r.parentNode)}}i=p.filterBy(i,p.htmlIndentSpace,true);if(t.finder.isFormatted(i)){t.split(e);t.remove(i)}else t.apply(i)}}),g=r.extend({init:function(e){e.formatter=new m({tag:e.tag,attr:e.attr});r.fn.init.call(this,e)}}),v=o.extend({init:function(e){this.options=e;o.fn.init.call(this,i(e,{finder:new h(e)}))},command:function(e){return new g(i(e,{tag:this.options.tag,attr:this.options.attr}))}});i(u,{ListFormatFinder:h,ListFormatter:m,ListCommand:g,ListTool:v}),f("insertUnorderedList",new v({tag:"ul",attr:{style:{listStyleType:""},type:""},template:new a({template:n.buttonTemplate,title:"Insert unordered list"})})),f("insertOrderedList",new v({tag:"ol",attr:{style:{listStyleType:""},type:""},template:new a({template:n.buttonTemplate,title:"Insert ordered list"})})),f("insertUpperRomanList",new v({tag:"ol",attr:{style:{listStyleType:"upper-roman"}},altAttr:{type:"I"},template:new a({template:n.buttonTemplate,title:"Insert upper roman list"})})),f("insertLowerRomanList",new v({tag:"ol",attr:{style:{listStyleType:"lower-roman"}},altAttr:{type:"i"},template:new a({template:n.buttonTemplate,title:"Insert lower roman list"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatting.min",["./inlineformat.min"],function(){var d=window.kendo.jQuery,s=window.kendo,o=s.ui.editor,l=o.Tool,e=o.ToolTemplate,u=o.DelayedExecutionTool,t=o.Command,f=o.Dom,i=o.EditorUtils,r=o.RangeUtils,n=i.registerTool,a=u.extend({init:function(e){var t=this;l.fn.init.call(t,s.deepExtend({},t.options,e));t.type="kendoSelectBox";t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var i=t.indexOf(".");if(i===0)e.className=t.substring(1);else if(i==-1)e.tag=t;else{e.tag=t.substring(0,i);e.className=t.substring(i+1)}return e},command:function(e){var n=this;var r=e.value;r=this.toFormattingItem(r);return new o.FormatCommand({range:e.range,formatter:function(){var e,t=(r.tag||r.context||"span").split(","),i=[{tags:t,attr:{className:r.className||""}}];if(d.inArray(t[0],f.inlineElements)>=0)e=new o.GreedyInlineFormatter(i);else e=new o.GreedyBlockFormatter(i);e.editor=n.editor;return e}})},initialize:function(e,t){var i=t.editor;var n=this.options;var r=n.name;var a=this;var o;a.editor=i;e.width(n.width);o=e.kendoSelectBox({autoWidth:true,dataTextField:"text",dataValueField:"value",dataSource:n.items||i.options[r],title:i.options.messages[r],autoSize:true,change:function(){var e=this.dataItem();if(e)l.exec(i,r,e.toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;e<t.length;e++)t[e]=a.toFormattingItem(t[e])},highlightFirst:false,template:s.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}).data("kendoSelectBox");e.attr("title",t.title);o.wrapper.attr("title",t.title);e.addClass("k-decorated").closest(".k-dropdownlist, .k-combobox").removeClass("k-"+r).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];var r=n.tag||n.context||"";var a=n.className?"."+n.className:"";var o=r+a;var s=d(t[0]).closest(o)[0];if(!s)continue;if(t.length==1)return n.value;for(var l=1;l<t.length;l++)if(!d(t[l]).closest(o)[0])break;else if(l==t.length-1)return n.value}return""},update:function(e,t){var i=d(e).data(this.type);if(!i)return;var n=i.dataSource,r=n.data(),a,o,s=f.commonAncestor.apply(null,t);if(s!=f.closestEditable(s)&&this._ancestor==s)return;else this._ancestor=s;for(a=0;a<r.length;a++){o=r[a].context;r[a].visible=!o||!!d(s).closest(o).length}n.filter([{field:"visible",operator:"eq",value:true}]);u.fn.update.call(this,e,t);i.value(this.getFormattingValue(n.view(),t));i.wrapper.toggleClass("k-disabled",!n.view().length)},destroy:function(){this._ancestor=null}}),c=t.extend({exec:function(){var e=this.lockRange(true);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");r.wrapSelectedElements(e);var t=r.mapAll(e,function(e){return e});for(var i=t.length-1;i>=0;i--){var n=t[i];if(!this.immutableParent(n))this.clean(n)}this.releaseRange(e)},clean:function(e){if(!e||f.isMarker(e))return;var t=f.name(e);if(t=="ul"||t=="ol"){var i=new o.ListFormatter(t);var n=e.previousSibling;var r=e.nextSibling;i.unwrap(e);for(;n&&n!=r;n=n.nextSibling)this.clean(n)}else if(t=="blockquote")f.changeTag(e,"p");else if(e.nodeType==1&&!f.insignificant(e)){for(var a=e.childNodes.length-1;a>=0;a--)this.clean(e.childNodes[a]);e.removeAttribute("style");e.removeAttribute("class")}else p(e);if(d.inArray(t,this.tagsToClean)>-1)f.unwrap(e)},immutableParent:function(e){return this.immutables()&&o.Immutables.immutableParent(e)}});function p(e){var t=f.closestEditableOfType(e,["li"]);if(t){var i=new o.ListFormatter(f.name(t.parentNode));var n=s.ui.editor.W3CRange.fromNode(e);n.selectNode(t);i.toggle(n)}}d.extend(o,{FormattingTool:a,CleanFormatCommand:c}),n("formatting",new a({template:new e({template:i.dropDownListTemplate,title:"Format"})})),n("cleanFormatting",new l({command:c,template:new e({template:i.buttonTemplate,title:"Clean formatting"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/image.min",["kendo.imagebrowser.min","../command.min"],function(){var e=window.kendo.jQuery,b=void 0,_=window.kendo,k=e.extend,t=_.ui.editor,i=t.EditorUtils,w=t.Dom,n=i.registerTool,r=t.ToolTemplate,y=t.RangeUtils,a=t.Command,x=_.keys,C="#k-editor-image-url",T="#k-editor-image-title",S="#k-editor-image-width",D="#k-editor-image-height",o=a.extend({init:function(e){var t=this;a.fn.init.call(t,e);t.async=true;t.attributes={}},insertImage:function(e,t){var i=this.attributes;var n=y.documentFromRange(t);if(i.src&&i.src!="http://"){var r=function(){setTimeout(function(){if(!i.width)e.removeAttribute("width");if(!i.height)e.removeAttribute("height");e.removeAttribute("complete")})};if(!e){e=w.create(n,"img",i);e.onload=e.onerror=r;t.deleteContents();t.insertNode(e);if(!e.nextSibling)w.insertAfter(n.createTextNode("\ufeff"),e);r();t.setStartAfter(e);t.setEndAfter(e);y.selectRange(t);return true}else{e.onload=e.onerror=r;w.attr(e,i);r()}}return false},_dialogTemplate:function(e){return _.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser k-imagebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-image-url">#: messages.imageWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-title">#: messages.imageAltText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-title"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-width">#: messages.imageWidth #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-width"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-height">#: messages.imageHeight #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-image-height"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();if(!e.insertImage(y.image(t),t))e.releaseRange(t)},exec:function(){var r=this,a=r.lockRange(),o=false,s=y.image(a),e=s&&s.getAttribute("width")||"",t=s&&s.getAttribute("height")||"",l,i=_.support.browser.msie,n=r.editor.options,d=n.messages,u=n.imageBrowser,f=!!(_.ui.ImageBrowser&&u&&u.transport&&u.transport.read!==b),c={title:d.insertImage,visible:false,resizable:f};this.expandImmutablesIn(a);function p(e){var t=l.element,i=parseInt(t.find(S).val(),10),n=parseInt(t.find(D).val(),10);r.attributes={src:t.find(C).val().replace(/ /g,"%20"),alt:t.find(T).val()};r.attributes.width=null;r.attributes.height=null;if(!isNaN(i)&&i>0)r.attributes.width=i;if(!isNaN(n)&&n>0)r.attributes.height=n;o=r.insertImage(s,a);h(e);if(r.change)r.change()}function h(e){e.preventDefault();l.destroy();w.windowFromDocument(y.documentFromRange(a)).focus();if(!o)r.releaseRange(a)}function m(e){if(e.keyCode==x.ENTER)p(e);else if(e.keyCode==x.ESC)h(e)}c.close=h;if(f)c.width=750;l=this.createDialog(r._dialogTemplate(f),c).toggleClass("k-filebrowser-dialog",f).find(".k-dialog-insert").on("click",p).end().find(".k-dialog-close").on("click",h).end().find(".k-edit-field input").on("keydown",m).end().find(C).val(s?s.getAttribute("src",2):"http://").end().find(T).val(s?s.alt:"").end().find(S).val(e).end().find(D).val(t).end().data("kendoWindow");var g=l.element;if(f){this._imageBrowser=new _.ui.ImageBrowser(g.find(".k-imagebrowser"),k({},u));this._imageBrowser.bind("change",function(e){if(e.selected.get("type")==="f")g.find(C).val(this.value())});this._imageBrowser.bind("apply",p)}if(i){var v=g.closest(".k-window").height();g.css("max-height",v)}l.center().open();g.find(C).trigger("focus").select()}});n("insertImage",new t.Tool({command:_.ui.editor.ImageCommand=o,template:new r({template:i.buttonTemplate,title:"Insert Image"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/import.min",["../main.min"],function(){var r=window.kendo.jQuery,e=void 0,t=window.kendo,i=r.extend,n=t.ui.editor,a=n.EditorUtils,o=n.Command,s=n.Tool,l=a.registerTool,d=n.ToolTemplate,u='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>',f=o.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var e=this;var t=e.editor;var i=t.options["import"];var n=r('<input id="editorImport" name="files" type="file" />').kendoUpload({success:e._onUploadSuccess.bind(e),progress:e._onUploadProgress.bind(e),select:e._onUploadSelect.bind(e),error:e._onUploadError.bind(e),complete:e._onUploadComplete.bind(e),showFileList:false,multiple:false,async:{saveUrl:i.proxyURL,autoUpload:true,saveField:"file"},validation:{allowedExtensions:i.allowedExtensions,maxFileSize:i.maxFileSize}}).getKendoUpload();t._uploadWidget=n;return n},_onUploadComplete:function(e){this._trigger("complete",e);e.sender.clearAllFiles();this._removeLoadingOverlay()},_onUploadSuccess:function(e){this.editor.value(e.response.html.replace(/<\/?body>/gi,""));this._trigger("success",e)},_onUploadProgress:function(e){this._trigger("progress",e)},_onUploadSelect:function(e){this._trigger("select",e);if(!e.files[0].validationErrors)this._initLoadingOverlay()},_onUploadError:function(e){this._trigger("error",e)},_trigger:function(e,t){var i=this.editor;var n=i.options["import"];if(typeof n[e]==="function")n[e].call(i,t)},_initLoadingOverlay:function(){var e=this.editor.body;if(n.Dom.is(e,"body"))this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(u);else this._container=r(e).append(u);t.ui.progress(this._container,true)},_removeLoadingOverlay:function(){t.ui.progress(this._container,false);r(this._iframeWrapper).css({position:""});delete this._container;delete this._iframeWrapper}});i(n,{ImportCommand:f}),l("import",new s({command:f,template:new d({template:a.iconTextButtonTemplate,title:"Import"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/insert.min",["../command.min"],function(){var e=window.kendo.jQuery,t,a=window.kendo.ui.editor,i=a.Command,s=a.GenericCommand,n=a.EditorUtils,r=n.registerTool,o=a.Tool,l=a.ToolTemplate,d=a.RestorePoint,u=e.extend,f=i.extend({init:function(e){i.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;var t=this.options;var i=t.range;var n=e.body;var r=new d(i,n);var a=t.html||t.value||"";e.selectRange(i);e.clipboard.paste(a,t);if(t.postProcess)t.postProcess(e,e.getRange());var o=new s(r,new d(e.getRange(),n));o.editor=e;e.undoRedoStack.push(o);e.focus()}}),c=o.extend({initialize:function(e,t){var i=t.editor,n=this.options,r=n.items?n.items:i.options.insertHtml;this._selectBox=new a.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){o.exec(i,"insertHtml",this.value())},title:i.options.messages.insertHtml,highlightFirst:false});e.attr("title",t.title);this._selectBox.wrapper.attr("title",t.title)},command:function(e){return new f(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close();t.value(t.options.title)}});u(a,{InsertHtmlCommand:f,InsertHtmlTool:c}),r("insertHtml",new c({template:new l({template:n.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/export.min",["../main.min"],function(){var n=window.kendo.jQuery,e=void 0,u=window.kendo,t=n.extend,i=u.ui.editor,r=i.EditorUtils,a=i.Command,o=i.Tool,s=r.registerTool,l=i.ToolTemplate,d=[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}],f=a.extend({init:function(e){var t=this;t.options=e;a.fn.init.call(t,e);t.attributes=null;t.exportType=e.exportType},exec:function(){var e=this;var t=this.lockRange(true);e.postToProxy();e.releaseRange(t)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var e=this;var t=e.editor.options.exportAs;var i=n("<form>").attr({action:t&&t.proxyURL||"",method:"POST"});i.append([e.valueInput(),e.exportTypeInput(),e.fileNameInput()]);return i},valueInput:function(){var e=this.editor;return n("<input>").attr({value:e.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){var e=this;return n("<input>").attr({value:e.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var e=this.editor;var t=e.options.exportAs;var i=t&&t.fileName||e.element.attr("id")||"editor";return n("<input>").attr({value:i,name:"fileName",type:"hidden"})}}),c=o.extend({init:function(e){var t=this;o.fn.init.call(t,u.deepExtend({},t.options,e));t.type="kendoSelectBox"},options:{items:d,width:140},command:function(e){var t=e.value;return new i.ExportAsCommand({range:e.range,exportType:t.exportType})},initialize:function(e,t){var i=this;var n=t.editor;var r=i.options;var a=r.name;var o=i.changeHandler.bind(i);var s=r.items||n.options[a];var l=n.options.messages[a];var d;s.unshift({text:l,value:""});i.editor=n;e.width(r.width);d=e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:s,autoSize:true,change:o,open:function(e){var t=e.sender;t.items()[0].style.display="none";t.unbind("open")},highlightFirst:false,template:u.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>'),valueTemplate:'<span class="k-editor-export"><span class="k-icon k-i-export"></span><span class="k-export-tool-text">'+l+"</span></span>"}).data("kendoSelectBox");e.attr("title",t.title);d.wrapper.attr("title",t.title);e.addClass("k-decorated").closest(".k-dropdownlist").removeClass("k-"+a).find("*").addBack().attr("unselectable","on")},changeHandler:function(e){var t=e.sender;var i=t.dataItem();var n=i&&i.value;this._exec(n);t.value("")},_exec:function(e){if(e)o.exec(this.editor,this.options.name,{exportType:e})},destroy:function(){this._ancestor=null}});t(i,{ExportAsTool:c,ExportAsCommand:f}),s("exportAs",new c({template:new l({template:r.dropDownListTemplate,title:"Export As"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/indent.min",["./formatblock.min"],function(){var p=window.kendo.jQuery,a=void 0,e=window.kendo,t=e.Class,i=p.extend,d=e.ui.editor,h=d.Dom,n=d.EditorUtils,r=n.registerTool,o=d.Command,s=d.Tool,l=d.ToolTemplate,u=d.RangeUtils,f=h.blockElements,c=d.BlockFormatFinder,m=d.BlockFormatter;function g(e,t){var i=p(e).css("direction")=="rtl",n=i?"Right":"Left",r=h.name(e)!="td"?"margin"+n:"padding"+n;if(t===a)return e.style[r]||0;else if(t>0)e.style[r]=t+"px";else{e.style[r]="";if(!e.style.cssText)e.removeAttribute("style")}}var v=t.extend({init:function(){this.finder=new c([{tags:h.blockElements}])},apply:function(e){e=h.filterBy(e,h.htmlIndentSpace,true);var t=this.finder.findSuitable(e),i=[],n,r,a,o,s;t=this.mapImmutables(t);if(t.length){for(n=0,r=t.length;n<r;n++)if(h.is(t[n],"li")){if(!p(t[n]).index())i.push(t[n].parentNode);else if(p.inArray(t[n].parentNode,i)<0)i.push(t[n])}else i.push(t[n]);while(i.length){a=i.shift();if(h.is(a,"li")){o=a.parentNode;s=p(a).prev("li");var l=s.find("ul,ol").last();var d=p(a).children("ul,ol")[0];if(d&&s[0])if(l[0]){l.append(a);l.append(p(d).children());h.remove(d)}else{s.append(d);d.insertBefore(a,d.firstChild)}else{d=s.children("ul,ol")[0];if(!d){d=h.create(a.ownerDocument,h.name(o),this.getListTypeAttr(o));s.append(d)}while(a&&a.parentNode==o){d.appendChild(a);a=i.shift()}}}else{var u=parseInt(g(a),10)+30;g(a,u);for(var f=0;f<i.length;f++)if(p.contains(a,i[f]))i.splice(f,1)}}}else{var c=new m([{tags:["p"]}],{style:{marginLeft:30}});c.apply(e)}},getListTypeAttr:function(e){var t=e.getAttribute("type");var i=e.style.listStyleType;return t?{type:t}:{style:{listStyleType:i}}},mapImmutables:function(e){if(!this.immutables)return e;else{var i=[];return p.map(e,function(e){var t=d.Immutables.immutableParent(e);if(t)if(p.inArray(t,i)===-1)i.push(t);else return null;return t||e})}},remove:function(e){e=h.filterBy(e,h.htmlIndentSpace,true);var t=this.finder.findSuitable(e),i,n,r,a,o,s,l,d;t=this.mapImmutables(t);for(n=0,r=t.length;n<r;n++){l=p(t[n]);if(l.is("li")){a=l.parent();o=a.parent();if(o.is("li,ul,ol")&&!g(a[0])){if(i&&p.contains(i,o[0]))continue;s=l.nextAll("li");if(s.length)p(a[0].cloneNode(false)).appendTo(l).append(s);if(o.is("li"))l.insertAfter(o);else l.appendTo(o);if(!a.children("li").length)a.remove();continue}else{if(i==a[0])continue;i=a[0]}}else i=t[n];d=parseInt(g(i),10)-30;g(i,d)}}}),b=o.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var t=new v;t.immutables=this.editor&&this.editor.options.immutables;t.apply(u.nodes(e))}.bind(t)};o.fn.init.call(this,e)}}),_=o.extend({init:function(e){var t=this;e.formatter={toggle:function(e){var t=new v;t.immutables=this.editor&&this.editor.options.immutables;t.remove(u.nodes(e))}.bind(t)};o.fn.init.call(this,e)}}),k=s.extend({init:function(e){s.fn.init.call(this,e);this.finder=new c([{tags:f}])},initialize:function(e,t){s.fn.initialize.call(this,e,t);p.extend(this.options,{immutables:t.editor&&t.editor.options.immutables});e.addClass("k-disabled")},update:function(e,t){var i=this.finder.findSuitable(t),n,r,a,o,s,l;for(a=0,o=i.length;a<o;a++){s=i[a];if(this.options.immutables){l=d.Immutables.immutableParent(s);if(l)s=l}n=g(s);if(!n){r=p(s).parents("ul,ol").length;n=h.is(s,"li")&&(r>1||g(s.parentNode))||h.ofType(s,["ul","ol"])&&r>0}if(n){e.removeClass("k-disabled");return}}e.addClass("k-disabled").removeClass("k-hover")}});i(d,{IndentFormatter:v,IndentCommand:b,OutdentCommand:_,OutdentTool:k}),r("indent",new s({command:b,template:new l({template:n.buttonTemplate,title:"Indent"})})),r("outdent",new k({command:_,template:new l({template:n.buttonTemplate,title:"Outdent"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/linebreak.min",["./formatblock.min"],function(){var v=window.kendo.jQuery,l=window.kendo,e=v.extend,b=l.ui.editor,_=b.Dom,t=b.Command,i=b.Tool,k=b.BlockFormatter,w=_.normalize,y=b.RangeUtils,n=b.EditorUtils.registerTool,r=t.extend({init:function(e){this.options=e;t.fn.init.call(this,e)},_insertMarker:function(e,t){var i=_.create(e,"a"),n;i.className="k-marker";t.insertNode(i);if(!i.parentNode){n=t.commonAncestorContainer;n.innerHTML="";n.appendChild(i)}w(i.parentNode);return i},_moveFocus:function(e,t){if(_.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var i=y.textNodes(e)[0];if(!i){while(t.childNodes.length&&!_.is(t.firstChild,"br"))t=t.firstChild;i=t}if(_.isEmpty(i))e.setStartBefore(i);else{if(_.emptyNode(i))i.innerHTML="\ufeff";var n=i.firstChild||i;if(_.isDataNode(n))e.setStart(n,0);else e.setStartBefore(n)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),i=_.parentOfType(e.startContainer,t),n=_.parentOfType(e.endContainer,t);return i&&!n||!i&&n},_blankAfter:function(e){while(e&&(_.isMarker(e)||_.stripBom(e.nodeValue)===""))e=e.nextSibling;return!e},exec:function(){var e=this.getRange(),t=y.documentFromRange(e),i,n,r,a=b.emptyElementContent,o,s,l,d,u,f,c;this.expandImmutablesIn(e);c=this.shouldTrim(e);e.deleteContents();s=this._insertMarker(t,e);_.stripBomNode(s.previousSibling);_.stripBomNode(s.nextSibling);l=_.closestEditableOfType(s,["li"]);d=_.closestEditableOfType(s,"h1,h2,h3,h4,h5,h6".split(","));u=_.is(s.parentNode,"table")&&s.parentNode;if(l){if(_.emptyNode(l)){o=_.create(t,"p");if(_.next(l)){f=e.cloneRange();f.selectNode(l);y.split(f,l.parentNode)}var p=v("br",l);if(p.length==1)p.remove();var h=l.parentNode;var m=l.parentNode.children.length;var g=m>1&&l.childNodes.length==1&&l.children[0];_.insertAfter(o,h);_.remove(m==1?l.parentNode:l);if(g&&g!==s){o.appendChild(g);o.appendChild(s)}else o.innerHTML=a;r=o}}else if(d&&this._blankAfter(s)){o=this._insertParagraphAfter(d);_.remove(s);r=o}else if(u){o=this._insertParagraphAfter(u);_.remove(s);r=o}if(!r){if(!(l||d))new k([{tags:["p"]}]).apply([s]);e.selectNode(s);i=_.parentOfType(s,[l?"li":d?_.name(d):"p"]);y.split(e,i,c);n=i.previousSibling;if(_.is(n,"li")&&n.firstChild&&!_.is(n.firstChild,"br"))n=n.firstChild;r=i.nextSibling;this.clean(n,{links:true});this.clean(r,{links:true});if(_.is(r,"li")&&r.firstChild&&!_.is(r.firstChild,"br"))r=r.firstChild;_.remove(i);w(n)}w(r);this._moveFocus(e,r);e.collapse(true);_.scrollTo(r,true);y.selectRange(e)},_insertParagraphAfter:function(e){var t=this.getRange();var i=y.documentFromRange(t);var n=b.emptyElementContent;var r=_.create(i,"p");_.insertAfter(r,e);r.innerHTML=n;return r},clean:function(e,t){var i=e;if(e.firstChild&&_.is(e.firstChild,"br"))_.remove(e.firstChild);if(_.isDataNode(e)&&!e.nodeValue)e=e.parentNode;if(e){var n=false;while(e.firstChild&&e.firstChild.nodeType==1){n=n||_.significantNodes(e.childNodes).length>1;e=e.firstChild}if(!_.isEmpty(e)&&e.className!="k-br"&&/^\s*$/.test(e.innerHTML)&&!n){v(i).find(".k-br").remove();e.innerHTML=b.emptyElementContent}if(t&&t.links)while(e!=i){if(_.is(e,"a")&&_.emptyNode(e)){_.unwrap(e);break}e=e.parentNode}}}}),a=t.extend({init:function(e){this.options=e;t.fn.init.call(this,e)},exec:function(){var e=this.getRange();this.expandImmutablesIn(e);var t=_.create(y.documentFromRange(e),"br");var i=e.startContainer;var n;var r=l.support.browser;var a=r.msie&&r.version<11;var o=_.is(i,"table")&&i;var s;e.deleteContents();if(o)_.insertAfter(t,o);else{s=v(i).closest(".k-br");e.insertNode(t);if(s.length)_.unwrap(s[0])}w(t.parentNode);if(!a&&(!t.nextSibling||_.isWhitespace(t.nextSibling))){if(!!t.nextSibling&&_.isWhitespace(t.nextSibling))v(t.nextSibling).remove();n=t.cloneNode(true);n.className="k-br";_.insertAfter(n,t)}e.setStartAfter(t);e.collapse(true);_.scrollTo(t.nextSibling||t,true);y.selectRange(e)}});e(b,{ParagraphCommand:r,NewLineCommand:a}),n("insertLineBreak",new i({key:13,shift:true,command:a})),n("insertParagraph",new i({key:13,command:r}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/file.min",["kendo.filebrowser.min","./link.min"],function(){var e=window.kendo.jQuery,v=void 0,b=window.kendo,_=e.extend,t=b.ui.editor,i=t.EditorUtils,k=t.Dom,n=i.registerTool,r=t.ToolTemplate,w=t.RangeUtils,a=t.Command,o=t.LinkFormatter,y=w.textNodes,x=b.keys,C="#k-editor-file-url",T="#k-editor-file-text",S="#k-editor-file-title",s=a.extend({init:function(e){var t=this;a.fn.init.call(t,e);t.formatter=new o;t.async=true;t.attributes={}},insertFile:function(e,t){var i=this.attributes;var n=w.documentFromRange(t);if(i.href&&i.href!="http://")if(!e){e=k.create(n,"a",{href:i.href});e.innerHTML=i.innerHTML;e.title=i.title;t.deleteContents();t.insertNode(e);if(!e.nextSibling)k.insertAfter(n.createTextNode("\ufeff"),e);t.setStartAfter(e);t.setEndAfter(e);w.selectRange(t);return true}else k.attr(e,i);return false},_dialogTemplate:function(e){return b.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-file-url">#: messages.fileWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-url"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-text">#: messages.fileText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-text"></span>'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-title">#: messages.fileTitle #</label>'+"</div>"+"<div class='k-edit-field'>"+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input type="text" class="k-input-inner" id="k-editor-file-title"></span>'+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-dialog-insert k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary"><span class="k-button-text">#: messages.dialogInsert #</span></button>'+'<button class="k-dialog-close k-button k-button-md k-rounded-md k-button-solid k-button-solid-base"><span class="k-button-text">#: messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes);e.releaseRange(t)},exec:function(){var a=this,o=a.lockRange(),e=y(o),s=false,l=e.length?this.formatter.finder.findSuitable(e[0]):null,d,t=b.support.browser.msie,i=a.editor.options,n=i.messages,r=i.fileBrowser,u=!!(b.ui.FileBrowser&&r&&r.transport&&r.transport.read!==v),f={title:n.insertFile,visible:false,resizable:u};this.expandImmutablesIn(o);function c(e){var t=d.element,i=t.find(C).val().replace(/ /g,"%20"),n=t.find(T).val(),r=t.find(S).val();a.attributes={href:i,innerHTML:n!==""?n:i,title:r};s=a.insertFile(l,o);p(e);if(a.change)a.change()}function p(e){e.preventDefault();d.destroy();k.windowFromDocument(w.documentFromRange(o)).focus();if(!s)a.releaseRange(o)}function h(e){if(e.keyCode==x.ENTER)c(e);else if(e.keyCode==x.ESC)p(e)}f.close=p;if(u)f.width=750;d=this.createDialog(a._dialogTemplate(u),f).toggleClass("k-filebrowser-dialog",u).find(".k-dialog-insert").on("click",c).end().find(".k-dialog-close").on("click",p).end().find(".k-edit-field input").on("keydown",h).end().find(C).val(l?l.getAttribute("href",2):"http://").end().find(T).val(l?l.innerText:"").end().find(S).val(l?l.title:"").end().data("kendoWindow");var m=d.element;if(u){a._fileBrowser=new b.ui.FileBrowser(m.find(".k-filebrowser"),_({},r));a._fileBrowser.bind("change",function(e){if(e.selected.get("type")==="f")m.find(C).val(this.value())});a._fileBrowser.bind("apply",c)}if(t){var g=m.closest(".k-window").height();m.css("max-height",g)}d.center().open();m.find(C).trigger("focus").select()}});n("insertFile",new t.Tool({command:b.ui.editor.FileCommand=s,template:new r({template:i.buttonTemplate,title:"Insert File"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/tables.min",["./formatblock.min","./insert.min"],function(){var p=window.kendo.jQuery,H=void 0,c=window.kendo,i=p.extend,h=c.ui.editor,m=h.Dom,o=h.EditorUtils,M=h.RangeUtils,O=h.Command,g="kendoEditor",e="k-state-active",s="k-state-selected",v="scope",b="row",_="col",k="rowgroup",w="colgroup",y="colspan",x="rowspan",C="table",f="thead",d="tbody",T="tr",S="td",D="th",l=h.Tool,u=h.ToolTemplate,n=h.InsertHtmlCommand,L=h.BlockFormatFinder,r=h.BlockFormatTool,a=h.FormatCommand,F=h.EditorUtils.registerTool,t=h.EditorUtils.registerFormat,I=c.ui.Editor.fn.options.formats,B=c.getTouches,V=c.template,U="<td style='width:#=width#%;'>#=content#</td>",E=new L([{tags:[C]}]),W=n.extend({init:function(e){var t=p.extend({postProcess:this.postProcess,skipCleaners:true},e||{});n.fn.init.call(this,t)},_tableHtml:function(e,t){e=e||1;t=t||1;var i=V(U)({width:100/t,content:h.emptyTableCellContent});var n=100/e;return"<table class='k-table' data-last>"+new Array(e+1).join("<tr style='height:"+n+"%;'>"+new Array(t+1).join(i)+"</tr>")+"</table>"},postProcess:function(e,t){var i=p("table[data-last]",e.document).removeAttr("data-last");t.setStart(i.find(S)[0],0);t.collapse(true);e.selectRange(t)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns);n.fn.exec.call(this)}}),z=l.extend({initialize:function(e,t){l.fn.initialize.call(this,e,t);var i=p(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:e,copyAnchorStyles:false,open:this._open.bind(this),activate:this._activate.bind(this),close:this._close.bind(this)}).data("kendoPopup");e.on("click",this._toggle.bind(this)).on("keydown",this._keydown.bind(this));var n=this._editor=t.editor;this._popup=i;var r=new h.TableWizardTool({template:new u({template:o.tableWizardButtonTemplate,title:n.options.messages.tableWizard}),command:h.TableWizardCommand,insertNewTable:true});F("tableWizardInsert",r);var a=p("<div>"+r.options.template.getHtml()+"</div>");a.appendTo(i.element);if(n.toolbar)n.toolbar.attachToolsEvents(a)},popup:function(){return this._popup},_activate:p.noop,_open:function(){this._popup.options.anchor.addClass(e)},_close:function(){this._popup.options.anchor.removeClass(e)},_keydown:function(e){var t=this,i=c.keys,n=e.keyCode,r=true;if(n==i.DOWN&&e.altKey||n==i.ENTER||n==i.SPACEBAR){t._popup.open();r=false}else if(n==i.ESC)t._popup.close()},_toggle:function(e){var t=p(e.target).closest(".k-tool");if(!t.hasClass("k-disabled"))this.popup().toggle()},update:function(e){var t=this.popup();if(t.wrapper&&t.wrapper.css("display")=="block")t.close();e.removeClass("k-hover")},destroy:function(){this._popup.destroy()}}),j=z.extend({init:function(e){this.cols=8;this.rows=6;z.fn.init.call(this,p.extend(e,{command:W,popupTemplate:"<div class='k-ct-popup'>"+"<div>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled'></span>")+"</div>"+"<div class='k-status'></div>"+"</div>"}))},_activate:function(){var i=this,e=i._popup.element,t=e.find(".k-ct-cell"),n=t.eq(0),r=t.eq(t.length-1),a=c.getOffset(n),o=c.getOffset(r),s=i.cols,l=i.rows,d,u;e.find("*").addBack().attr("unselectable","on");o.left+=r[0].offsetWidth;o.top+=r[0].offsetHeight;d=(o.left-a.left)/s;u=(o.top-a.top)/l;function f(e){var t=p(window);return{row:Math.floor((e.clientY+t.scrollTop()-a.top)/u)+1,col:Math.floor((e.clientX+t.scrollLeft()-a.left)/d)+1}}e.autoApplyNS(g).on("mousemove",".k-ct-cell",function(e){i._setTableSize(f(e))}).on("mouseleave",".k-ct-cell",function(){i._setTableSize()}).on("down",".k-ct-cell",function(e){e.preventDefault();var t=B(e)[0];i._exec(f(t.location))})},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){if(this._valid(e)){this._editor.exec("createTable",{rows:e.row,columns:e.col});this._popup.close()}},_setTableSize:function(t){var e=this._popup.element;var i=e.find(".k-status");var n=e.find(".k-ct-cell");var r=this.cols;var a=this._editor.options.messages;if(this._valid(t)){i.text(c.format(a.createTableHint,t.row,t.col));n.each(function(e){p(this).toggleClass(s,e%r<t.col&&e/r<t.row)})}else{i.text(a.createTable);n.removeClass(s)}},_keydown:function(e){var t=this._popup.visible();z.fn._keydown.call(this,e);if(!this._popup.visible())return;var i=c.keys;var n=e.keyCode;var r=this._popup.element.find(".k-ct-cell");var a=Math.max(r.filter(".k-state-selected").last().index(),0);var o=Math.floor(a/this.cols);var s=a%this.cols;var l=false,d;if(n==i.DOWN&&!e.altKey){l=true;o++}else if(n==i.UP){l=true;o--}else if(n==i.RIGHT){l=true;s++}else if(n==i.LEFT){l=true;s--}else if(n==i.TAB){d=this._popup.element.find(".k-button");if(d.length>0){l=true;d.trigger("focus")}}var u={row:Math.max(1,Math.min(this.rows,o+1)),col:Math.max(1,Math.min(this.cols,s+1))};if(n==i.ENTER&&t)this._exec(u);else this._setTableSize(u);if(l){e.preventDefault();e.stopImmediatePropagation()}},_open:function(){var e=this._editor.options.messages;z.fn._open.call(this);this.popup().element.find(".k-status").text(e.createTable).end().find(".k-ct-cell").removeClass(s)},_close:function(){z.fn._close.call(this);this.popup().element.off("."+g)}}),A=O.extend({undo:function(){var e=this.restorePoint;e.restoreHtml();p(this.editor.body).find(".k-element-resize-handle-wrapper").each(function(e,t){t.remove()});this.editor.selectRange(e.toRange())},_clearColIndexAttr:function(e){m.clearTableMappings(e,"col-index")},_mapColIndices:function(e){m.reMapTableColumns(e,"col-index")},_findRowSpanCell:function(e,t,i){var n,r;for(var a=t;a>=0;a--){n=e.rows[a];r=p(n).find("[col-index="+i+"]");if(r.length)return r}},_resetElementResizing:function(e){e._destroyResizings();e._initializeColumnResizing();e._initializeRowResizing();e._initializeElementResizing()},_findNextTdInRow:function(e,t){var i=e.find("td:last-child"),n=parseInt(i.attr("col-index"),10)+i.prop("colSpan")-1,r;for(var a=t;a<=n;a++){r=e.find("[col-index="+a+"]");if(r.length)return r}},_adjustColgroups:function(e,t){var i=t.getElementsByTagName(_),n=t.getElementsByTagName(w),r=e.cells,a=r.length,o,s,l;while(i.length>0)i[0].remove();while(n.length>0)n[0].remove();for(o=a-1;o>=0;o--){l=r[o];if(l.getAttribute(v)===w){s=m.createEmptyNode(this.editor.document,w);s.setAttribute("span",l.getAttribute(y));t.prepend(s)}else t.prepend(m.createEmptyNode(this.editor.document,_))}},_associateHeaderIds:function(e){m.clearTableMappings(e,"col-index");m.reMapTableColumns(e,"col-index");p(e).find("th, td").removeAttr("id headers");m.associateWithIds(e)},_getNumberOfColumns:function(e){return m._getNumberOfColumns(e,"td, th")}}),q=A.extend({exec:function(){var e=this.lockRange(true),t=m.closest(e.endContainer,[S,D]),i=m.closest(t,C),n=this.options.position||"after",r,a,o,s,l,d,u;if(!i||this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);a=t.parentNode;l=m.findNodeIndex(a,true);if(t.rowSpan>1&&n==="after")a=i.rows[l+t.rowSpan-1];r=this._getNumberOfColumns(i);s=a.cloneNode(true);p(s).empty();for(var f=0;f<r;f=f+o.prop("colSpan")){o=p(a).find("[col-index="+f+"]");if(o.length)if(o.prop("rowSpan")>1&&n==="after"&&o)o.attr(x,o.prop("rowSpan")+1);else this._appendCell(s,o);else{l=m.findNodeIndex(a,true);o=this._findRowSpanCell(a.parentElement,l,f);d=o.closest(T).index();if(d+o.prop("rowSpan")-1===l&&n==="after")this._appendCell(s,o);else o.attr(x,o.prop("rowSpan")+1)}u=p(s).find("[col-index="+f+"]");if(u.attr(v)===k&&!u.attr(x))u.attr(v,b)}if(n=="before")m.insertBefore(s,a);else m.insertAfter(s,a);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_appendCell:function(e,t){var i;i=t.clone();i.html(h.emptyTableCellContent);i.removeAttr(x);i.appendTo(e)}}),G=A.extend({exec:function(){var e=this.lockRange(true),t=m.closest(e.endContainer,[S,D]),i=m.closest(t,C),n=i.getElementsByTagName(_),r=i.getElementsByTagName(w),a,o,s=i&&i.rows,l,d,u=this.options.position||"after";if(!t||this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);a=parseInt(t.getAttribute("col-index"),10);if(t.colSpan>1&&u==="after"){t.setAttribute("col-index",a+t.colSpan-1);a=a+t.colSpan-1}for(o=0;o<s.length;o++){l=this._processForColSpan(s[o],a,u,t);if(!l)continue;d=l.cloneNode();d.innerHTML=h.emptyTableCellContent;d.removeAttribute(y);if(d.getAttribute(v)&&d.getAttribute(v)===w)d.setAttribute(v,_);if(u=="before")m.insertBefore(d,l);else m.insertAfter(d,l);this._resizeCells(d,l)}if(n.length>0||r.length>0)this._adjustColgroups(s[0],i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_processForColSpan:function(e,t,i,n){var r,a,o=t-1;r=p(e).find("[col-index="+t+"]")[0];if(r&&r.colSpan>1&&i==="after"&&r!==n){r.colSpan+=1;return}if(r)return r;for(o;o>=0;o--){r=p(e).find("[col-index="+o+"]")[0];if(r&&r.colSpan>1)break}if(!r)return;a=parseInt(r.getAttribute("col-index"),10)+r.colSpan-1;if(a===t&&i==="after")return r;else if(t<=a)r.setAttribute(y,r.colSpan+1)},_resizeCells:function(e,t){var i=e.style.width,n,r,a;if(!i)return;n=parseFloat(i);r=i.slice(n.toString().length);a=n/2+r;e.style.width=a;t.style.width=a}}),$=A.extend({exec:function(){var e=this.lockRange();var t=M.mapAll(e,function(e){return p(e).closest(T)[0]});var i=m.closest(e.endContainer,[S,D]);var n=t[0];var r=i?i.rowSpan:1;var a=p(t[0]).index();var o=m.closest(n,C);var s=n.parentElement;var l;if(!o||this.immutables()&&h.Immutables.immutableParent(n)){this.releaseRange(e);return}for(var d=0;d<r;d++)if(t.indexOf(s.rows[a+d])<0)t.push(s.rows[a+d]);if(o.rows.length<=t.length){l=m.next(o);if(!l||m.insignificant(l))l=m.prev(o);if(l&&l.rows)l=l.rows[0].cells[0];m.remove(o);this._resetElementResizing(this.editor)}else if(s.rows.length<=t.length){l=s.nextSibling;if(!l)l=s.previousSibling;m.remove(s)}else{this._mapColIndices(o);for(var u=0;u<t.length;u++){n=t[u];m.removeTextSiblings(n);l=m.next(n)||m.prev(n);l=l.cells[0];this._focusElement(e,l);l=null;this._handleRowSpanCells(o,n);m.remove(n)}this._clearColIndexAttr(o)}if(p(o).find("[headers]").length>0)this._associateHeaderIds(o);else if(m.is(s,f)&&p(o).find("[scope]").length>0)this._adjustColgroups(s.rows[0],o);if(l)this._focusElement(e,l);this._resetElementResizing(this.editor)},_focusElement:function(e,t){e.setStart(t,0);e.collapse(true);this.editor.selectRange(e)},_handleRowSpanCells:function(e,t){var i,n,r,a,o=m.findNodeIndex(t,true),s=e.rows[0],l=s.cells[s.cells.length-1],d=parseInt(l.getAttribute("col-index"),10)+l.colSpan-1;for(i=0;i<=d;i=i+n.prop("colSpan")){n=p(t).find("[col-index="+i+"]");if(n.length&&n.prop("rowSpan")>1){a=e.rows[o+1];r=p(a).find("[col-index="+(i+1)+"]");if(r.length)r.before(n);else p(a).append(n);this._reduceRowSpan(n)}if(!n.length){n=this._findRowSpanCell(t.parentElement,o,i);this._reduceRowSpan(n)}}},_reduceRowSpan:function(e){var t=e.prop("rowSpan")-1;if(t<=1){e.removeAttr(x);if(e.attr(v)===k)e.attr(v,b)}else e.attr(x,t)}}),Y=A.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[S,D]),i=m.closest(t,C),n=i&&i.rows,r=m.findNodeIndex(t,true),a=n&&n[0].cells.length,o=i.getElementsByTagName(_),s=i.getElementsByTagName(w),l,d,u,f;if(!t||this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}if(a==1||t.colSpan==a){l=m.next(i);if(!l||m.insignificant(l))l=m.prev(i);if(l&&l.rows)l=l.rows[0].cells[0];m.remove(i);this._resetElementResizing(this.editor)}else{m.removeTextSiblings(t);l=m.next(t)||m.prev(t);this._mapColIndices(i);r=parseInt(t.getAttribute("col-index"),10);for(f=0;f<t.colSpan;f++)for(d=0;d<n.length;d=d+(u.prop("rowSpan")||1)){u=p(n[d]).find("[col-index="+(r+f)+"]");if(u.length&&u.prop("colSpan")<=1)u.remove();else this._handleColSpanCells(n[d],r+f)}this._clearColIndexAttr(i)}if(o.length>0||s.length>0)this._adjustColgroups(n[0],i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);if(l){e.setStart(l,0);e.collapse(true);this.editor.selectRange(e)}this._resetElementResizing(this.editor)},_handleColSpanCells:function(e,t){var i=p(e).find("[col-index="+t+"]");if(i.length&&i.prop("colSpan")>1){var n=i.clone(true);i.after(n);this._reduceColSpan(n);n.attr("col-index",parseInt(i.attr("col-index"),10)+1);i.remove();return}for(var r=t;r>=0;r--){i=p(e).find("[col-index="+r+"]");if(i.length){this._reduceColSpan(i);i.attr("col-index",parseInt(i.attr("col-index"),10)+1);return}}},_reduceColSpan:function(e){var t=e.prop("colSpan")-1;if(t<=1){e.removeAttr(y);if(e.attr(v)===w)e.attr(v,_)}else e.attr(y,t)}}),K=A.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[S,D]),i,n,r,a,o;if(!t){this.releaseRange(e);return}i=m.closest(t,C);n=t.parentNode;r=m.findNodeIndex(t,true);a=n.children[r+1];if(this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(i);r=parseInt(p(t).attr("col-index"),10);a=p(n).find("[col-index="+(r+1+this._getColspan(t)-1)+"]").get(0);if(!a||a.rowSpan!==t.rowSpan||t.tagName!==a.tagName){this._clearColIndexAttr(i);this.releaseRange(e);return}o=this._getColspan(t)+this._getColspan(a);p(t).prop(y,o).append(m.emptyNode(a)?"":"<br/>"+a.innerHTML);p(t).width(t.offsetWidth);p(a).remove();if(t.getAttribute(v)===_)t.setAttribute(v,w);if(t.getAttribute(v)===w)this._adjustColgroups(n,i);if(p(i).find("[headers]").length>0)this._associateHeaderIds(i);this._clearColIndexAttr(i);this.releaseRange(e);this._resetElementResizing(this.editor)},_getColspan:function(e){return parseInt(e.getAttribute(y),10)||1}}),Q=A.extend({exec:function(){var e=this.lockRange(),t=m.closest(e.endContainer,[S,D]),i,n,r,a,o,s,l;if(!t){this.releaseRange(e);return}i=m.closest(t,T);n=m.closest(t,[f,d]);r=m.closest(t,C);a=m.findNodeIndex(t,true);o=m.findNodeIndex(i,true);if(o+1===n.rows.length){this.releaseRange(e);return}s=n.rows[o+this._getRowspan(t)];l=s&&s.children[a];if(this.immutables()&&h.Immutables.immutableParent(t)){this.releaseRange(e);return}this._mapColIndices(r);a=p(t).attr("col-index");l=p(s).find("[col-index="+a+"]").get(0);if(!l||l.colSpan!==t.colSpan||t.tagName!==l.tagName){this._clearColIndexAttr(r);this.releaseRange(e);return}p(t).prop(x,this._getRowspan(t)+this._getRowspan(l)).append(m.emptyNode(l)?"":"<br/>"+l.innerHTML);if(t.getAttribute(v)===b)t.setAttribute(v,k);p(l).remove();if(p(r).find("[headers]").length>0)this._associateHeaderIds(r);this._clearColIndexAttr(r);this.releaseRange(e)},_getRowspan:function(e){return parseInt(e.getAttribute(x),10)||1}}),R=A.extend({exec:function(){var e=this.lockRange(),t=this.options.type,i=t==="row"?y:x,n=m.closest(e.endContainer,[S,D]),r=m.closest(n,[f,d]),a=m.closest(n,C),o=m.createEmptyNode(this.editor.document,n.nodeName.toLowerCase());if(!n||this.immutables()&&h.Immutables.immutableParent(n)){this.releaseRange(e);return}this._mapColIndices(a);if(t==="row"&&p(n).is("["+i+"]"))this._splitCellHorizontally(n,r,i,o);else if(t==="column"&&p(n).is("["+i+"]"))this._splitCellVertically(n,r,i,o);if(p(n).prop(i.toLowerCase())<=1)p(n).removeAttr(i);if(p(a).find("[headers]").length>0)this._associateHeaderIds(a);this._clearColIndexAttr(a);this.releaseRange(e)},_getRowspanValue:function(e){return parseInt(e.getAttribute(x),10)},_getColspanValue:function(e){return parseInt(e.getAttribute(y),10)},_splitCellHorizontally:function(e,t,i,n){var r=e.rowSpan,a=e.colSpan,o=p(n),s=Math.floor(a/2);if(s>1)o.attr(y,s);if(r>1)o.attr(x,r);p(e).prop(i,a-s).after(o);p(e).width(e.offsetWidth);o.width(o[0].offsetWidth);if(e.hasAttribute(v))if(e.getAttribute(v)===w){o.attr(v,_);if(!e.getAttribute(y)||e.getAttribute(y)==="1")e.setAttribute(v,_);this._adjustColgroups(e.parentNode,t.parentNode)}else o.attr(v,e.getAttribute(v))},_splitCellVertically:function(e,t,i,n){var r=m.closest(e,T),a=parseInt(p(e).attr("col-index"),10),o=m.findNodeIndex(r,true),s=e.rowSpan,l=e.colSpan,d=Math.floor(s/2),u=p(t).find(T).eq(o+s-d),f=this._findNextTdInRow(u,a+l),c=p(n);if(d>1)c.attr(x,d);if(l>1)c.attr(y,l);if(f&&f.length)f.before(c);else u.append(c);p(e).prop(i,s-d);if(e.hasAttribute(v))if(e.getAttribute(v)===k){c.attr(v,b);if(!e.getAttribute(x)||e.getAttribute(x)==="1")e.setAttribute(v,b)}else c.attr(v,e.getAttribute(v))}}),N=l.extend({command:function(e){var t={row:{insert:q,delete:$,merge:K,split:R},column:{insert:G,delete:Y,merge:Q,split:R}};e=i(e,this.options);e.action=e.action||"insert";return new t[e.type][e.action](e)},initialize:function(e,t){l.fn.initialize.call(this,e,t);e.addClass("k-disabled");e.attr("disabled","disabled")},update:function(e,t){var i=!E.isFormatted(t);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}}),X=a.extend({exec:function(){var e=this;var t=e.editor;a.fn.exec.call(this);if(t.elementResizing)t.elementResizing._showResizeHandles()}}),P=r.extend({initialize:function(e,t){r.fn.initialize.call(this,e,t);e.addClass("k-disabled");e.attr("disabled","disabled")},update:function(e,t){var i=!E.isFormatted(t);var n=this.options.finder.isFormatted(t,this.isTable);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}e.toggleClass("k-selected",n);e.attr("aria-pressed",n)},command:function(e){var t=this;return new X(i(e,{formatter:t.options.formatter}))},isTable:function(e){return m.is(e,"table")}});i(c.ui.editor,{PopupTool:z,TableCommand:W,InsertTableTool:j,TableFormatTool:P,TableFormatCommand:X,TableModificationTool:N,InsertRowCommand:q,InsertColumnCommand:G,DeleteRowCommand:$,DeleteColumnCommand:Y,MergeCellsHorizontallyCommand:K,MergeCellsVerticallyCommand:Q,SplitCellCommand:R}),F("createTable",new j({template:new u({template:o.buttonTemplate,popup:true,title:"Create table"})})),F("addColumnLeft",new N({type:"column",position:"before",template:new u({template:o.buttonTemplate,title:"Add column on the left"})})),F("addColumnRight",new N({type:"column",template:new u({template:o.buttonTemplate,title:"Add column on the right"})})),F("addRowAbove",new N({type:"row",position:"before",template:new u({template:o.buttonTemplate,title:"Add row above"})})),F("addRowBelow",new N({type:"row",template:new u({template:o.buttonTemplate,title:"Add row below"})})),F("deleteRow",new N({type:"row",action:"delete",template:new u({template:o.buttonTemplate,title:"Delete row"})})),F("deleteColumn",new N({type:"column",action:"delete",template:new u({template:o.buttonTemplate,title:"Delete column"})})),F("mergeCellsHorizontally",new N({type:"row",action:"merge",template:new u({template:o.buttonTemplate,title:"Merge Cell Right"})})),F("mergeCellsVertically",new N({type:"column",action:"merge",template:new u({template:o.buttonTemplate,title:"Merge Cell Down"})})),F("splitCellHorizontally",new N({type:"row",action:"split",template:new u({template:o.buttonTemplate,title:"Split Cell"})})),F("splitCellVertically",new N({type:"column",action:"split",template:new u({template:o.buttonTemplate,title:"Split Cell"})})),t("tableAlignLeft",[{tags:["table"],attr:{style:{marginLeft:"",marginRight:"auto"}}},{tags:["table"],attr:{align:"left"}}]),F("tableAlignLeft",new P({format:I.tableAlignLeft,template:new u({template:o.buttonTemplate,title:"Table Align Left"})})),t("tableAlignCenter",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:"auto"}}},{tags:["table"],attr:{align:"center"}}]),F("tableAlignCenter",new P({format:I.tableAlignCenter,template:new u({template:o.buttonTemplate,title:"Table Align Center"})})),t("tableAlignRight",[{tags:["table"],attr:{style:{marginLeft:"auto",marginRight:""}}},{tags:["table"],attr:{align:"right"}}]),F("tableAlignRight",new P({format:I.tableAlignRight,template:new u({template:o.buttonTemplate,title:"Table Align Left"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/clipboard.min",["../command.min"],function(){var y=window.kendo.jQuery,u=window.kendo,e=u.Class,t=u.ui.editor,k=t.RangeUtils,x=t.Dom,n=t.RestorePoint,w=t.Marker,C=u.support.browser,T=y.extend,i=e.extend({init:function(e){this.editor=e;var t=e.options.pasteCleanup;this.cleaners=[new a(t),new o(t),new s(t),new l(t),new f(t),new c(t),new g(t),new v(t)]},htmlToFragment:function(e){var t=this.editor,i=t.document,n=x.create(i,"div"),r=i.createDocumentFragment();n.innerHTML=e;while(n.firstChild)r.appendChild(n.firstChild);return r},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e;var t;var i=this.editor;if(this._inProgress)return;this._inProgress=true;e=i.getRange();t=new n(e,i.body);x.persistScrollTop(i.document);return{range:e,restorePoint:t}},_endModification:function(e){t._finishUpdate(this.editor,e.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(e,t){var i=this;var n=i.editor;var r=i._startModification();if(!r)return;e.call(i,n,r.range);setTimeout(function(){t.call(i,n,r.range);i._endModification(r)})},_removeBomNodes:function(e){var t=k.textNodes(e);for(var i=0;i<t.length;i++)t[i].nodeValue=x.stripBom(t[i].nodeValue)||t[i].nodeValue},_onBeforeCopy:function(e){var t=new w;t.add(e);this._removeBomNodes(e);t.remove(e);this.editor.selectRange(e)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange());this._contentModification(y.noop,y.noop)},_fileToDataURL:function(e){var t=y.Deferred();var i=new FileReader;if(!(e instanceof window.File)&&e.getAsFile)e=e.getAsFile();i.onload=t.resolve.bind(t);i.readAsDataURL(e);return t.promise()},_triggerPaste:function(e,t){var i={html:e||""};i.html=i.html.replace(/\ufeff/g,"");this.editor.trigger("paste",i);this.paste(i.html,t||{})},_handleImagePaste:function(e){if(!("FileReader"in window)||C.msie&&C.version>10)return;var t=e.clipboardData||e.originalEvent.clipboardData||window.clipboardData||{};var i=t.items||t.files;return this._insertImages(i)},_insertImages:function(e){if(!e)return;var t=y.grep(e,function(e){return/^image\//i.test(e.type)});var i=y.grep(e,function(e){return/^text\/html/i.test(e.type)});if(i.length||!t.length)return;var n=this._startModification();if(!n)return;y.when.apply(y,y.map(t,this._fileToDataURL)).done(function(){var e=Array.prototype.slice.call(arguments);var t=y.map(e,function(e){return'<img src="'+e.target.result+'" />'}).join("");this._triggerPaste(t);this._endModification(n)}.bind(this));return true},onpaste:function(d){if(this.editor.body.contentEditable==="false")return;if(this._handleImagePaste(d)){d.preventDefault();return}this.expandImmutablesIn();this._contentModification(function e(t,i){var n=x.create(t.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var r=u.support.browser;var a=t.body;this._decoreateClipboardNode(n,a);a.appendChild(n);if(r.webkit)this._moveToCaretPosition(n,i);if(r.msie&&r.version<11){d.preventDefault();var o=t.createRange();o.selectNodeContents(n);t.selectRange(o);var s=t.document.body.createTextRange();s.moveToElementText(n);y(a).off("paste");s.execCommand("Paste");y(a).on("paste",this.onpaste.bind(this))}else{var l=t.createRange();l.selectNodeContents(n);t.selectRange(l)}i.deleteContents()},function e(t,i){var n="",r;t.selectRange(i);r=y(t.body).children(".k-paste-container");r.each(function(){var e=this.lastChild;if(e&&x.is(e,"br"))x.remove(e);n+=this.innerHTML});r.remove();this._triggerPaste(n,{clean:true})})},ondragover:function(e){if(C.msie||C.edge){e.stopPropagation();e.preventDefault()}},ondrop:function(e){if(!("FileReader"in window))return;var t=(e.originalEvent||e).dataTransfer||{};var i=t.items||t.files;if(this._insertImages(i))e.preventDefault()},_decoreateClipboardNode:function(e,t){if(!C.msie&&!C.webkit)return;e=y(e);e.css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"});if(C.msie){var i=y(t.ownerDocument.documentElement);e.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var n=i.css("color");if(n)e.css("color",n);var r=i.css("fontFamily");if(r)e.css("fontFamily",r);var a=i.css("fontSize");if(a)e.css("fontSize",a)}},_moveToCaretPosition:function(e,t){var i=this;var n=i.editor.body;var r=x.offset(e,n);var a=i._caretOffset(t,n);var o=a.left-r.left;var s=a.top-r.top;var l="translate("+o+"px,"+s+"px)";y(e).css({"-webkit-transform":l,transform:l})},_caretOffset:function(e,t){var i=this.editor;var n=x.create(i.document,"span",{innerHTML:"\ufeff"});var r=e.startContainer;var a;if(e.collapsed){var o=x.isDataNode(r);if(o&&(x.isBom(r)||e.startOffset===0))x.insertBefore(n,r);else if(o&&e.startOffset===r.length)x.insertAfter(n,r);else{e.insertNode(n);a=true}}else{r=r===t?r.childNodes[e.startOffset]:r;x.insertBefore(n,r)}var s=x.offset(n,t);var l=n.previousSibling;var d=n.nextSibling;x.remove(n);if(a&&x.isDataNode(l)&&x.isDataNode(d)&&!x.isBom(l)&&!x.isBom(d)){var u=l.length;d.data=l.data+d.data;e.setStart(d,u);x.remove(l);e.collapse(true);i.selectRange(e)}return s},expandImmutablesIn:function(e){var t=this.editor;if(t&&t.options.immutables){var i=t.body;e=e||t.getRange();u.ui.editor.Immutables.expandImmutablesIn(e);if(e.startContainer===i&&e.startOffset===0){var n=i.ownerDocument;var r=n.createTextNode("\ufeff");i.insertBefore(r,i.childNodes[0]);e.setStartBefore(r)}t.selectRange(e)}},splittableParent:function(e,t){var i,n;if(e)return x.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;i=t.parentNode;n=t.ownerDocument.body;if(x.isInline(i))while(i.parentNode!=n&&!x.isBlock(i.parentNode))i=i.parentNode;return i},paste:function(e,t){var i=this.editor,n,r,a;this.expandImmutablesIn();t=T({clean:false,split:true},t);if(!t.skipCleaners)for(n=0,r=this.cleaners.length;n<r;n++)if(this.cleaners[n].applicable(e))e=this.cleaners[n].clean(e);if(t.clean){e=e.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3");e=e.replace(/<(a|span)[^>]*><\/\1>/gi,"")}e=e.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>");e=e.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var o=this.isBlock(e);i.focus();var s=i.getRange();s.deleteContents();if(s.startContainer==i.document)s.selectNodeContents(i.body);var l=new w;var d=l.addCaret(s);var u=this.splittableParent(o,d);var f=false;var c=u!=i.body&&!x.is(u,"td");if(t.split&&c&&(o||x.isInline(u))){s.selectNode(d);k.split(s,u,true);f=true}var p=this.htmlToFragment(e);if(p.firstChild&&p.firstChild.className==="k-paste-container"){var h=[];for(n=0,r=p.childNodes.length;n<r;n++)h.push(p.childNodes[n].innerHTML);p=this.htmlToFragment(h.join("<br />"))}a=p.childNodes;y(a).filter("table").addClass("k-table").end().find("table").addClass("k-table");y(a).each(function(e,t){if(x.isBlock(t)&&!x.isSelfClosing(t)&&t.innerHTML==="")t.appendChild(i.document.createTextNode("\ufeff"))});s.insertNode(p);u=this.splittableParent(o,d);if(f){while(d.parentNode!=u)x.unwrap(d.parentNode);x.unwrap(d.parentNode)}x.normalize(s.commonAncestorContainer);d.style.display="inline";x.restoreScrollTop(i.document);x.scrollTo(d);l.removeCaret(s);var m=s.commonAncestorContainer.parentNode;if(s.collapsed&&x.name(m)=="tbody"||s.collapsed&&x.name(m)=="thead"){s.setStartAfter(y(m).closest("table")[0]);s.collapse(true)}var g=y(s.commonAncestorContainer.parentNode).closest("table");if(g.get(0)){var v=g.parent().contents();var b=v.length-1;var _=v.get(b);while(_.nodeValue!==null&&(_.nodeValue===" "||_.nodeValue==="")){b-=1;_=v.get(b)}if(_===g.get(0)&&!g.parents("table").length)x.insertAfter(x.createEmptyNode(i.document,"p"),g[0])}i.selectRange(s)}}),r=e.extend({init:function(e){this.options=e||{};this.replacements=[]},clean:function(e,t){var i=this,n=t||i.replacements,r,a;for(r=0,a=n.length;r<a;r+=2)e=e.replace(n[r],n[r+1]);return e}}),a=r.extend({init:function(e){r.fn.init.call(this,e);this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return!this.options.none&&/<script[^>]*>/i.test(e)}}),o=r.extend({init:function(e){r.fn.init.call(this,e);var t=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,t,/\t/gi,t,/&nbsp;&nbsp; &nbsp;/gi,t]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),s=r.extend({init:function(e){r.fn.init.call(this,e);this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""];this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>\n/g,"<br/>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}])},convertFontMatch:function(e,t,i){var n=/face=['"]([^'"]+)['"]/i;var r=n.exec(i);var a=i&&r&&r[1];if(t)return"</span>";else if(a)return'<span style="font-family:'+a+'">';else return"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){if(!t||t.indexOf("href")<0)return"";return e})},listType:function(e,t){var i=e.innerHTML;var n=x.innerText(e);var r;var a=i.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i);var o=a&&a[1];var s=/^[a-z\d]/i.test(o);var l=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};if(a)r=true;i=i.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," ");if(!r&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(i)||r&&/^.\u00a0+/.test(i)||o&&!s&&t)return{tag:"ul",style:this._guessUnorderedListStyle(l(n))};if(/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i))return{tag:"ol",style:this._guessOrderedListStyle(l(n))}},_convertToLi:function(e){var t;if(e.childNodes.length==1){t=e.firstChild.nodeType===x.nodeTypes.TEXT_NODE?x.innerText(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"");t=this._checkForBullet(t)}else t=this._getHtmlNoBullet(e);x.remove(e);return x.create(document,"li",{innerHTML:t})},_checkForBullet:function(e){var t=x.create(document,"p",{innerHTML:e});var i=/^\s*\w+[\.\)]\s+/;if(i.test(t.innerText))return this._getHtmlNoBullet(t);return e},_getHtmlNoBullet:function(e){var t,i=x.name(e);x.remove(e.firstChild);if(e.firstChild.nodeType==3)if(/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue))x.remove(e.firstChild);if(/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML))x.remove(e.firstChild);if(i!="p")t="<"+i+">"+e.innerHTML+"</"+i+">";else t=e.innerHTML;return t},_guessUnorderedListStyle:function(e){if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e))return null;else if(/^o/.test(e))return"circle";else return"square"},_guessOrderedListStyle:function(e){var t=null;if(!/^\d/.test(e))t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha");return t},extractListLevels:function(e){var t=/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi;e=e.replace(t,function(e,t,i){return u.format('data-list="{0}" data-level="{1}" {2}',t,i,e)});return e},_createList:function(e,t){return x.create(document,e,{style:{listStyleType:t}})},lists:function(e){var t=y(e).find(x.blockElements.join(",")),i=-1,n,r={},a,o,s,l,d,u,f,c,p,h,m,g,v=["p","h1","h2","h3","h4","h5","h6"],b=false;for(f=0;f<t.length;f++){c=t[f];g=y(c).data();var _=g.list;n=x.name(c);b=!!y(c).parents("table").length;if(b)continue;var k=this.listType(c,g);p=k&&k.tag;if(!p||v.indexOf(n)<0){if(!c.innerHTML)x.remove(c);else if(a&&!d)a.appendChild(c);continue}if(C.msie)continue;h=g.level||parseFloat(c.style.marginLeft||0);var w=p+_;if(!r[h])r[h]={};if(!o||o<0){o=h;s=_;l=y(e).find("[data-list='"+s+"']").last()[0];u=this._createList(p,k.style);x.insertBefore(u,c);i=h;r[h][w]=u}d=l===c;m=r[h][w];if(h>i||!m){m=this._createList(p,k.style);r[h][w]=m;a.appendChild(m)}a=this._convertToLi(c);m.appendChild(a);if(d)o=i=-1;else i=h}},removeAttributes:function(e){var t=e.attributes,i=t.length,n=[],r=function(e){if(e.trim().indexOf("border")===0)n.push(e.trim())},a,o,s;while(i--)if(x.name(t[i])!="colspan"){a=t[i];o=a.name;if(o==="style"&&(e.nodeName==="TD"||e.nodeName==="TH")){s=a.value.split(";");s.forEach(r)}e.removeAttributeNode(t[i])}if(n.length>0)e.setAttribute("style",n.join(";"))},createColGroup:function(e){var t=e.cells;var i=y(e).closest("table");var n=i.children("colgroup");if(t.length<2)return;else if(n.length){t=n.children();n[0].parentNode.removeChild(n[0])}n=y(y.map(t,function(e){var t=e.width;if(t&&parseInt(t,10)!==0)return u.format('<col style="width:{0}px;"/>',t);return"<col />"}).join(""));if(!n.is("colgroup"))n=y("<colgroup/>").append(n);n.prependTo(i)},convertHeaders:function(e){var t=e.cells,i,n=y.map(t,function(e){var t=y(e).children("p").children("strong")[0];if(t&&x.name(t)=="strong")return t});if(n.length==t.length){for(i=0;i<n.length;i++)x.unwrap(n[i]);y(e).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(e);for(i=0;i<t.length;i++)x.changeTag(t[i],"th")}},removeParagraphs:function(e){var t,i,n,r,a;for(t=0;t<e.length;t++){this.removeAttributes(e[t]);r=y(e[t]);a=r.children("p");for(i=0,n=a.length;i<n;i++){if(i<n-1)x.insertAfter(x.create(document,"br"),a[i]);x.unwrap(a[i])}}},removeDefaultColors:function(e){for(var t=0;t<e.length;t++)if(/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText))x.unwrap(e[t])},removeTextNodes:function(e){var t,i,n,r,a;for(t=0;t<e.length;t++){a=e[t];n=a.childNodes;for(i=0;i<n.length;i++){r=n[i];if(r.nodeType===x.nodeTypes.TEXT_NODE)a.removeChild(r)}}},tables:function(e){var t=y(e).find("table"),i=this,n,r,a,o,s;for(o=0;o<t.length;o++){n=t[o].rows;a=r=n[0];for(s=1;s<n.length;s++)if(n[s].cells.length>a.cells.length)a=n[s];i.createColGroup(a);i.convertHeaders(r);i.removeAttributes(t[o]);i.removeParagraphs(t.eq(o).find("td,th"));i.removeDefaultColors(t.eq(o).find("span"));i.removeTextNodes(t.eq(o).find("tr"))}},headers:function(e){var t=y(e).find("p.MsoTitle");for(var i=0;i<t.length;i++)x.changeTag(t[i],"h1")},removeFormatting:function(e){y(e).find("*").each(function(){y(this).css({fontSize:"",fontFamily:""});if(!this.getAttribute("style")&&!this.style.cssText)this.removeAttribute("style")})},clean:function(e){var t=this,i;var n=this.options;if(n.none){e=r.fn.clean.call(t,e,this.junkReplacements);e=t.stripEmptyAnchors(e)}else{e=n.msConvertLists?this.extractListLevels(e):e;e=r.fn.clean.call(t,e);e=t.stripEmptyAnchors(e);i=x.create(document,"div",{innerHTML:e});t.headers(i);if(n.msConvertLists)t.lists(i);t.tables(i);if(n.msAllFormatting)t.removeFormatting(i);e=i.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}return e}}),l=r.extend({init:function(e){r.fn.init.call(this,e);this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),d=r.extend({clean:function(e){var t=x.create(document,"div",{innerHTML:e});t=this.cleanDom(t);return t.innerHTML},cleanDom:function(e){return e}}),f=d.extend({cleanDom:function(e){var t=this.collectTags();y(e).find(t).each(function(){x.unwrap(this)});return e},collectTags:function(){if(this.options.span)return"span"},applicable:function(){return this.options.span}}),c=d.extend({cleanDom:function(e){var t=this.collectAttr();var i=y(e).find("["+t.join("],[")+"]");i.removeAttr(t.join(" "));return e},collectAttr:function(){if(this.options.css)return["class","style"];return[]},applicable:function(){return this.options.css}}),p=function(){this.text="";this.add=function(e){this.text+=e}},h=e.extend({init:function(e){this.separators=e||{text:" ",line:"<br/>"};this.lines=[];this.inlineBlockText=[];this.resetLine()},appendText:function(e){if(e.nodeType===3)e=e.nodeValue;this.textContainer.add(e)},appendInlineBlockText:function(e){this.inlineBlockText.push(e)},flashInlineBlockText:function(){if(this.inlineBlockText.length){this.appendText(this.inlineBlockText.join(" "));this.inlineBlockText=[]}},endLine:function(){this.flashInlineBlockText();this.resetLine()},html:function(){var e=this.separators;var t="";var i=this.lines;this.flashInlineBlockText();for(var n=0,r=i.length,a=r-1;n<r;n++){var o=i[n];for(var s=0,l=o.length,d=l-1;s<l;s++){var u=o[s].text;t+=u;if(s!==d)t+=e.text}if(n!==a)t+=e.line}return t},resetLine:function(){this.textContainer=new p;this.line=[];this.line.push(this.textContainer);this.lines.push(this.line)}}),m=e.extend({init:function(e){this.callback=e},enumerate:function(e){if(!e)return;var t=this.callback(e);var i=e.firstChild;if(!t&&i)this.enumerate(i);this.enumerate(e.nextSibling)}}),g=r.extend({init:function(e){r.fn.init.call(this,e);this.hasText=false;this.enumerator=new m(this.buildText.bind(this))},clean:function(e){var t=x.create(document,"div",{innerHTML:e});return this.cleanDom(t)},cleanDom:function(e){this.separators=this.getDefaultSeparators();this.htmlLines=new h(this.separators);this.enumerator.enumerate(e.firstChild);this.hasText=false;return this.htmlLines.html()},buildText:function(e){if(x.isDataNode(e)){if(x.isEmptyspace(e))return;this.htmlLines.appendText(e.nodeValue.replace("\n",this.separators.line));this.hasText=true}else if(x.isBlock(e)&&this.hasText){var t=this.actions[x.name(e)]||this.actions.block;return t(this,e)}else if(x.isBr(e))this.htmlLines.appendText(this.separators.line)},applicable:function(){var e=this.options;return e.all||e.keepNewLines},getDefaultSeparators:function(){if(this.options.all)return{text:" ",line:" "};else return{text:" ",line:"<br/>"}},actions:{ul:y.noop,ol:y.noop,table:y.noop,thead:y.noop,tbody:y.noop,td:function(e,t){var i=new g({all:true});var n=i.cleanDom(t);e.htmlLines.appendInlineBlockText(n);return true},block:function(e){e.htmlLines.endLine()}}}),v=r.extend({clean:function(e){return this.options.custom(e)},applicable:function(){return typeof this.options.custom==="function"}});T(t,{Clipboard:i,Cleaner:r,ScriptCleaner:a,TabCleaner:o,MSWordFormatCleaner:s,WebkitFormatCleaner:l,HtmlTagsCleaner:f,HtmlAttrCleaner:c,HtmlContentCleaner:g,HtmlTextLines:h,CustomCleaner:v})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/keyboard.min",["../command.min"],function(){var _=window.kendo.jQuery,d=window.kendo,e=d.Class,k=d.ui.editor,u=k.RangeUtils,w=k.Dom,f=k.RestorePoint,c=k.Marker,p=d.support.browser,o="<span  class='k-br'>\ufeff</span>",h=_.extend,i=w.nodeTypes,y="previousSibling";function m(e,t){return t.startContainer===e&&t.endContainer===e&&t.startOffset===0&&t.endOffset==e.childNodes.length}function x(e,t,i){var n=e?e[t]:null;while(n&&!i(n))n=n[t];return n}var g="td,th,caption",t="table,tbody,thead,tfoot,tr",v=t+","+g,b=function(e){return!e.collapsed&&_(e.commonAncestorContainer).is(t)},C=e.extend({remove:function(e){var t=this;var i=new c;i.add(e,false);var n=u.getAll(e,function(e){return _(e).is(v)});var r=u.documentFromRange(e);var a=i.start;var o=i.end;var s=g.split(",");var l=w.parentOfType(a,s);var d=w.parentOfType(o,s);t._removeContent(a,l,true);t._removeContent(o,d,false);_(n).each(function(e,t){t=_(t);(t.is(g)?t:t.find(g)).each(function(e,t){t.innerHTML="&#65279;"})});if(l&&!a.previousSibling)w.insertBefore(r.createTextNode("\ufeff"),a);if(d&&!o.nextSibling)w.insertAfter(r.createTextNode("\ufeff"),o);if(l)e.setStartBefore(a);else if(n[0]){l=_(n[0]);l=l.is(g)?l:l.find(g).first();if(l.length)e.setStart(l.get(0),0)}e.collapse(true);w.remove(a);w.remove(o)},_removeContent:function(e,t,i){if(t){var n=i?"nextSibling":"previousSibling",r,a=function(e){while(e&&!e[n])e=e.parentNode;return e&&_.contains(t,e)?e[n]:null};e=a(e);while(e){r=a(e);w.remove(e);e=r}}}}),n=e.extend({init:function(e){this.editor=e},keydown:function(e){var t=this,i=t.editor,n=i.keyboard,r=n.isTypingKey(e),a=h(_.Event(),e);t.editor.trigger("keydown",a);if(a.isDefaultPrevented()){e.preventDefault();return true}if(!a.isDefaultPrevented()&&r&&!n.isTypingInProgress()){var o=i.getRange();var s=i.body;t.startRestorePoint=new f(o,s);if(b(o)){var l=new C(i);l.remove(o);i.selectRange(o)}if(p.webkit&&!o.collapsed&&m(s,o))s.innerHTML="";if(i.immutables&&k.Immutables.immutablesContext(o)){var d=new k.BackspaceHandler(i);d.deleteSelection(o)}n.startTyping(function(){t._removeBomSpan();t.endRestorePoint=k._finishUpdate(i,t.startRestorePoint)});return true}return false},keyup:function(e){var t=this.editor.keyboard;this.editor.trigger("keyup",e);if(t.isTypingInProgress()){t.endTyping();return true}return false},_removeBomSpan:function(){var e=this.editor.getRange().commonAncestorContainer;if(!w.emptyNode(e)){if(e.nodeType===3)e=e.parentNode;if(w.insignificant(e)){e.textContent=w.stripBom(e.textContent);w.unwrap(e)}}}}),r=e.extend({init:function(e){this.editor=e},_addCaret:function(e){var t=w.create(this.editor.document,"a");if(!d.support.browser.chrome&&e.firstChild&&e.firstChild.nodeType===i.ELEMENT_NODE)e=e.firstChild;w.insertAt(e,t,0);w.stripBomNode(t.previousSibling);w.stripBomNode(t.nextSibling);return t},_restoreCaret:function(e){var t=this.editor.createRange();if(!e.nextSibling&&w.isDataNode(e.previousSibling))t.setStart(e.previousSibling,e.previousSibling.length);else t.setStartAfter(e);t.collapse(true);this.editor.selectRange(t);w.remove(e)},_handleDelete:function(e){var t=e.endContainer;var i=w.closestEditableOfType(t,w.blockElements);if(i&&k.RangeUtils.isEndOf(e,i)){var n=w.next(i);if(!n||w.name(n)!="p")return false;var r=w.significantChildNodes(n)[0];r=r&&w.isInline(r)?r:n;var a=this._addCaret(r);this._merge(i,n);this._restoreCaret(a);return true}return false},_cleanBomBefore:function(e){var t=e.startOffset;var i=e.startContainer;var n=i.nodeValue;var r=0;while(t-r>=0&&n[t-r-1]=="\ufeff")r++;if(r>0){i.deleteData(t-r,r);e.setStart(i,Math.max(0,t-r));e.collapse(true);this.editor.selectRange(e)}},_handleBackspace:function(e){var t=e.startContainer;var i=w.closestEditableOfType(t,["li"]);var n=w.closestEditableOfType(t,"p,h1,h2,h3,h4,h5,h6".split(","));var r=this.editor;var a;if(w.isDataNode(t)){if(e.collapsed&&/^\s[\ufeff]+$/.test(t.nodeValue)){e.setStart(t,0);e.setEnd(t,t.length);r.selectRange(e);return false}this._cleanBomBefore(e)}a=x(n,y,function(e){return!w.htmlIndentSpace(e)});if(e.collapsed&&e.startOffset!==e.endOffset&&e.startOffset<0){e.startOffset=0;e.endOffset=0;r.selectRange(e)}var o=i&&k.RangeUtils.isStartOf(e,i);var s=i&&_(i).index();var l=o&&s>0;if(l){n=i;a=w.prev(i)}if(n&&a&&w.is(a,"table")&&k.RangeUtils.isStartOf(e,n)){if(n.innerText==="")n.innerHTML="\ufeff";return true}if(k.RangeUtils.isStartOf(e,n)&&parseInt(n.style.marginLeft,10)>0){r.exec("outdent");return true}if(n&&a&&k.RangeUtils.isStartOf(e,n)||l){var d=w.significantChildNodes(n)[0];d=d&&w.isInline(d)?d:n;var u=this._addCaret(d);this._merge(a,n);this._restoreCaret(u);return true}if(o&&s===0){var f=i.firstChild;if(!f){i.innerHTML=k.emptyElementContent;f=i.firstChild}var c=new k.ListFormatter(w.name(i.parentNode),"p");e.selectNodeContents(i);c.toggle(e);if(w.insignificant(f))e.setStartBefore(f);else e.setStart(f,0);r.selectRange(e);return true}var p=t.childNodes[e.startOffset-1];var h=e;var m=p&&w.closestEditableOfType(p,["a"]);var g=x(p||t,y,function(e){return!w.isDataNode(e)||!w.isBom(e)&&e.length>0});if(m||(e.startOffset===0||p)&&w.is(g,"a")){m=m||g;h=r.createRange();h.setStart(m,m.childNodes.length);h.collapse(true)}m=m||w.closestEditableOfType(p||h.startContainer,["a"]);var v=m&&k.RangeUtils.isEndOf(h,m);if(v){var b=new k.UnlinkCommand({range:h,body:r.body,immutables:!!r.immutables});r.execCommand(b);r._selectionChange()}return false},_handleSelection:function(e){var t=e.commonAncestorContainer;var i=w.closest(t,"table");var n=k.emptyElementContent;var r=this.editor;var a;if(b(e)){var o=new C(r);o.remove(e);r.selectRange(e);return true}var s=new c;s.add(e,false);if(e.commonAncestorContainer===r.body)this._surroundFullyContent(s,e);if(r.immutables)this._handleImmutables(s);this._surroundFullySelectedAnchor(s,e);e.setStartAfter(s.start);e.setEndBefore(s.end);var l=e.startContainer;var d=e.endContainer;e.deleteContents();if(d.tagName.toLocaleLowerCase()==="li"&&w.emptyNode(d)){e.selectNode(d);e.deleteContents()}if(i&&_(i).text()===""){e.selectNode(i);e.deleteContents()}t=e.commonAncestorContainer;if(w.name(t)==="p"&&t.innerHTML===""){t.innerHTML=n;e.setStart(t,0)}this._join(l,d);w.insertAfter(r.document.createTextNode("\ufeff"),s.start);s.remove(e);l=e.startContainer;if(w.name(l)=="tr"){l=l.childNodes[Math.max(0,e.startOffset-1)];e.setStart(l,w.getNodeLength(l))}e.collapse(true);r.selectRange(e);a=l.parentElement||l.parentNode;if(w.isDataNode(l)&&!w.emptyNode(a))this._cleanBomBefore(e);return true},_handleImmutables:function(e){var t=k.Immutables.immutableParent;var i=t(e.start);var n=t(e.start);if(i)w.insertBefore(e.start,i);if(n)w.insertAfter(e.end,n);if(i)w.remove(i);if(n&&n.parentNode)w.remove(n)},_surroundFullyContent:function(e,t){var i=t.commonAncestorContainer.children,n=i[0],r=i[i.length-1];this._moveMarker(e,t,n,r)},_surroundFullySelectedAnchor:function(e,t){var i=e.start,n=_(i).closest("a").get(0),r=e.end,a=_(r).closest("a").get(0);this._moveMarker(e,t,n,a)},_moveMarker:function(e,t,i,n){var r=e.start,a=e.end;if(i&&u.isStartOf(t,i))w.insertBefore(r,i);if(n&&u.isEndOf(t,n))w.insertAfter(a,n)},_root:function(e){while(e&&w.name(e)!="body"&&e.parentNode&&w.name(e.parentNode)!="body")e=e.parentNode;return e},_join:function(e,t){e=this._root(e);t=this._root(t);if(e!=t&&w.is(t,"p"))this._merge(e,t)},_merge:function(e,t){w.removeTrailingBreak(e);while(e&&t.firstChild)if(e.nodeType==1){e=w.list(e)?e.children[e.children.length-1]:e;if(e)e.appendChild(t.firstChild)}else if(e.nodeType===i.TEXT_NODE)this._mergeWithTextNode(e,t.firstChild);else e.parentNode.appendChild(t.firstChild);w.remove(t)},_mergeWithTextNode:function(e,t){if(e&&e.nodeType===i.TEXT_NODE)if(e.nextSibling&&this._isCaret(e.nextSibling))w.insertAfter(t,e.nextSibling);else w.insertAfter(t,e)},_isCaret:function(e){return _(e).is("a")},keydown:function(e){var t,i;var n=this.editor;var r=n.getRange();var a=e.keyCode;var o=d.keys;var s=a===o.BACKSPACE;var l=a==o.DELETE;if(n.immutables&&n.immutables.keydown(e,r))return;if((s||l)&&!r.collapsed)t="_handleSelection";else if(s)t="_handleBackspace";else if(l)t="_handleDelete";if(!t)return;i=new f(r,n.body);if(this[t](r)){e.preventDefault();k._finishUpdate(n,i)}},deleteSelection:function(e){this._handleSelection(e)},keyup:_.noop}),a=e.extend({init:function(e){this.editor=e;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=k._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint)return this.startRestorePoint.html!=this.editor.body.innerHTML;return false},keydown:function(e){var t=this,i=t.editor,n=i.keyboard;if(n.isModifierKey(e)){if(n.isTypingInProgress())n.endTyping(true);t.startRestorePoint=new f(i.getRange(),i.body);return true}if(n.isSystem(e)){t.systemCommandIsInProgress=true;if(t.changed()){t.systemCommandIsInProgress=false;t.createUndoCommand()}return true}return false},keyup:function(){var e=this;if(e.systemCommandIsInProgress&&e.changed()){e.systemCommandIsInProgress=false;e.createUndoCommand();return true}return false}}),s=e.extend({init:function(e){this.editor=e},keydown:function(e){if(!p.webkit||e.isDefaultPrevented()||!(e.ctrlKey&&e.keyCode==65&&!e.altKey&&!e.shiftKey))return;if(this.editor.options.immutables)this._toSelectableImmutables();this._selectEditorBody()},_selectEditorBody:function(){var e=this.editor;var t=e.getRange();t.selectNodeContents(e.body);setTimeout(function(){e.selectRange(t)})},_toSelectableImmutables:function(){var e=this.editor,t=e.body,i=k.Immutables.immutable,n=w.emptyTextNode,r=t.firstChild,a=t.lastChild;while(n(r))r=r.nextSibling;while(n(a))a=a.previousSibling;if(r&&i(r))_(o).prependTo(t);if(a&&i(a))_(o).appendTo(t)},keyup:_.noop}),l=e.extend({init:function(e){this.handlers=e;this.typingInProgress=false},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e==229},toolFromShortcut:function(e,t){var i=String.fromCharCode(t.keyCode),n,r,a=this._getShortcutModifier(t,navigator.platform);for(n in e){r=_.extend({ctrl:false,alt:false,shift:false},e[n].options);if((r.key==i||r.key==t.keyCode)&&r.ctrl==a&&r.alt==t.altKey&&r.shift==t.shiftKey)return n}},_getShortcutModifier:function(e,t){var i=t.toUpperCase().indexOf("MAC")>=0;return i?e.metaKey:e.ctrlKey},toolsFromShortcut:function(e,t){var i=String.fromCharCode(t.keyCode),n,r,a,o=[];var s=function(e){return e==i||e==t.keyCode||e==t.charCode};for(n in e){r=_.extend({ctrl:false,alt:false,shift:false},e[n].options);a=Array.isArray(r.key)?_.grep(r.key,s).length>0:s(r.key);if(a&&r.ctrl==t.ctrlKey&&r.alt==t.altKey&&r.shift==t.shiftKey)o.push(e[n])}return o},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||t==32||t==13||t==8||t==46&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return t==17&&!e.shiftKey&&!e.altKey||t==16&&!e.ctrlKey&&!e.altKey||t==18&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return e.keyCode==46&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping)this.onEndTyping();this.typingInProgress=false},endTyping:function(e){var t=this;t.clearTimeout();if(e)t.stopTyping();else t.timeout=window.setTimeout(t.stopTyping.bind(t),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var i,n=this.handlers;for(i=0;i<n.length;i++)if(n[i][t](e))break},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}});h(k,{TypingHandler:n,SystemHandler:a,BackspaceHandler:r,SelectAllHandler:s,Keyboard:l})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/exportpdf.min",["../command.min"],function(){var e=window.kendo.jQuery,t,i=window.kendo.ui.editor,n=i.Command,r=i.EditorUtils,a=r.registerTool,o=i.Tool,s=i.ToolTemplate,l=e.extend,d=n.extend({init:function(e){this.async=true;n.fn.init.call(this,e)},exec:function(){var e=this;var t=e.lockRange(true);var i=e.editor;i._destroyResizings();i.saveAsPDF().then(function(){e.releaseRange(t);i._initializeColumnResizing();i._initializeRowResizing();i._initializeElementResizing()})}});l(i,{ExportPdfCommand:d}),a("pdf",new o({command:d,template:new s({template:r.buttonTemplate,title:"Export PDF"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/print.min",["../command.min"],function(){var e=window.kendo.jQuery,t=window.kendo,i=t.ui.editor,n=i.Command,r=i.EditorUtils,a=r.registerTool,o=i.Tool,s=i.ToolTemplate,l=e.extend,d=n.extend({init:function(e){n.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;if(t.support.browser.msie)e.document.execCommand("print",false,null);else if(e.window.print)e.window.print()}});l(i,{PrintCommand:d}),a("print",new o({command:d,template:new s({template:r.buttonTemplate,title:"Print"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/plugins/formatpainter.min",["../command.min"],function(){var e=window.kendo.jQuery,t,i=window.kendo.ui.editor,n=i.Tool,r=i.Command,a=i.ToolTemplate,o=i.EditorUtils,k=i.Dom,s=i.RangeUtils,l=o.registerTool,d=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);this.inlineStyles=[];this.blockStyles=[];this.collectStyles(e);this.editor.inlineStyles=this.inlineStyles;this.editor.blockStyles=this.blockStyles;this.releaseRange(e)},collectStyles:function(e){var t=s.nodes(e);var i;if(t.length===1)i=t[0].parentNode;else i=e.startContainer;while(i&&!k.is(i,"body")&&i.getAttribute("data-role")!=="editor")if(k.isBlock(i)){this.populateStyles(i,"blockStyles");if(k.is(i,"li"))i=i.parentNode;else i=null}else{this.populateStyles(i,"inlineStyles");i=i.parentNode}},populateStyles:function(e,t){var i=e.style;var n=e.attributes;var r={tags:[e.tagName],attr:{style:{}}};var a,o,s,l,d;for(d=0;i&&d<i.length;d++){o=i[d];a=i[o];r.attr.style[o]=a}for(d=0;n&&d<n.length;d++){s=n[d].nodeName;l=n[d].nodeValue;if(s==="style")continue;else if(s==="class")r.attr.className=l;else r.attr[s]=l}this[t].push(r)}}),u=r.extend({init:function(e){r.fn.init.call(this,e)},exec:function(){var e=this.lockRange(true);var t=s.getMarkers(e);var i=this.editor;var n=i.inlineStyles;var r=i.blockStyles;var a;if((!n||n.length===0)&&(!r||r.length===0))return;if(t.length===3){this.marker.removeCaret(e);this.marker.caret=null}this.removeEmptyElementsFromRange(e);a=s.nodes(e);this.cleanInlineParents(a);k.normalize(e.commonAncestorContainer);if(t.length===2){e.setStartAfter(t[0]);e.setEndBefore(t[1])}else{e.setStartBefore(a[0]);e.setEndAfter(a[0])}a=s.nodes(e);if(a&&r&&r.length)this.applyBlockStyles(a,r);if(a&&n&&n.length)this.applyInlineStyles(a,n);this.releaseRange(e)},removeEmptyElementsFromRange:function(e){var t=function(e){return k.isInline(e)&&!e.firstChild&&!k.isMarker(e)};var i,n;i=s.getAll(e,t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].parentNode.removeChild(i[n])},cleanInlineParents:function(e){var t,i,n,r,a,o,s;for(t=0;t<e.length;t++){i=e[t];n=i.parentNode;if(this.immutableParent(i))continue;while(n&&k.isInline(n)){r=n.childNodes;for(a=0;a<r.length;a++){o=r[a];if(!k.isMarker(o)&&o!==i){s=n.cloneNode(true);s.innerHTML="";k.wrap(o,s)}}k.unwrap(n);n=i.parentNode}}},applyBlockStyles:function(e,t){var i=t[0].tags[0];var n=t[0].attr;var r=this.editor.document;var a,o,s,l,d,u;var f,c,p,h,m,g,v,b,_;for(a=0,o=e.length;a<o;a++){s=e[a];if(k.isWhitespace(s)||this.immutableParent(s))continue;d=k.blockParentOrBody(s);if(d.tagName!=="BODY"&&d.tagName!==i){if(d.tagName!=="LI"&&d.tagName!=="TD"&&d.tagName!=="TH"){f=[];c=[];p=s.previousSibling;h=s.nextSibling;while(p){if(!k.isMarker(p))f.push(p);p=p.previousSibling}if(f.length){m=d.cloneNode(true);m.innerHTML="";k.insertBefore(m,f[0]);for(b=0;b<f.length;b++){v=f[b];k.insertAt(m,v,0)}}while(h){if(!k.isMarker(h))c.push(h);h=h.nextSibling}if(c.length){g=d.cloneNode(true);g.innerHTML="";k.insertBefore(g,c[0]);for(b=0;b<c.length;b++){v=c[b];g.appendChild(v)}}k.unwrap(d)}l=k.create(r,i,n);k.wrap(s,l)}else if(d.tagName===i)k.attr(d,n)}if(d&&t.length===2&&d.tagName!=="LI"&&i==="LI"){_=[];while(k.is(l,"li")){_.push(l);l=k.prev(l)}u=k.create(r,t[1].tags[0],t[1].attr);k.insertBefore(u,_[_.length-1]);u.appendChild(_[0]);for(a=1,o=_.length;a<o;a++)k.insertBefore(_[a],u.firstChild)}else if(d&&t.length===2&&d.tagName!=="LI"){u=k.create(r,t[1].tags[0],t[1].attr);k.wrap(l,u)}},applyInlineStyles:function(e,t){var i=this.editor.document;var n,r,a,o,s,l;for(o=0;o<t.length;o++){n=t[o];r=k.create(i,n.tags[0],n.attr);if(a)r.appendChild(a);a=r}if(a)for(o=0;o<e.length;o++){l=e[o];if(k.isWhitespace(l)||this.immutableParent(l))continue;s=a.cloneNode(true);k.insertBefore(s,l);while(s.children&&s.children.length)s=s.children[0];s.appendChild(l)}},immutables:function(){return this.editor&&this.editor.options.immutables},immutableParent:function(e){return this.immutables()&&i.Immutables.immutableParent(e)}}),f=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new d(e)}}),c=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){return new u(e)}});e.extend(i,{CopyFormatCommand:d,ApplyFormatCommand:u,CopyFormatTool:f,ApplyFormatTool:c}),l("copyFormat",new f({template:new a({template:o.buttonTemplate,title:"Copy format"})})),l("applyFormat",new c({template:new a({template:o.buttonTemplate,title:"Apply format"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/resizing-utils.min",["../main.min"],function(){var t=window.kendo,e=void 0,i=window,n=i.Math,r=n.min,a=n.max,o=i.parseFloat,s=t.jQuery,l,d,u="%",f="px",c=/(\d+)(\.?)(\d*)%/,p=/(\d+)(\.?)(\d*)px/,h="string",m;function g(e){var t=e.value;var i=e.min;var n=e.max;return a(r(o(t),o(n)),o(i))}function v(e){if(e&&!s(e).is("body")&&e.scrollHeight>e.clientHeight)return t.support.scrollbar();return 0}function b(e,t){if(_(e))return o(e);else return o(e)/t*100}function _(e){return typeof e===h&&c.test(e)}function k(e){return typeof e===h&&p.test(e)}function w(e){return o(e)+u}function y(e){return o(e)+f}(0,s.extend)(t.ui.editor,{ResizingUtils:{constrain:g,getScrollBarWidth:v,calculatePercentageRatio:b,inPercentages:_,inPixels:k,toPercentages:w,toPixels:y}})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/table-element-resizing.min",["../main.min","kendo.resizable.min","./resizing-utils.min"],function(){var a=window.kendo,e=void 0,s=a.jQuery,n=s.extend,t=s.noop,i=a.ui.editor,r=a.Class,o="keydown",l="mousedown",d="mouseenter",u="mouseleave",f="mousemove",c="mouseup",p=",",h=".",m=":last-child",g="table",v=r.extend({init:function(e,t){var i=this;i.options=n({},i.options,t);i.options.tags=Array.isArray(i.options.tags)?i.options.tags:[i.options.tags];if(s(e).is(g)){i.element=e;i._attachEventHandlers()}},destroy:function(){var e=this;var t=e.options.eventNamespace;if(e.element){s(e.element).off(t);e.element=null}s(e.options.rootElement).off(o+t);e._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:false,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var e=this;var t=e.options;s(e.element).on(f+t.eventNamespace,t.tags.join(p),e.detectElementBorderHovering.bind(e))},resizingInProgress:function(){var e=this;var t=e._resizable;if(t)return!!t.resizing;return false},resize:t,detectElementBorderHovering:function(e){var t=this;var i=t.options;var n=i.handle;var r=s(e.currentTarget);var a=t.resizeHandle;var o=n.dataAttribute;if(!t.resizingInProgress())if(!r.is(m)&&t.elementBorderHovered(r,e))if(a){if(a.data(o)&&a.data(o)!==r[0])t.showResizeHandle(r,e)}else t.showResizeHandle(r,e);else if(a)t._destroyResizeHandle()},elementBorderHovered:t,showResizeHandle:function(e,t){var i=this;if(t.buttons!==0)return;i._initResizeHandle();i.setResizeHandlePosition(e);i.setResizeHandleDimensions();i.setResizeHandleDataAttributes(e[0]);i._attachResizeHandleEventHandlers();i._initResizable(e);i._hideResizeMarker();i.resizeHandle.show()},_initResizeHandle:function(){var e=this;var t=e.options;e._destroyResizeHandle();e.resizeHandle=s(t.handle.template).appendTo(t.rootElement)},setResizeHandlePosition:t,setResizeHandleDimensions:t,setResizeHandleDataAttributes:function(e){var t=this;t.resizeHandle.data(t.options.handle.dataAttribute,e)},_attachResizeHandleEventHandlers:function(){var e=this;var t=e.options;var i=t.eventNamespace;var n=t.handle.classNames.marker;var r=e.resizeHandle;e.resizeHandle.on(l+i,function(){r.find(h+n).show()}).on(c+i,function(){r.find(h+n).hide()})},_hideResizeMarker:function(){var e=this;e.resizeHandle.find(h+e.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var e=this;if(e.resizeHandle){e._destroyResizable();e.resizeHandle.off(e.options.eventNamespace).remove();e.resizeHandle=null}},_initResizable:function(e){var t=this;if(!t.resizeHandle)return;t._destroyResizable();t._resizable=new a.ui.Resizable(e,{draggableElement:t.resizeHandle[0],start:t.onResizeStart.bind(t),resize:t.onResize.bind(t),resizeend:t.onResizeEnd.bind(t)})},_destroyResizable:function(){var e=this;if(e._resizable){e._resizable.destroy();e._resizable=null}},onResizeStart:function(){this._disableKeyboard()},onResize:function(e){this.setResizeHandleDragPosition(e)},setResizeHandleDragPosition:t,onResizeEnd:function(e){var t=this;t.resize(e);t._destroyResizeHandle();t._enableKeyboard()},_enableKeyboard:function(){var e=this.options;s(e.rootElement).off(o+e.eventNamespace)},_disableKeyboard:function(){var e=this.options;s(e.rootElement).on(o+e.eventNamespace,function(e){e.preventDefault()})},_forceResizing:function(e){var t=this._resizable;if(t&&t.userEvents)t.userEvents._end(e)}}),b=r.extend({create:function(n,r){var a=this;var o=r.name;var e=r.eventNamespace;s(n.body).on(d+e,g,function(e){var t=e.currentTarget;var i=n[o];e.stopPropagation();if(i){if(i.element!==t&&!i.resizingInProgress()){a._destroyResizing(n,r);a._initResizing(n,t,r)}}else a._initResizing(n,t,r)}).on(u+e,g,function(e){var t;var i=n[o];e.stopPropagation();if(i&&!i.resizingInProgress()&&!i.resizeHandle){t=s(i.element).parents(g)[0];if(t){a._destroyResizing(n,r);a._initResizing(n,t,r)}}}).on(u+e,function(){var e=n[o];if(e&&!e.resizingInProgress())a._destroyResizing(n,r)}).on(c+e,function(e){var t=n[o];var i;if(t&&t.resizingInProgress()){i=s(e.target).parents(g)[0];if(i){t._forceResizing(e);a._destroyResizing(n,r);a._initResizing(n,i,r)}}})},dispose:function(e,t){s(e.body).off(t.eventNamespace)},_initResizing:function(e,t,i){var n=i.name;var r=i.type;e[n]=new r(t,{rtl:a.support.isRtl(e.element),rootElement:e.body})},_destroyResizing:function(e,t){var i=t.name;if(e[i]){e[i].destroy();e[i]=null}}});b.current=new b,v.create=function(e,t){b.current.create(e,t)},v.dispose=function(e,t){b.current.dispose(e,t)},n(i,{TableElementResizing:v})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/column-resizing.min",["../main.min","./resizing-utils.min","./table-element-resizing.min","../dom.min"],function(){var v=window.kendo,e=void 0,t,i,s=window.Math.abs,b=v.jQuery,n=b.extend,r=v.ui.editor,c=r.Dom,a=r.TableElementResizing,o=r.ResizingUtils,_=o.constrain,l=o.calculatePercentageRatio,k=o.getScrollBarWidth,d=o.inPercentages,u=o.toPercentages,f=o.toPixels,w=v._outerWidth,p=".kendoEditorColumnResizing",h="k-column-resize-handle",m="k-column-resize-marker",y="body",g="tbody",x="thead",C="td",T,S="tr",D="col-index",F=",",I="width",E=a.extend({options:{tags:[C,"th"],min:20,rootElement:null,eventNamespace:p,rtl:false,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:h,marker:m},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+h+'">'+'<div class="'+m+'"></div>'+"</div>"+"</div>"}},elementBorderHovered:function(e,t){var i=this;var n=i.options;var r=n.handle.width;var a=e.offset().left+(n.rtl?0:w(e));var o=t.clientX+b(e[0].ownerDocument).scrollLeft();if(o>a-r&&o<a+r)return true;else return false},setResizeHandlePosition:function(e){var t=this;var i=b(t.element.tHead||t.element.tBodies[0]);var n=t.options;var r=n.rtl;var a=n.handle.width;var o=b(n.rootElement);var s=o.is(y)?0:o.scrollTop();var l=o.is(y)?0:v.scrollLeft(o);var d=r?0:w(e);var u=r?k(o[0]):0;var f=e.offset().left-(o.offset().left+parseFloat(o.css("borderLeftWidth")))-parseFloat(e.css("marginLeft"));var c=i.offset().top-(o.offset().top+parseFloat(o.css("borderTopWidth")))-parseFloat(i.css("marginTop"));var p=v.support.browser;if(r&&(p.mozilla||p.webkit&&p.version>=85))l=l*-1;t.resizeHandle.css({top:c+s,left:f+d+(l-u)-a/2,position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=b(e.element).children(x);var i=b(e.element).children(g);var n=t.length>0?t.height()+i.height():i.height();e.resizeHandle.css({width:e.options.handle.width,height:n})},setResizeHandleDragPosition:function(e){var t=this;var i=b(b(e.currentTarget).data(t.options.handle.dataAttribute));var n=t.options;var r=b(n.rootElement);var a=n.handle?n.handle.width:0;var o=n.min;var s=n.rtl;var l=w(i);var d=i.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(i.css("marginLeft"));var u=w(i.next());var f=b(t.resizeHandle);var c=r.is(y)?0:v.scrollLeft(r);var p=s?k(r[0]):0;var h=f.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(f.css("marginLeft"));var m=v.support.browser;if(s&&(m.mozilla||m.webkit&&m.version>=85))c=c*-1;var g=_({value:h+(c-p)+e.x.delta,min:d+(c-p)-(s?u:0)+o,max:d+l+(c-p)+(s?0:u)-a-o});f.css({left:g})},resize:function(e){var t=this;var i=b(b(e.currentTarget).data(t.options.handle.dataAttribute));var n=t.options;var r=n.rtl?-1:1;var a=n.min;var o=r*e.x.initialDelta;var s;var l;var d;var u;var f;c.reMapTableColumns(t.element,D);u=parseInt(i.attr(D),10);if(i.prop("colSpan")>1){i=b(t.element).find("["+D+"="+(u+i.prop("colSpan")-1)+"]").eq(0);u=parseInt(i.attr(D),10)}f=b(t.element).find("["+D+"="+(u+1)+"]:not([colspan])");t._setTableComputedWidth();t._setColumnsComputedWidth();d=w(i);l=w(f);s=_({value:d+o,min:a,max:d+l-a});t._resizeColumn(i[0],s);t._resizeTopAndBottomColumns(i[0],s);t._resizeAdjacentColumns(parseInt(i.attr(D),10),l,d,d-s);c.clearTableMappings(t.element,D)},_setTableComputedWidth:function(){var e=this.element;if(e.style[I]==="")e.style[I]=f(w(b(e)))},_setColumnsComputedWidth:function(){var e=this;var t=b(e.element.tHead||e.element.tBodies[0]);var i=w(t);var n=t.children(S).children(C);var r=n.length;var a=n.map(function(){return w(b(this))});var o;for(o=0;o<r;o++)if(d(n[o].style[I]))n[o].style[I]=u(l(a[o],i));else n[o].style[I]=f(a[o])},_resizeTopAndBottomColumns:function(t,e){var i=this;var n=b(t).attr(D);var r=b(i.element).children(g+F+x).children(S).children(i.options.tags.join(F)).filter(function(){var e=this;return b(e).attr(D)===n&&e!==t});var a=r.length;var o;for(o=0;o<a;o++)i._resizeColumn(r[o],e)},_resizeColumn:function(e,t){var i=b(this.element.tHead||this.element.tBodies[0]);if(d(e.style[I]))e.style[I]=u(l(t,w(i)));else e.style[I]=f(t)},_resizeAdjacentColumns:function(e,t,i,n){var r=this;var a=b(r.element).children(g+F+x).children(S).children(r.options.tags.join(F)).filter(function(){return parseInt(b(this).attr(D),10)===e+1});var o=a.length;var s;for(s=0;s<o;s++)r._resizeAdjacentColumn(a[s],t,i,n)},_resizeAdjacentColumn:function(e,t,i,n){var r=this;var a=r.options.min;var o;o=_({value:t+n,min:a,max:s(i+t-a)});r._resizeColumn(e,o)}});E.create=function(e){a.create(e,{name:"columnResizing",type:E,eventNamespace:p})},E.dispose=function(e){a.dispose(e,{eventNamespace:p})},n(r,{ColumnResizing:E})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/row-resizing.min",["../main.min","./resizing-utils.min","./table-element-resizing.min"],function(){var f=window.kendo,e=void 0,t,p=window.Math.abs,g=f.jQuery,i=g.extend,n=f.ui.editor,r=n.TableElementResizing,a=n.ResizingUtils,c=a.getScrollBarWidth,v=a.constrain,d=a.calculatePercentageRatio,h=a.inPercentages,u=a.toPercentages,m=a.toPixels,b=f._outerHeight,o=".kendoEditorRowResizing",s="k-row-resize-handle",l,_="k-row-resize-marker",k="body",w="tr",y="tbody",x="thead",C=",",T="height",S=r.extend({options:{tags:[w],min:20,rootElement:null,eventNamespace:o,rtl:false,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:s,marker:_},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+s+'">'+'<div class="'+"k-row-resize-marker-wrapper"+'">'+'<div class="'+_+'"></div>'+"</div>"+"</div>"+"</div>"}},elementBorderHovered:function(e,t){var i=this;var n=i.options.handle[T];var r=e.offset().top+b(e);var a=t.clientY+g(e[0].ownerDocument).scrollTop();if(a>r-n&&a<r+n)return true;else return false},setResizeHandlePosition:function(e){var t=this;var i=t.options;var n=i.handle[T];var r=g(i.rootElement);var a=r.is(k)?0:r.scrollTop();var o=r.is(k)?0:f.scrollLeft(r);var s=i.rtl?c(r[0]):0;var l=e.offset().left-(r.offset().left+parseFloat(r.css("borderLeftWidth")))-parseFloat(e.css("marginLeft"));var d=e.offset().top-(r.offset().top+parseFloat(r.css("borderTopWidth")))-parseFloat(e.css("marginTop"));var u=f.support.browser;if(i.rtl&&(u.mozilla||u.webkit&&u.version>=85))o=o*-1;t.resizeHandle.css({top:d+b(e)+a-n/2,left:l+(o-s),position:"absolute"})},setResizeHandleDimensions:function(){var e=this;var t=g(e.element.tHead||e.element.tBodies[0]);e.resizeHandle.css({width:t.width(),height:e.options.handle[T]})},setResizeHandleDragPosition:function(e){var t=this;var i=t.options;var n=i.min;var r=g(t.element).children(x);var a=g(t.element).children(y);var o=r.length>0?r:a;var s=g(t.resizeHandle);var l=g(e.currentTarget).data(i.handle.dataAttribute);var d=g(l);var u=g(i.rootElement);var f=u.is(k)?0:u.scrollTop();var c=o.offset().top-(u.offset().top+parseFloat(u.css("borderTopWidth")))-parseFloat(o.css("marginTop"));var p=d.offset().top-(u.offset().top+parseFloat(u.css("borderTopWidth")))-parseFloat(d.css("marginTop"));var h=s.offset().top-(Math.max(0,u.offset().top)+parseFloat(u.css("borderTopWidth")))-parseFloat(s.css("marginTop"));var m=v({value:h+f+e.y.delta,min:p+f+n,max:c+b(r)+b(a)+f-i.handle[T]-n});s.css({top:m})},resize:function(e){var t=this;var i=t.options;var n=g(e.currentTarget).data(i.handle.dataAttribute);var r=b(g(n));var a=g(t.element);var o=b(a);var s=a.children(x);var l=s.length>0?s.height():0;var d=a.children(y);var u=d.height();var f=n.style[T];var c=v({value:r+e.y.initialDelta,min:i.min,max:p(l+u-i.min)});t._setRowsHeightInPixels();n.style[T]=m(c);t._setTableHeight(o+(c-r));if(h(f))t._setRowsHeightInPercentages()},_setRowsHeightInPixels:function(){var e=this;var t=g(e.element).children(y+C+x).children(w);var i=t.length;var n=t.map(function(){return b(g(this))});var r;for(r=0;r<i;r++)t[r].style[T]=m(n[r])},_setRowsHeightInPercentages:function(){var e=this;var t=g(e.element).children(x);var i=t.length>0?t.height():0;var n=g(e.element).children(y);var r=n.height();var a=g(e.element).children(x+C+y).children(w);var o=a.length;var s=a.map(function(){return b(g(this))});var l;for(l=0;l<o;l++)a[l].style[T]=u(d(s[l],i+r))},_setTableHeight:function(e){var t=this.element;if(h(t.style[T]))t.style[T]=u(d(e,g(t).parent().height()));else t.style[T]=m(e)}});S.create=function(e){r.create(e,{name:"rowResizing",type:S,eventNamespace:o})},S.dispose=function(e){r.dispose(e,{eventNamespace:o})},i(n,{RowResizing:S})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/element-resize-handle.min",["../main.min","kendo.draganddrop.min","./resizing-utils.min"],function(){var o=window.kendo,H=void 0,s=o.jQuery,i=s.extend,e=s.noop,t=o.ui.editor,n=o.Class,r=o.ui.Draggable,a=o.Observable,l=t.ResizingUtils.getScrollBarWidth,d=o._outerWidth,u=o._outerHeight,f=".kendoEditorElementResizeHandle",c="k-element-resize-handle",p="dragStart",h="drag",m="dragEnd",g="halfInside",v="mouseover",b="mouseout",_="body",M="table",k="east",w="north",y="northeast",x="northwest",C="south",T="southeast",S="southwest",D="west",O=".",L=a.extend({init:function(e){var t=this;a.fn.init.call(t);t.options=i({},t.options,e);t.element=s(t.options.template).appendTo(t.options.appendTo)[0];t._attachEventHandlers();t._addStyles();t._initDraggable();t._initPositioningStrategy();t._initDraggingStrategy();s(t.element).data(M,t.options.resizableElement)},destroy:function(){var e=this;s(e.element).off(f).remove();e.element=null;e._destroyDraggable();e.unbind()},options:{appendTo:null,direction:T,resizableElement:null,rtl:false,template:"<div class='k-element-resize-handle-wrapper' unselectable='on' contenteditable='false'>"+"<div class='"+c+"'></div>"+"</div>"},events:[p,h,m,v,b],show:function(){this._setPosition()},_setPosition:function(){var e=this;var t=e._positioningStrategy.getPosition();s(e.element).css({top:t.top,left:t.left,position:"absolute"})},_attachEventHandlers:function(){var e=this;s(e.element).on(v+f,e._onMouseOver.bind(e)).on(b+f,e._onMouseOut.bind(e))},_onMouseOver:function(){this.trigger(v)},_onMouseOut:function(){this.trigger(b)},_addStyles:function(){var e=this;s(e.element).children(O+c).addClass("k-resize-"+e.options.direction)},_initPositioningStrategy:function(){var e=this;var t=e.options;e._positioningStrategy=E.create({name:t.direction,handle:e.element,resizableElement:t.resizableElement,rootElement:t.rootElement,rtl:t.rtl})},_initDraggable:function(){var e=this;var t=e.element;if(e._draggable||!t)return;e._draggable=new r(t,{dragstart:e._onDragStart.bind(e),drag:e._onDrag.bind(e),dragend:e._onDragEnd.bind(e)})},_onDragStart:function(){this.trigger(p)},_onDrag:function(e){var t=this;t.trigger(h,t._draggingStrategy.adjustDragDelta({deltaX:e.x.delta,deltaY:e.y.delta,initialDeltaX:e.x.initialDelta,initialDeltaY:e.y.initialDelta}))},_onDragEnd:function(){this.trigger(m)},_destroyDraggable:function(){var e=this;if(e._draggable){e._draggable.destroy();e._draggable=null}},_initDraggingStrategy:function(){var e=this;e._draggingStrategy=A.create({name:e.options.direction})}}),F=n.extend({init:function(){this._items=[]},register:function(e,t){this._items.push({name:e,type:t})},create:function(e){var t=this._items;var i=t.length;var n=e.name?e.name.toLowerCase():"";var r;var a;var o;for(o=0;o<i;o++){a=t[o];if(a.name.toLowerCase()===n){r=a;break}}if(r)return new r.type(e)}}),I=F.extend({}),E=(I.current=new I,n.extend({init:function(e){var t=this;t.options=i({},t.options,e)},options:{handle:null,offset:g,resizableElement:null,rootElement:null,rtl:false},getPosition:function(){var e=this;var t=e.calculatePosition();var i=e.applyHandleOffset(t);var n=e.applyScrollOffset(i);return n},calculatePosition:e,applyHandleOffset:function(e){var t=this.options;var i=s(t.handle);if(t.offset===g)return{top:e.top-u(i)/2,left:e.left-d(i)/2};return e},applyScrollOffset:function(e){var t=this.options;var i=s(t.rootElement);var n=t.rtl?l(i[0]):0;var r=o.support.browser;var a;if(!i.is(_)){a=o.scrollLeft(i)||0;if(t.rtl&&(r.mozilla||r.webkit&&r.version>=85))a=a*-1;return{top:e.top+(i.scrollTop()||0),left:e.left+a-n}}return e}})),B=(E.create=function(e){return I.current.create(e)},E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e)/2,left:t.left+d(e)+i}}})),V=(I.current.register(k,B),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+d(e)/2+i}}})),U=(I.current.register(w,V),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+d(e)+i}}})),W=(I.current.register(y,U),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top,left:t.left+i}}})),j=(I.current.register(x,W),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+d(e)/2+i}}})),q=(I.current.register(C,j),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+d(e)+i}}})),G=(I.current.register(T,q),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e),left:t.left+i}}})),$=(I.current.register(S,G),E.extend({calculatePosition:function(){var e=s(this.options.resizableElement);var t=e.position();var i=parseInt(e.css("marginLeft"),10);return{top:t.top+u(e)/2,left:t.left+i}}})),z=(I.current.register(D,$),F.extend({})),A=(z.current=new z,n.extend({init:function(e){var t=this;t.options=i({},t.options,e)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(e){var t=this.options;var i=t.deltaX.adjustment*t.deltaX.modifier;var n=t.deltaY.adjustment*t.deltaY.modifier;return{deltaX:e.deltaX*i,deltaY:e.deltaY*n,initialDeltaX:e.initialDeltaX*i,initialDeltaY:e.initialDeltaY*n}}})),R=(A.create=function(e){return z.current.create(e)},A.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}})),Y=R.extend({options:{deltaX:{modifier:1}}}),K=(z.current.register(k,Y),R.extend({options:{deltaX:{modifier:-1}}})),N=(z.current.register(D,K),A.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}})),Q=N.extend({options:{deltaY:{modifier:-1}}}),X=(z.current.register(w,Q),N.extend({options:{deltaY:{modifier:1}}})),P=(z.current.register(C,X),A.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}})),J=P.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}}),Z=(z.current.register(y,J),P.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}})),ee=(z.current.register(x,Z),P.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}})),te=(z.current.register(T,ee),P.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}}));z.current.register(S,te),i(t,{ElementResizeHandle:L})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/resizing/element-resizing.min",["../main.min","./element-resize-handle.min","./resizing-utils.min"],function(){var d=window.kendo,H=void 0,M,e=window.Math,m=e.min,g=e.max,v=d.jQuery,s=v.contains,o=v.extend,O=d.support.browser,t=d.ui.editor,i=d.Class,L=t.ElementResizeHandle,n=t.ResizingUtils,b=n.calculatePercentageRatio,_=n.constrain,k=n.inPercentages,B=n.inPixels,w=n.toPercentages,y=n.toPixels,c=d._outerWidth,x=d._outerHeight,r=t.RangeUtils,l=".kendoEditorElementResizing",u="k-element-resize-handle-wrapper",V="k-table",a="k-element-resizing",f="dragStart",p="drag",h="dragEnd",C="keydown",T="mousedown",S="select",U="drop",W="td",D="tr",F="tbody",I="thead",j="table",q="img",G=["TABLE","IMG"],E=",",z="width",A="height",$,Y,K,Q,X,J,Z,ee,te=".";function R(e){return typeof e==="undefined"}var N=i.extend({init:function(e,t){var i=this;i.options=o({},i.options,t);i.handles=[];if(G.indexOf(e.nodeName)>=0)i.element=e},destroy:function(){var e=this;v(e.element).off(l);e.element=null;v(e.options.rootElement).off(C+l);e._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:false,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:"northwest"},{direction:"north"},{direction:"northeast"},{direction:"east"},{direction:"southeast"},{direction:"south"},{direction:"southwest"},{direction:"west"}]},resize:function(e){var t=this;var i=o({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e);t._resizeWidth(i.deltaX,i.initialDeltaX);t._resizeHeight(i.deltaY,i.initialDeltaY);t.showResizeHandles()},_resizeWidth:function(){return false},_resizeHeight:function(){return false},_getMaxDimensionValue:function(e){var t=this;var i=v(t.element);var n=e.toLowerCase();var r=t.options.rtl?-1:1;var a=v(t.element).parent();var o=a[0];var s=a[n]();var l=r*(e===z?d.scrollLeft(a):a.scrollTop());if(o&&o===i.closest(W)[0])if(o.style[n]===""&&!k(t.element.style[n]))return Infinity;else return s+l;else return s+l},showResizeHandles:function(){var e=this;e._initResizeHandles();e._showResizeHandles()},_initResizeHandles:function(){var e=this;var t=e.handles;var i=e.options;var n=e.options.handles;var r=n.length;var a;if(t&&t.length>0)return;for(a=0;a<r;a++)e.handles.push(new L(o({appendTo:i.appendHandlesTo,resizableElement:e.element,rootElement:i.rootElement,rtl:i.rtl},n[a])));e._bindToResizeHandlesEvents()},_destroyResizeHandles:function(){var e=this;var t=e.handles?e.handles.length:0;for(var i=0;i<t;i++)e.handles[i].destroy();e.handles=[]},_showResizeHandles:function(){var e=this;var t=e.handles||[];var i=t.length;var n;for(n=0;n<i;n++)e.handles[n].show()},_bindToResizeHandlesEvents:function(){return false},_onResizeHandleDragStart:function(){var e=this;var t=v(e.element);t.addClass(a);e._initialElementHeight=x(t);e._initialElementWidth=c(t);e._disableKeyboard()},_onResizeHandleDrag:function(e){this.resize(e)},_onResizeHandleDragEnd:function(){var e=this;v(e.element).removeClass(a);e._enableKeyboard()},_enableKeyboard:function(){v(this.options.rootElement).off(C+l)},_disableKeyboard:function(){v(this.options.rootElement).on(C+l,function(e){e.preventDefault()})}}),ie=N.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var i=t.length;var n;var r;for(n=0;n<i;n++){r=t[n];r.bind(f,e._onResizeHandleDragStart.bind(e));r.bind(p,e._onResizeHandleDrag.bind(e));r.bind(h,e._onResizeHandleDragEnd.bind(e))}},_hasRowsInPixels:function(){var e=this;var t=v(e.element).children(I+E+F).children(D);for(var i=0;i<t.length;i++)if(t[i].style.height===""||B(t[i].style.height))return true;return false},_resizeWidth:function(e,t){var i=this;var n=v(i.element);var r=n[0].style[z];var a=c(n);var o=n.parent().width();var s=i._getMaxDimensionValue(z);var l;var d;var u;var f;if(e===0)return;if(R(i._initialElementWidth))i._initialElementWidth=a;f=_({value:i._initialElementWidth+t,min:i.options.minWidth,max:s});if(k(r)){if(a+e>o){d=g(f,o);u=m(f,o)}else{d=m(f,o);u=g(f,o)}l=w(b(d,u))}else l=y(f);i._setColumnsWidth();n[0].style[z]=l},_resizeHeight:function(e,t){var i=this;var n=v(i.element);var r=n[0].style[A];var a=x(n);var o=n.parent();var s=o.height();var l=i._getMaxDimensionValue(A);var d;var u;var f;var c;var p=i.options.minHeight;var h=i._hasRowsInPixels();if(e===0)return;if(R(i._initialElementHeight))i._initialElementHeight=a;c=_({value:i._initialElementHeight+t,min:p,max:l});if(h&&e<0)i._setRowsHeightInPercentages();if(k(r)){if(a+e>s){u=g(c,s);f=m(c,s)}else{u=m(c,s);f=g(c,s)}d=w(b(u,f))}else d=y(c);n[0].style[A]=d;if(h&&e<0)i._setRowsHeightInPixels()},_setColumnsWidth:function(){var e=this;var t=v(e.element);var i=t.parent()[0];var n=t.closest(W);var r=n.closest(D).children();var a=r.length;var o;function s(e){var t=e.style.width;if(t!=="")return k(t)?true:false;else return v(e).hasClass(V)?true:false}if(s(t[0])&&i===n[0]&&i.style[z]==="")for(o=0;o<a;o++)r[o].style[z]=y(v(r[o]).width())},_setRowsHeightInPercentages:function(){var e=this;var t=v(e.element).children(I);var i=t.length>0?t.height():0;var n=v(e.element).children(F);var r=n.height();var a=v(e.element).children(I+E+F).children(D);var o=a.length;var s=a.map(function(){return x(v(this))});var l;for(l=0;l<o;l++)a[l].style[A]=w(b(s[l],i+r))},_setRowsHeightInPixels:function(){var e=this;var t=v(e.element).children(I+E+F).children(D);var i=t.length;var n=t.map(function(){return x(v(this))});var r;for(r=0;r<i;r++)t[r].style[A]=y(n[r])}}),ne=N.extend({_bindToResizeHandlesEvents:function(){var e=this;var t=e.handles||[];var i=t.length;var n;var r;for(n=0;n<i;n++){r=t[n];r.bind(f,e._onResizeHandleDragStart.bind(e));if(r.options.direction==="north"||r.options.direction==="south")r.bind(p,e._onResizeHandleDragVertical.bind(e));else if(r.options.direction==="east"||r.options.direction==="west")r.bind(p,e._onResizeHandleDragHorizontal.bind(e));else r.bind(p,e._onResizeHandleDragLocked.bind(e));r.bind(h,e._onResizeHandleDragEnd.bind(e))}},_getDeltas:function(e){return o({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},e)},_onResizeHandleDragVertical:function(e){var t=this._getDeltas(e);this._resizeHeight(t.deltaY,t.initialDeltaY);this.showResizeHandles()},_onResizeHandleDragHorizontal:function(e){var t=this._getDeltas(e);this._resizeWidth(t.deltaX,t.initialDeltaX);this.showResizeHandles()},_onResizeHandleDragLocked:function(e){var t=Math.min(Math.abs(e.initialDeltaX),Math.abs(e.initialDeltaY)),i=this._initialElementWidth,n=this._initialElementHeight,r;if(t===e.initialDeltaX||t===e.initialDeltaX*-1){e.initialDeltaY=e.initialDeltaX*n/i;e.deltaY=e.deltaX}else if(t===e.initialDeltaY||t===e.initialDeltaY*-1){e.initialDeltaX=e.initialDeltaY*i/n;e.deltaX=e.deltaY}r=this._getDeltas(e);this._resizeWidth(r.deltaX,r.initialDeltaX);this._resizeHeight(r.deltaY,r.initialDeltaY);this.showResizeHandles()},_resizeWidth:function(e,t){var i=this;var n=v(i.element);var r=c(n);var a;var o;if(e===0)return;if(R(i._initialElementWidth))i._initialElementWidth=r;o=_({value:i._initialElementWidth+t,min:i.options.minWidth,max:i._getMaxDimensionValue(z)});a=y(o);n[0].style[z]=a;n.attr(z,Math.floor(o))},_resizeHeight:function(e,t){var i=this;var n=v(i.element);var r=x(n);var a;var o;if(e===0)return;if(R(i._initialElementHeight))i._initialElementHeight=r;o=_({value:i._initialElementHeight+t,min:i.options.minHeight,max:Number.MAX_SAFE_INTEGER});a=y(o);n[0].style[A]=a;n.attr(A,Math.floor(o))}}),P=i.extend({create:function(a){var o=this;v(a.body).on("dragstart"+l,function(){var e=r.nodes(a.getRange()),t=false;e.forEach(function(e){if(e.nodeName==="IMG")t=true});if(t&&e.length>1)a.elementResizing._destroyResizeHandles()}).on(U+l,function(){setTimeout(function(){var e=r.image(a.getRange());if(e){a.elementResizing._destroyResizeHandles();a.elementResizing.element=e;a.elementResizing.showResizeHandles()}})}).on(T+l,j+E+q,function(e){var t=e.target;var i=e.currentTarget;var n=a.elementResizing;var r=n?n.element:null;if(n){if(r&&i!==r)if(s(i,r)&&r!==t&&s(r,t))return;else if(r!==t){a._destroyElementResizing();o._initResizing(a,i)}}else o._initResizing(a,i);a._showElementResizeHandles()}).on(T+l,function(e){var t=a.elementResizing;var i=t?t.element:null;var n=e.target;var r=v(n).hasClass(u)||v(n).parents(te+u).length>0;if(t&&i!==n&&!s(i,n)&&!r)a._destroyElementResizing()})},dispose:function(e){v(e.body).off(l)},_initResizing:function(e,t){if(!O.msie){if(v(t).is(j))e.elementResizing=e.tableResizing=new ie(t,{appendHandlesTo:e.body,rtl:d.support.isRtl(e.element),rootElement:e.body});else if(v(t).is(q))e.elementResizing=new ne(t,{appendHandlesTo:e.body,rtl:d.support.isRtl(e.element),rootElement:e.body});if(e._showElementResizeHandlesProxy){e.unbind(S,e._showElementResizeHandlesProxy);e.bind(S,e._showElementResizeHandlesProxy)}}}});P.current=new P,o(t,{TableResizing:ie,ImageResizing:ne,ElementResizing:N,ElementResizingFactory:P})})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/table-wizard/table-wizard-command.min",["./../plugins/tables.min"],function(){var m=window.kendo.jQuery,g=void 0,s=window.kendo,l=s.ui.editor,e=l.EditorUtils,i=l.RangeUtils,v=l.Dom,t=e.registerTool,n=l.ToolTemplate,r=l.Command,a=new l.BlockFormatFinder([{tags:["table"]}]),o=new l.BlockFormatFinder([{tags:["td","th"]}]),d=/([a-z]+|%)$/i,u="col",f="row",c="colgroup",p="scope",b="col-index",_="th",k="td",h="thead",w="headers",y="table",x=r.extend({exec:function(){var e=this;var t=e.editor;var i=e.range=e.lockRange();var n=e._sourceTable=!e.options.insertNewTable?e._selectedTable(i):g;var r=e._selectedTableCells=n?e._selectedCells(i):g;var a={visible:false,messages:t.options.messages,closeCallback:e.onDialogClose.bind(e),table:e.parseTable(n,r),dialogOptions:t.options.dialogOptions,isRtl:s.support.isRtl(t.wrapper)};var o=new l.TableWizardDialog(a);o.open()},onDialogClose:function(e){var t=this;t.releaseRange(t.range);if(e)if(t.options.insertNewTable)t.insertTable(t.createNewTable(e));else t.updateTable(e,t._sourceTable,t._selectedTableCells)},releaseRange:function(e){var t=this;var i=t.editor.document;v.windowFromDocument(i).focus();r.fn.releaseRange.call(t,e)},insertTable:function(e){var t=this.range;t.insertNode(e);t.collapse(true);this.editor.selectRange(t);this._ensureFocusableAfterTable(e)},_ensureFocusableAfterTable:function(e){var t=m(e).parent().contents();var i=t.length-1;var n=t.get(i);while(n.nodeValue!==null&&(n.nodeValue===" "||n.nodeValue==="")){i-=1;n=t.get(i)}if(n===e)v.insertAfter(v.createEmptyNode(this.editor.document,"p"),e)},updateTable:function(e,t,i){var n=this;var r=m(t.rows).toArray();var a=e.tableProperties;var o=a.rows;var s=t.tHead;var l=n._lastInCollection;var d,u;while(i.length>1)i.pop();d=i.length?l(i).parentNode:l(r);n._deleteTableRows(r,r.length-o);if(r.length<o)n._addRows(d,o,r);v.reMapTableColumns(t,b);n._updateColumns(r,a.columns,i,d);n._updateTableProperties(t,a);u=e.cellProperties;if(i[0])v.attr(i[0],{id:u.id||null});(u.selectAllCells?m(r).children():m(i)).each(function(e,t){n._updateCellProperties(t,u)});n._updateCaption(t,a);if(s)n._updateHeadersWithThead(t,e);else n._updateHeadersNoThead(t,e);n._updateHeaderAssociates(t,a);v.clearTableMappings(t,b)},_isHeadingRow:function(e){return v.is(e.cells[0],_)&&v.is(e.parentNode,h)},_isHeadingCell:function(e){return v.is(e,_)},cellsWithHeadersAssociated:function(e){var t=m(e.rows).children();var i=[];var r=function(e){return i.indexOf(e)>-1};t.each(function(e,t){if(t.id&&v.is(t,_))i.push(t.id)});var n=t.filter(function(e,t){var i=t.getAttribute(w);var n;if(i&&!v.is(t,_)){n=i.split(" ");if(n&&n.length>0)return n.some(r)}return false});return!!n.length},_insertCells:function(e,t,i){i=isNaN(i)?-1:i;for(var n=0,r;n<e;n++){r=t.insertCell(i);r.innerHTML="&nbsp;"}},_deleteTableRows:function(e,t){for(var i=0,n,r;i<t;i++){n=e.pop();r=n.parentNode;r.removeChild(n);if(!r.rows.length)v.remove(r)}},createNewTable:function(e){var t=this;var i=t.editor.document;var n=e.tableProperties;var r=v.create(i,y);var a=0;var o;t._updateTableProperties(r,n);t._updateCaption(r,n);if(n.headerRows&&n.headerRows>0){o=r.createTHead();t._createTableRows(e,o,a,true);a+=n.headerRows}var s=r.createTBody();t._createTableRows(e,s,a,false);v.reMapTableColumns(r,b);if(n.cellsWithHeaders==="ids")v.associateWithIds(r);else if(n.cellsWithHeaders==="scope")t._addScopes(r,n.headerRows,n.headerColumns);v.clearTableMappings(r,b);return r},_createTableRows:function(e,t,i,n){var r=this;var a=e.tableProperties;var o=e.cellProperties;var s=a.columns;var l=n?a.headerRows:a.rows;var d=o.selectAllCells;var u=a.headerColumns;for(var f=i,c;f<l;f++){c=t.insertRow();for(var p=0,h;p<s;p++){if(n||u>p)h=document.createElement(_);else h=document.createElement(k);c.appendChild(h);h.innerHTML="&nbsp;";if(f===0&&p===0&&o.id)h.id=o.id;r._updateCellProperties(h,d||f===0&&p===0?o:{})}}},_addRows:function(e,t,i){var n=this;var r=m(e).index();var a=e.cells.length;var o=t-i.length;var s=e.parentNode;var l;while(o){l=s.insertRow(r+1);n._insertCells(a-l.cells.length,l);o--}},_updateColumns:function(e,r,t,i){var n=this;var a=n._lastInCollection;var o=a(e[0].cells);var s=Number(o.getAttribute(b))+o.colSpan;if(s>r)m(e).each(function(e,t){var i=a(t.cells);var n=Number(i.getAttribute(b))+i.colSpan;while(n>r){if(i.colSpan&&i.colSpan>1)i.colSpan-=1;else t.deleteCell(-1);i=a(t.cells);n=Number(i.getAttribute(b))+i.colSpan}});if(s<r){var l=m(a(t)||a(i.cells)).index();m(e).each(function(e,t){var i=a(t.cells);n._insertCells(r-Number(i.getAttribute(b))-i.colSpan,t,l+1)})}},_updateTableProperties:function(e,t){var i=this._getStylesData(t);v.attr(e,{cellSpacing:t.cellSpacing||null,cellPadding:t.cellPadding||null,className:t.className||null,id:t.id||null,summary:t.summary||null,style:i||null});m(e).addClass("k-table")},_updateCellProperties:function(e,t){var i=this._getStylesData(t);i.padding=t.cellPadding||null;i.margin=t.cellMargin||null;v.attr(e,{style:i||null,className:t.className||null})},_updateCaption:function(e,t){if(e.caption&&!t.captionContent)e.deleteCaption();else if(t.captionContent){var i=e.createCaption();i.innerHTML=t.captionContent;var n=this._getAlignmentData(t.captionAlignment);v.attr(i,{style:{textAlign:n.textAlign,verticalAlign:n.verticalAlign}})}},_updateHeadersNoThead:function(e,t){var i=this;var n=t.tableProperties;var r=e.rows;var a,o,s,l,d;for(l=0;l<r.length;l++){a=r[l];o=a.cells;for(d=0;d<o.length;d++){s=o[d];if(!i._isHeadingCell(s)&&(l<n.headerRows||n.headerColumns>s.getAttribute(b)))v.changeTag(s,_,false);else if(i._isHeadingCell(s)&&l>=n.headerRows&&n.headerColumns<=s.getAttribute(b))v.changeTag(s,k,false)}}},_updateHeadersWithThead:function(e,t){var i=this;var n=t.tableProperties;var r=e.tHead;var a=0;var o=e.tBodies[0];var s,l,d;if(!o)o=e.createTBody();if(n.headerRows&&n.headerRows>0){if(!r)r=e.createTHead();while(r.rows.length<n.headerRows)r.appendChild(o.rows[0]);while(r.rows.length>n.headerRows)o.appendChild(r.rows[0]);i._swapToHeaderCells(r)}else if(r){while(r.rows.length>0)o.appendChild(r.rows[r.rows.length-1]);e.deleteTHead()}while(o.rows.length>a){s=o.rows[a];for(d=0;d<s.cells.length;d++){l=s.cells[d];if(i._isHeadingCell(l)&&n.headerColumns<=l.getAttribute(b))v.changeTag(l,k,false);else if(!i._isHeadingCell(l)&&n.headerColumns>l.getAttribute(b))v.changeTag(l,_,false)}a+=1}},_updateHeaderAssociates:function(e,t){var i=this;if(t.cellsWithHeaders==="ids"){if(!i.cellsWithHeadersAssociated(e))i._removeScopes(e);v.associateWithIds(e)}else if(t.cellsWithHeaders==="scope"){if(i.cellsWithHeadersAssociated(e))i._removeAssociates(e);i._addScopes(e,t.headerRows,t.headerColumns)}else if(i.cellsWithHeadersAssociated(e))i._removeAssociates(e);else i._removeScopes(e)},_addScopes:function(e,t,i){var n=e.rows;var r,a,o,s;for(r=0;r<n.length;r++){o=n[r];for(a=0;a<o.cells.length;a++){s=o.cells[a];if(r<t)s.setAttribute(p,u);else if(s.getAttribute(b)<i)s.setAttribute(p,f)}}},_removeScopes:function(e){m(e).find(_).removeAttr(p);m(e).find(u).remove();m(e).find(c).remove()},_removeAssociates:function(e){m(e).find("th, td").removeAttr("id headers")},_swapToHeaderCells:function(e){var t=m(e).find("td");var i=function(e,t){v.changeTag(t,_,false)};t.each(i)},_getStylesData:function(e){var t=this._getAlignmentData(e.alignment);var i="wrapText"in e?e.wrapText?"":"nowrap":null;return{width:e.width?e.width+e.widthUnit:null,height:e.height?e.height+e.heightUnit:null,textAlign:t.textAlign,verticalAlign:t.verticalAlign,backgroundColor:e.bgColor||"",borderWidth:e.borderWidth,borderStyle:e.borderStyle,borderColor:e.borderColor||"",borderCollapse:e.collapseBorders?"collapse":null,whiteSpace:i}},_getAlignmentData:function(e){var t="";var i=t;if(e)if(e.indexOf(" ")!=-1){var n=e.split(" ");t=n[0];i=n[1]}else t=e;return{textAlign:t,verticalAlign:i}},parseTable:function(e,t){if(!e)return{tableProperties:{},selectedCells:[]};var i=this;var n=e.style;var r=e.rows;var a=e.caption;var o=m(a?a.cloneNode(true):g);o.find(".k-marker").remove();var s=e.className;s=s.replace(/^k-table\s|\sk-table$/,"");s=s.replace(/\sk-table\s/," ");s=s.replace(/^k-table$/,"");var l=i._getAlignment(e,true);var d=a?i._getAlignment(a):g;var u=v._getNumberOfHeaderRows(e);var f;if(i.cellsWithHeadersAssociated(e))f="ids";else if(m(e).find("th[scope]").length>0)f="scope";else f="none";v.reMapTableColumns(e,b);var c=v._getNumberOfColumns(e);var p=v._getNumberOfHeaderColumns(e,u);v.clearTableMappings(e,b);var h={tableProperties:{width:n.width||e.width?parseFloat(n.width||e.width):null,height:n.height||e.height?parseFloat(n.height||e.height):null,columns:c,rows:r.length,widthUnit:i._getUnit(n.width),heightUnit:i._getUnit(n.height),cellSpacing:e.cellSpacing,cellPadding:e.cellPadding,alignment:l.textAlign,bgColor:n.backgroundColor||e.bgColor,className:s,id:e.id,borderWidth:n.borderWidth||e.border,borderColor:n.borderColor,borderStyle:n.borderStyle||"",collapseBorders:!!n.borderCollapse,summary:e.summary,captionContent:a?o.html():"",captionAlignment:a&&d.textAlign?d.textAlign+" "+d.verticalAlign:"",headerRows:u,headerColumns:p,cellsWithHeaders:f},selectedCells:[]};h.rows=i.parseTableRows(r,t,h);return h},parseTableRows:function(e,t,i){var n=this;var r=[],a,o,s,l,d;for(var u=0;u<e.length;u++){a=e[u];o={cells:[]};s=a.cells;r.push(o);for(var f=0;f<s.length;f++){l=s[f];d=n.parseCell(l);if(m.inArray(l,t)!=-1)i.selectedCells.push(d);o.cells.push(d)}}return r},parseCell:function(e){var t=this;var i=e.style;var n=t._getAlignment(e);n=n.textAlign?n.textAlign+" "+n.verticalAlign:"";var r={width:i.width||e.width?parseFloat(i.width||e.width):null,height:i.height||e.height?parseFloat(i.height||e.height):null,widthUnit:t._getUnit(i.width),heightUnit:t._getUnit(i.height),cellMargin:i.margin,cellPadding:i.padding,alignment:n,bgColor:i.backgroundColor||e.bgColor,className:e.className,id:e.id,borderWidth:i.borderWidth||e.border,borderColor:i.borderColor,borderStyle:i.borderStyle,wrapText:i.whiteSpace!="nowrap"};return r},_getAlignment:function(e,t){var i=e.style;var n=i.textAlign||e.align||"";if(t)return{textAlign:n};var r=i.verticalAlign||e.vAlign||"";if(n&&r)return{textAlign:n,verticalAlign:r};if(!n&&r)return{textAlign:"left",verticalAlign:r};if(n&&!r)return{textAlign:n,verticalAlign:"top"};return{textAlign:"",verticalAlign:""}},_getUnit:function(e){var t=(e||"").match(d);return t?t[0]:"px"},_selectedTable:function(e){var t=v.filterBy(i.nodes(e),v.htmlIndentSpace,true);return a.findSuitable(t)[0]},_selectedCells:function(e){var t=v.filterBy(i.nodes(e),v.htmlIndentSpace,true);return o.findSuitable(t)},_lastInCollection:function(e){return e[e.length-1]}}),C=l.Tool.extend({command:function(e){e.insertNewTable=this.options.insertNewTable;return new x(e)}}),T=C.extend({update:function(e,t){var i=!a.isFormatted(t);if(i===true){e.parent().addClass("k-hidden k-disabled");e.attr("disabled","disabled");e.addClass("k-disabled")}else{e.parent().removeClass("k-hidden k-disabled");e.prop("disabled",false);e.removeClass("k-disabled")}}});s.ui.editor.TableWizardTool=C,t("tableWizard",new T({command:s.ui.editor.TableWizardCommand=x,insertNewTable:false,template:new n({template:e.buttonTemplate,title:"Table Wizard"})}))})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("editor/table-wizard/table-wizard-dialog.min",["./table-wizard-command.min","kendo.tabstrip.min"],function(){var c=window.kendo.jQuery,e=void 0,p=window.kendo,o={format:"0",min:0},l=["px","em"],d=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"],u=4,a={dataSource:[{className:"k-icon k-i-table-align-middle-left",value:"left"},{className:"k-icon k-i-table-align-middle-center",value:"center"},{className:"k-icon k-i-table-align-middle-right",value:"right"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},s={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-middle-left",value:"left middle"},{className:"k-icon k-i-table-align-middle-center",value:"center middle"},{className:"k-icon k-i-table-align-middle-right",value:"right middle"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},f={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"},t='<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div id="k-table-wizard-tabs" class="k-root-tabs">'+"<ul>"+'<li class="k-state-active">#= messages.tableTab #</li>'+"<li>#= messages.cellTab #</li>"+"<li>#= messages.accessibilityTab #</li>"+"</ul>"+'<div id="k-table-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-width" />'+'<input id="k-editor-table-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-height" />'+'<input id="k-editor-table-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-columns">#= messages.columns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-rows">#= messages.rows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-spacing" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-css-class" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-id" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-border-width" />'+'<input id="k-editor-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label>'+"</div>"+"</div>"+'<div id="k-cell-properties">'+'<div class="k-edit-field">'+'<input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-width" />'+'<input id="k-editor-cell-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-height" />'+'<input id="k-editor-cell-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-margin">#= messages.cellMargin #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-margin" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cells-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cells-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-cell-css-class" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-cell-id" class="k-input-inner" type="text" /></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-border-width" />'+'<input id="k-editor-cell-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-wrap-text" type="checkbox" class="k-checkbox k-checkbox-md k-rounded-md" />'+'<label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label>'+"</div>"+"</div>"+'<div id="k-accessibility-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-header-rows">#= messages.headerRows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-header-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-header-columns">#= messages.headerColumns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-header-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-caption">#= messages.caption #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-textbox k-input k-input-md k-rounded-md k-input-solid"><input id="k-editor-table-caption" class="k-input-inner" type="text"/></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-accessibility-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-summary">#= messages.summary #</label>'+"</div>"+'<div class="k-edit-field">'+'<span class="k-input k-textarea k-input-solid k-input-md k-rounded-md"><textarea id="k-editor-accessibility-summary" rows="5" class="k-input-inner k-editor-accessibility-summary" placeholder="#= messages.tableSummaryPlaceholder #"></textarea></span>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cells-headers">#= messages.associateCellsWithHeaders #</label>'+"</div>"+'<div class="k-edit-field">'+'<select id="k-editor-cells-headers">'+'<option value="none">#= messages.associateNone #</option>'+'<option value="scope">#= messages.associateScope #</option>'+'<option value="ids">#= messages.associateIds #</option>'+"</select>"+"</div>"+"</div>"+"</div>"+'<div class="k-edit-buttons">'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-dialog-ok"><span class="k-button-text">#= messages.dialogOk #</span></button>'+'<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-dialog-close"><span class="k-button-text">#= messages.dialogCancel #</span></button>'+"</div>"+"</div>"+"</div>",i=p.Class.extend({init:function(e){this.options=e},open:function(){var t=this,i=t.options,e=i.dialogOptions,n=i.table,r,a=i.messages,o=p.support.browser.msie;function s(e){e.preventDefault();t.destroy();r.destroy()}function l(e){t.collectDialogValues(n);s(e);if(t.change)t.change();i.closeCallback(n)}function d(e){s(e);i.closeCallback()}e.close=d;e.title=a.tableWizard;e.visible=i.visible;r=c(t._dialogTemplate(a)).appendTo(document.body).kendoWindow(e).closest(".k-window").toggleClass("k-rtl",i.isRtl).end().find(".k-dialog-ok").on("click",l).end().find(".k-dialog-close").on("click",d).end().data("kendoWindow");var u=r.element;t._initTabStripComponent(u);t._initTableViewComponents(u,n);t._initCellViewComponents(u,n);t._initAccessibilityViewComponents(u,n);r.center();r.open();if(o){var f=u.closest(".k-window").height();u.css("max-height",f)}},_initTabStripComponent:function(e){var t=this.components={};t.tabStrip=e.find("#k-table-wizard-tabs").kendoTabStrip({animation:false}).data("kendoTabStrip")},collectDialogValues:function(){var e=this;var t=e.options.table;e._collectTableViewValues(t);e._collectCellViewValues(t);e._collectAccessibilityViewValues(t)},_collectTableViewValues:function(e){var t=this.components.tableView;var i=e.tableProperties;i.width=t.width.value();i.widthUnit=t.widthUnit.value();i.height=t.height.value();i.columns=t.columns.value();i.rows=t.rows.value();i.heightUnit=t.heightUnit.value();i.cellSpacing=t.cellSpacing.value();i.cellPadding=t.cellPadding.value();i.alignment=t.alignment.value();i.bgColor=t.bgColor.value();i.className=t.className.value;i.id=t.id.value;i.borderWidth=t.borderWidth.value();i.borderColor=t.borderColor.value();i.borderStyle=t.borderStyle.value();i.collapseBorders=t.collapseBorders.checked},_collectCellViewValues:function(e){var t=e.cellProperties={};var i=this.components.cellView;t.selectAllCells=i.selectAllCells.checked;t.width=i.width.value();t.widthUnit=i.widthUnit.value();t.height=i.height.value();t.heightUnit=i.heightUnit.value();t.cellMargin=i.cellMargin.value();t.cellPadding=i.cellPadding.value();t.alignment=i.alignment.value();t.bgColor=i.bgColor.value();t.className=i.className.value;t.id=i.id.value;t.borderWidth=i.borderWidth.value();t.borderColor=i.borderColor.value();t.borderStyle=i.borderStyle.value();t.wrapText=i.wrapText.checked;if(!t.width){t.selectAllCells=true;t.width=100/e.tableProperties.columns;t.widthUnit="%"}},_collectAccessibilityViewValues:function(e){var t=e.tableProperties;var i=this.components.accessibilityView;t.captionContent=i.captionContent.value;t.captionAlignment=i.captionAlignment.value();t.summary=i.summary.value;t.cellsWithHeaders=i.cellsWithHeaders.value();t.headerRows=i.headerRows.value();t.headerColumns=i.headerColumns.value()},_addUnit:function(e,t){if(t&&c.inArray(t,e)==-1)e.push(t)},_initTableViewComponents:function(e,t){var a=this;var i=a.components;var n=i.tableView={};var r=t.tableProperties=t.tableProperties||{};r.borderStyle=r.borderStyle||"";var o=function(e){var t=a.components.accessibilityView;var i=t.headerColumns;var n=i.value();var r=e.sender.value();if(r<n)i.value(r);i.max(r)};var s=function(e){var t=a.components.accessibilityView;var i=t.headerRows;var n=i.value();var r=e.sender.value();if(r<n)i.value(r);i.max(r)};a._addUnit(l,r.widthUnit);a._addUnit(l,r.heightUnit);a._initNumericTextbox(e.find("#k-editor-table-width"),"width",r,n);a._initNumericTextbox(e.find("#k-editor-table-height"),"height",r,n);a._initNumericTextbox(e.find("#k-editor-table-columns"),"columns",r,n,{min:1,value:u,change:o});a._initNumericTextbox(e.find("#k-editor-table-rows"),"rows",r,n,{min:1,value:u,change:s});a._initDropDownList(e.find("#k-editor-table-width-type"),"widthUnit",r,n,l);a._initDropDownList(e.find("#k-editor-table-height-type"),"heightUnit",r,n,l);a._initNumericTextbox(e.find("#k-editor-table-cell-spacing"),"cellSpacing",r,n);a._initNumericTextbox(e.find("#k-editor-table-cell-padding"),"cellPadding",r,n);a._initTableAlignmentDropDown(e.find("#k-editor-table-alignment"),r);a._initColorPicker(e.find("#k-editor-table-bg"),"bgColor",r,n);a._initInput(e.find("#k-editor-css-class"),"className",r,n);a._initInput(e.find("#k-editor-id"),"id",r,n);a._initNumericTextbox(e.find("#k-editor-border-width"),"borderWidth",r,n);a._initColorPicker(e.find("#k-editor-border-color"),"borderColor",r,n);a._initBorderStyleDropDown(e.find("#k-editor-border-style"),"borderStyle",r,n,d);a._initCheckbox(e.find("#k-editor-collapse-borders"),"collapseBorders",r,n)},_initCellViewComponents:function(e,t){var i=this.components;var n=i.cellView={};t.selectedCells=t.selectedCells=t.selectedCells||[];var r=t.selectedCells[0]||{borderStyle:"",wrapText:true};this._addUnit(l,r.widthUnit);this._addUnit(l,r.heightUnit);this._initCheckbox(e.find("#k-editor-selectAllCells"),"selectAllCells",t.tableProperties,n);this._initNumericTextbox(e.find("#k-editor-cell-width"),"width",r,n);this._initNumericTextbox(e.find("#k-editor-cell-height"),"height",r,n);this._initDropDownList(e.find("#k-editor-cell-width-type"),"widthUnit",r,n,l);this._initDropDownList(e.find("#k-editor-cell-height-type"),"heightUnit",r,n,l);this._initNumericTextbox(e.find("#k-editor-table-cell-margin"),"cellMargin",r,n);this._initNumericTextbox(e.find("#k-editor-table-cells-padding"),"cellPadding",r,n);this._initCellAlignmentDropDown(e.find("#k-editor-cell-alignment"),r);this._initColorPicker(e.find("#k-editor-cell-bg"),"bgColor",r,n);this._initInput(e.find("#k-editor-cell-css-class"),"className",r,n);this._initInput(e.find("#k-editor-cell-id"),"id",r,n);this._initNumericTextbox(e.find("#k-editor-cell-border-width"),"borderWidth",r,n);this._initColorPicker(e.find("#k-editor-cell-border-color"),"borderColor",r,n);this._initBorderStyleDropDown(e.find("#k-editor-cell-border-style"),"borderStyle",r,n,d);this._initCheckbox(e.find("#k-editor-wrap-text"),"wrapText",r,n)},_initAccessibilityViewComponents:function(e,t){var i=this.components;var n=i.accessibilityView={};var r=t.tableProperties;this._initInput(e.find("#k-editor-table-caption"),"captionContent",r,n);this._initAccessibilityAlignmentDropDown(e.find("#k-editor-accessibility-alignment"),r);this._initInput(e.find("#k-editor-accessibility-summary"),"summary",r,n);this._initAssociationDropDown(e.find("#k-editor-cells-headers"),"cellsWithHeaders",{valuePrimitive:true},r,n);this._initNumericTextbox(e.find("#k-editor-table-header-rows"),"headerRows",r,n,{max:r.rows||u});this._initNumericTextbox(e.find("#k-editor-table-header-columns"),"headerColumns",r,n,{max:r.columns||u})},_initNumericTextbox:function(e,t,i,n,r){var a=n[t]=e.kendoNumericTextBox(r?c.extend({},o,r):o).data("kendoNumericTextBox");if(t in i)a.value(parseInt(i[t],10))},_initDropDownList:function(e,t,i,n,r){var a=n[t]=e.kendoDropDownList({dataSource:r}).data("kendoDropDownList");this._setComponentValue(a,i,t)},_initBorderStyleDropDown:function(e,t,i,n,r){var a=n[t]=e.kendoDropDownList({dataSource:r,optionLabel:this.options.messages.borderNone}).data("kendoDropDownList");this._setComponentValue(a,i,t)},_initTableAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.tableView;var r=a.dataSource;r[0].tooltip=i.alignLeft;r[1].tooltip=i.alignCenter;r[2].tooltip=i.alignRight;r[3].tooltip=i.alignRemove;this._initAlignmentDropDown(e,a,"alignment",t,n)},_initCellAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.cellView;var r=s.dataSource;r[0].tooltip=i.alignLeftTop;r[1].tooltip=i.alignCenterTop;r[2].tooltip=i.alignRightTop;r[3].tooltip=i.alignLeftMiddle;r[4].tooltip=i.alignCenterMiddle;r[5].tooltip=i.alignRightMiddle;r[6].tooltip=i.alignLeftBottom;r[7].tooltip=i.alignCenterBottom;r[8].tooltip=i.alignRightBottom;r[9].tooltip=i.alignRemove;this._initAlignmentDropDown(e,s,"alignment",t,n)},_initAccessibilityAlignmentDropDown:function(e,t){var i=this.options.messages;var n=this.components.accessibilityView;var r=f.dataSource;r[0].tooltip=i.alignLeftTop;r[1].tooltip=i.alignCenterTop;r[2].tooltip=i.alignRightTop;r[3].tooltip=i.alignLeftBottom;r[4].tooltip=i.alignCenterBottom;r[5].tooltip=i.alignRightBottom;r[6].tooltip=i.alignRemove;this._initAlignmentDropDown(e,f,"captionAlignment",t,n)},_initAlignmentDropDown:function(e,t,i,n,r){var a=r[i]=e.kendoDropDownList(t).data("kendoDropDownList");a.list.addClass("k-align").css("width","110px");this._setComponentValue(a,n,i)},_initAssociationDropDown:function(e,t,i,n,r){var a=r[t]=e.kendoDropDownList(i).data("kendoDropDownList");this._setComponentValue(a,n,t)},_setComponentValue:function(e,t,i){if(i in t)e.value(t[i])},_initColorPicker:function(e,t,i,n){var r=n[t]=e.kendoColorPicker({buttons:false,clearButton:true}).data("kendoColorPicker");if(i[t])r.value(i[t])},_initInput:function(e,t,i,n){var r=n[t]=e.get(0);if(t in i)r.value=i[t]},_initCheckbox:function(e,t,i,n){var r=n[t]=e.get(0);if(t in i)r.checked=i[t]},destroy:function(){this._destroyComponents(this.components.tableView);this._destroyComponents(this.components.cellView);this._destroyComponents(this.components.accessibilityView);this._destroyComponents(this.components);delete this.components},_destroyComponents:function(e){for(var t in e){if(e[t].destroy)e[t].destroy();delete e[t]}},_dialogTemplate:function(e){return p.template(t)({messages:e})}});p.ui.editor.TableWizardDialog=i})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.editor.min",["kendo.combobox.min","kendo.dropdownlist.min","kendo.resizable.min","kendo.window.min","kendo.colorpicker.min","kendo.imagebrowser.min","kendo.numerictextbox.min","./util/undoredostack.min","./editor/main.min","./editor/dom.min","./editor/serializer.min","./editor/range.min","./editor/command.min","./editor/components.min","./editor/toolbar.min","./editor/immutables.min","./editor/plugins/viewhtml.min","./editor/plugins/link.min","./editor/plugins/lists.min","./editor/plugins/formatting.min","./editor/plugins/image.min","./editor/plugins/import.min","./editor/plugins/insert.min","./editor/plugins/export.min","./editor/plugins/indent.min","./editor/plugins/linebreak.min","./editor/plugins/format.min","./editor/plugins/inlineformat.min","./editor/plugins/formatblock.min","./editor/plugins/file.min","./editor/plugins/tables.min","./editor/plugins/clipboard.min","./editor/plugins/keyboard.min","./editor/plugins/exportpdf.min","./editor/plugins/print.min","./editor/plugins/formatpainter.min","./editor/resizing/column-resizing.min","./editor/resizing/row-resizing.min","./editor/resizing/element-resizing.min","./editor/resizing/element-resize-handle.min","./editor/table-wizard/table-wizard-command.min","./editor/table-wizard/table-wizard-dialog.min"],function(){var e={id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]},{id:"editor-resizable",name:"Resize handle",description:"Support for resizing the content area via a resize handle",depends:["resizable"]},{id:"editor-tablewizard",name:"Table wizard dialog",description:"Support for table properties configuration",depends:["tabstrip","button","numerictextbox"]},{id:"editor-pdf-export",name:"PDF export",description:"Export Editor content as PDF",depends:["pdf","drawing"]}]};return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()}),function(define){define("kendo.custom.min",["./kendo.editor.min"],function(){"bundle all";return window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.custom.min.js.map
